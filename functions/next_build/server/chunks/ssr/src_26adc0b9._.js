module.exports=[9520,a=>{"use strict";var b=a.i(70349);let c=[{key:b.SITE_ASSET_KEYS.logos.headerLight,label:"Logo header (claro)",description:"Versão clara do logo do header",page:"global",asset_type:"image",subPath:"logos"},{key:b.SITE_ASSET_KEYS.logos.headerDark,label:"Logo header (escuro)",description:"Versão escura do logo do header",page:"global",asset_type:"image",subPath:"logos"},{key:b.SITE_ASSET_KEYS.logos.faviconLight,label:"Favicon claro",description:"Favicon claro utilizado na aba",page:"global",asset_type:"image",subPath:"logos"},{key:b.SITE_ASSET_KEYS.logos.faviconDark,label:"Favicon escuro",description:"Favicon escuro utilizado na aba",page:"global",asset_type:"image",subPath:"logos"}],d=[{key:b.SITE_ASSET_KEYS.fonts.display,label:"--font-display",description:"Fonte principal de destaque",page:"global",asset_type:"font",subPath:"fonts"},{key:b.SITE_ASSET_KEYS.fonts.h1,label:"--font-h1",description:"Fonte dos títulos h1",page:"global",asset_type:"font",subPath:"fonts"},{key:b.SITE_ASSET_KEYS.fonts.h2,label:"--font-h2",description:"Fonte dos títulos h2",page:"global",asset_type:"font",subPath:"fonts"},{key:b.SITE_ASSET_KEYS.fonts.h3,label:"--font-h3",description:"Fonte dos títulos h3",page:"global",asset_type:"font",subPath:"fonts"},{key:b.SITE_ASSET_KEYS.fonts.body,label:"--font-body",description:"Fonte do corpo de texto",page:"global",asset_type:"font",subPath:"fonts"},{key:b.SITE_ASSET_KEYS.fonts.light,label:"--font-light",description:"Fonte auxiliar leve",page:"global",asset_type:"font",subPath:"fonts"}],e=b.SITE_ASSET_KEYS.clients.strips.map((a,b)=>({key:a,label:`Logo cliente ${b+1}`,description:"Logo para a faixa de clientes",page:"clients",asset_type:"image",subPath:"clients",sort_order:b+1})),f=[{key:b.SITE_ASSET_KEYS.heroVideos.aboutDesktop,label:"Vídeo hero Sobre (desktop)",description:"Vídeo da hero da página Sobre (desktop)",page:"about",asset_type:"video",subPath:"hero"},{key:b.SITE_ASSET_KEYS.heroVideos.aboutMobile,label:"Vídeo hero Sobre (mobile)",description:"Versão mobile da hero sobre",page:"about",asset_type:"video",subPath:"hero"}],g=b.SITE_ASSET_KEYS.about.originImages.map((a,b)=>({key:a,label:`Origem imagem ${b+1}`,description:"Imagem da seção Origem",page:"about",asset_type:"image",subPath:"origin",sort_order:b+1})),h={key:b.SITE_ASSET_KEYS.heroVideos.method,label:"Vídeo método",description:"Vídeo da seção Método",page:"about",asset_type:"video",subPath:"method"},i=[{key:b.SITE_ASSET_KEYS.about.beliefs.ghostModel,label:"Ghost Model (3D)",description:"Modelo 3D GLB exubido na seção Crenças",page:"about",asset_type:"file",subPath:"beliefs"},{key:b.SITE_ASSET_KEYS.about.beliefs.skillsVideo,label:"Vídeo Skills (Desktop)",description:"Vídeo de background da seção Crenças (versão pesada)",page:"about",asset_type:"video",subPath:"beliefs"},{key:b.SITE_ASSET_KEYS.about.beliefs.skillsVideoMobile,label:"Vídeo Skills (Mobile)",description:"Vídeo de background da seção Crenças (versão leve)",page:"about",asset_type:"video",subPath:"beliefs"}],j=[{key:b.SITE_ASSET_KEYS.heroVideos.portfolioDesktop,label:"Vídeo hero Portfólio (desktop)",description:"Hero do portfólio desktop",page:"portfolio",asset_type:"video",subPath:"hero"},{key:b.SITE_ASSET_KEYS.heroVideos.portfolioMobile,label:"Vídeo hero Portfólio (mobile)",description:"Hero do portfólio mobile",page:"portfolio",asset_type:"video",subPath:"hero"}],k=[{label:"Global • Logos",roles:c},{label:"Global • Fonts",roles:d},{label:"Home • Hero",roles:[{key:b.SITE_ASSET_KEYS.heroVideos.homeManifesto,label:"Vídeo manifesto (home)",description:"Vídeo principal da hero da Home",page:"home",asset_type:"video"}]},{label:"Clients • Logos",roles:e},{label:"Sobre • Hero vídeos",roles:f},{label:"Sobre • Origem",roles:g},{label:"Sobre • Método & Curriculum",roles:[h,{key:"about.curriculum_pdf",label:"Currículo para download",description:"PDF usado na seção AboutClosing",page:"about",asset_type:"file",subPath:"curriculum"}]},{label:"Sobre • Crenças",roles:i},{label:"Portfólio • Hero vídeos",roles:j},{label:"Portfólio • Projetos",roles:[{key:b.SITE_ASSET_KEYS.projects.campaign.cover,label:"Campaign • Cover",description:"Capa do projeto Campaign",page:"projects",asset_type:"image",subPath:"campaign"},{key:b.SITE_ASSET_KEYS.projects.campaign.hero,label:"Campaign • Hero",description:"Hero do projeto Campaign",page:"projects",asset_type:"image",subPath:"campaign"},{key:b.SITE_ASSET_KEYS.projects.campaign.thumb,label:"Campaign • Thumb",description:"Thumbnail do projeto Campaign",page:"projects",asset_type:"image",subPath:"campaign"},{key:b.SITE_ASSET_KEYS.projects.keyVision.cover,label:"Key Vision • Cover",description:"Capa do projeto Key Vision",page:"projects",asset_type:"image",subPath:"key-vision"},{key:b.SITE_ASSET_KEYS.projects.keyVision.hero,label:"Key Vision • Hero",description:"Hero do projeto Key Vision",page:"projects",asset_type:"image",subPath:"key-vision"},{key:b.SITE_ASSET_KEYS.projects.keyVision.thumb,label:"Key Vision • Thumb",description:"Thumbnail do projeto Key Vision",page:"projects",asset_type:"image",subPath:"key-vision"},{key:b.SITE_ASSET_KEYS.projects.brandVideo.hero,label:"Brand Video • Hero",description:"Hero do projeto Brand Video",page:"projects",asset_type:"image",subPath:"brand-video"},{key:b.SITE_ASSET_KEYS.projects.brandVideo.thumb,label:"Brand Video • Thumb",description:"Thumbnail do projeto Brand Video",page:"projects",asset_type:"video",subPath:"brand-video"},{key:b.SITE_ASSET_KEYS.projects.advertisingVideo.hero,label:"Advertising Video • Hero",description:"Hero do projeto Advertising Video",page:"projects",asset_type:"image",subPath:"advertising-video"},{key:b.SITE_ASSET_KEYS.projects.advertisingVideo.thumb,label:"Advertising Video • Thumb",description:"Thumbnail do projeto Advertising Video",page:"projects",asset_type:"image",subPath:"advertising-video"},{key:b.SITE_ASSET_KEYS.projects.creativeDirection.hero,label:"Creative Direction • Hero",description:"Hero do projeto Creative Direction",page:"projects",asset_type:"image",subPath:"creative-direction"},{key:b.SITE_ASSET_KEYS.projects.creativeDirection.thumb,label:"Creative Direction • Thumb",description:"Thumbnail do projeto Creative Direction",page:"projects",asset_type:"image",subPath:"creative-direction"}]}],l=new Map(k.flatMap(a=>a.roles).map(a=>[a.key,a]));function m(a){return l.get(a)}a.s(["getSiteAssetRoleByKey",()=>m,"siteAssetRoleGroups",0,k,"siteAssetRoleMap",0,l])},66896,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(5050);let f=(0,e.createServerReference)("407e47acd2385488b90e564e7c8c2d44d88ef6579c",e.callServer,void 0,e.findSourceMapURL,"upsertAsset");var g=a.i(9520),h=a.i(89433);function i({preset:a}){let e=(0,d.useRouter)(),[i,j]=(0,c.useState)(a?.key??""),[k,l]=(0,c.useState)(a?.page??"global"),[m,n]=(0,c.useState)(a?.asset_type??"image"),[o,p]=(0,c.useState)(a?.description??""),[q,r]=(0,c.useState)(a?.subPath??""),[s,t]=(0,c.useState)(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useTransition)();return(0,b.jsxs)("form",{className:"space-y-3",onSubmit:a=>{a.preventDefault(),x(null),z(async()=>{try{let a=(0,g.getSiteAssetRoleByKey)(i),b=null;u&&(b=await (0,h.uploadSiteAsset)({file:u,key:i,page:k,subPath:a?.subPath??q,bucket:"site-assets"})),await f({key:i,page:k,asset_type:m,description:o||a?.description||null,sort_order:s??null,file_path:b,bucket:"site-assets"}),e.refresh(),v(null)}catch(a){x(a instanceof Error?a.message:"Falha ao salvar")}})},children:[(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Key"}),(0,b.jsx)("input",{name:"asset-key",required:!0,value:i,onChange:a=>j(a.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"home.hero_background"})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Página"}),(0,b.jsxs)("select",{name:"asset-page",value:k,onChange:a=>l(a.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",children:[(0,b.jsx)("option",{value:"global",children:"Global"}),(0,b.jsx)("option",{value:"home",children:"Home"}),(0,b.jsx)("option",{value:"portfolio",children:"Portfolio"}),(0,b.jsx)("option",{value:"about",children:"About"}),(0,b.jsx)("option",{value:"clients",children:"Clients"})]})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Tipo"}),(0,b.jsxs)("select",{name:"asset-type",value:m,onChange:a=>n(a.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",children:[(0,b.jsx)("option",{value:"image",children:"Imagem"}),(0,b.jsx)("option",{value:"video",children:"Vídeo"}),(0,b.jsx)("option",{value:"file",children:"Arquivo"}),(0,b.jsx)("option",{value:"font",children:"Fonte"})]})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Subpasta (opcional)"}),(0,b.jsx)("input",{name:"asset-subpath",value:q,onChange:a=>r(a.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"logos, fonts, hero"})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Ordem"}),(0,b.jsx)("input",{type:"number",value:s??"",onChange:a=>t(a.target.value?Number(a.target.value):void 0),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"10"})]})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Descrição"}),(0,b.jsx)("textarea",{value:o,onChange:a=>p(a.target.value),rows:3,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"Ex.: Logo principal do header"})]}),(0,b.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm text-slate-300",children:"Arquivo (opcional)"}),(0,b.jsx)("input",{type:"file",accept:"image/*,video/*,.ttf,.otf,.woff,.woff2,.pdf,.doc,.docx",onChange:a=>v(a.target.files?.[0]??null)})]}),w&&(0,b.jsx)("div",{className:"text-sm text-red-400",children:w}),(0,b.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-50",disabled:y,children:y?"Salvando...":"Salvar asset"})]})}a.s(["AssetForm",()=>i],66896)},88965,a=>{"use strict";var b=a.i(87924),c=a.i(70349);let d=[{key:c.SITE_ASSET_KEYS.logos.headerLight,description:"Logo principal do header (claro)",change:"Atualize o arquivo (SVG recomendado) e valide o cabeçalho com useSiteAssetUrl.",page:"global"},{key:c.SITE_ASSET_KEYS.logos.headerDark,description:"Logo principal do header (escuro)",change:"Mantenha dimensões iguais ao claro para evitar saltos.",page:"global"},{key:c.SITE_ASSET_KEYS.logos.faviconLight,description:"Favicon claro usado em <head>",change:"SVG/ICO com fundo transparente; mantenha metadata/JsonLd alinhado.",page:"global"},{key:c.SITE_ASSET_KEYS.logos.faviconDark,description:"Favicon escuro usado em <head>",change:"Mesmo tamanho do claro para consistência.",page:"global"},{key:c.SITE_ASSET_KEYS.fonts.display,description:"Fonte display principal (--font-display)",change:"Atualize e revise tailwind/theme para usar a nova família.",page:"global"},{key:c.SITE_ASSET_KEYS.fonts.body,description:"Fonte do corpo (--font-body)",change:"Confirme fallback stack e pesos no tema tipográfico.",page:"global"},{key:c.SITE_ASSET_KEYS.heroVideos.homeManifesto,description:"Vídeo do manifesto na hero da Home",change:"Substitua o MP4; gere poster e versão -720p mantendo o mesmo prefixo.",page:"home"},{key:c.SITE_ASSET_KEYS.heroVideos.aboutDesktop,description:"Vídeo da hero Sobre (desktop)",change:"Sincronize com a versão mobile para evitar discrepâncias.",page:"about"},{key:c.SITE_ASSET_KEYS.heroVideos.aboutMobile,description:"Vídeo da hero Sobre (mobile)",change:"O hook AboutHero troca automaticamente entre desktop/mobile.",page:"about"},{key:c.SITE_ASSET_KEYS.heroVideos.method,description:"Vídeo da sessão Método",change:"Use o mesmo prefixo para versões alternativas se necessário.",page:"about"},...c.SITE_ASSET_KEYS.about.originImages.map((a,b)=>({key:a,description:`Imagem ${b+1} da sess\xe3o Origem`,change:"Siga o padrão about.origin_image.N para cada card.",page:"about"})),{key:c.SITE_ASSET_KEYS.heroVideos.portfolioDesktop,description:"Vídeo hero do portfólio (desktop)",change:"Atualize em par com a versão mobile.",page:"portfolio"},{key:c.SITE_ASSET_KEYS.heroVideos.portfolioMobile,description:"Vídeo hero do portfólio (mobile)",change:"Sincronize duração e cor com a versão desktop.",page:"portfolio"},{key:"clients.strip.*",description:"Strip de logos da sessão de clients",change:"Use clients.strip.N (1-12) e carregue via useSiteAssetsByPrefix.",page:"clients"},{key:"about.curriculum_pdf",description:"Currículo da seção About",change:"Envie PDF atualizado; mantenha nome consistente.",page:"about"}];function e(){return(0,b.jsxs)("div",{className:"rounded-xl border border-white/10 bg-slate-900/40 p-4 space-y-3",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Guia de keys"}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Use essas keys no Admin para garantir que a sessão pública leia o asset correto. Ajuste o campo “Subpasta” para manter o storage organizado."}),(0,b.jsx)("div",{className:"grid gap-2 text-xs",children:d.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-white/10 bg-slate-900/80 p-3",children:[(0,b.jsx)("div",{className:"text-[11px] text-slate-300",children:a.page}),(0,b.jsx)("div",{className:"text-sm font-semibold text-white",children:a.key}),(0,b.jsx)("p",{className:"text-[11px] text-slate-400",children:a.description}),(0,b.jsx)("p",{className:"text-[11px] text-blue-300 mt-1",children:a.change})]},a.key))})]})}a.s(["AssetGuide",()=>e])},23644,a=>{"use strict";var b=a.i(87924),c=a.i(9520);function d(){return(0,b.jsxs)("div",{className:"rounded-xl border border-white/10 bg-slate-900/60 p-4 space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold",children:"Presets rápidos"}),(0,b.jsx)("div",{className:"space-y-4",children:c.siteAssetRoleGroups.map(a=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:a.label}),(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:a.roles.map(a=>(0,b.jsx)(e,{preset:a},a.key))})]},a.label))}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Clique para preencher o formulário ao lado com a key, página e tipo recomendados."})]})}function e({preset:a}){return(0,b.jsxs)("button",{type:"button",onClick:()=>{},className:"flex w-full flex-col items-start rounded-md border border-white/10 bg-slate-900/80 px-3 py-2 text-left text-sm text-white transition hover:border-blue-400 hover:bg-blue-500/10",children:[(0,b.jsx)("div",{className:"font-semibold",children:a.label}),(0,b.jsx)("div",{className:"text-[11px] text-slate-400",children:a.key}),(0,b.jsxs)("div",{className:"text-[11px] text-slate-500",children:[a.page," • ",a.asset_type]}),a.description&&(0,b.jsx)("div",{className:"text-[11px] text-slate-500",children:a.description})]})}a.s(["PresetButtons",()=>d])},19501,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987),e=a.i(50944),f=a.i(5050);let g=(0,f.createServerReference)("400667faa07d0fea0697e6a626be704b148093039e",f.callServer,void 0,f.findSourceMapURL,"assignAssetRole"),h=(0,f.createServerReference)("402baa77a45f146fe59a9f5ca79aa5628f6ea24e6f",f.callServer,void 0,f.findSourceMapURL,"removeAsset");var i=a.i(9520);function j({currentKey:a,onSelectRole:d}){let[e,f]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"relative mt-3",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>f(a=>!a),className:"flex items-center gap-2 rounded-md border border-white/10 bg-slate-900/70 px-3 py-1 text-[12px] text-white hover:border-blue-400 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",children:[(0,b.jsx)("span",{children:"Papel do asset"}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:e?"Fechar":"Abrir"})]}),e&&(0,b.jsx)("div",{className:"absolute left-0 top-full mt-2 z-20 max-h-[320px] w-[500px] overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/90 p-4 shadow-xl",children:(0,b.jsx)("div",{className:"space-y-4",children:i.siteAssetRoleGroups.map(c=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:c.label}),(0,b.jsx)("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:c.roles.map(c=>{let e=c.key===a;return(0,b.jsxs)("button",{type:"button",onClick:()=>{d(c),f(!1)},className:`flex flex-col items-start gap-1 rounded-lg border px-3 py-2 text-left text-sm transition ${e?"border-blue-400 bg-blue-500/40 text-white":"border-white/5 bg-slate-900/70 hover:border-blue-400 hover:bg-blue-500/10"}`,children:[(0,b.jsx)("span",{className:"font-semibold",children:c.label}),(0,b.jsx)("span",{className:"text-[11px] text-slate-400",children:c.key}),(0,b.jsx)("span",{className:"text-[11px] text-slate-500",children:c.description})]},c.key)})})]},c.label))})})]})}var k=a.i(95445),l=a.i(89433),m=a.i(59944);function n({asset:a}){let f=(0,e.useRouter)(),[n,o]=(0,c.useTransition)(),[p,q]=(0,c.useState)(null),r=i.siteAssetRoleMap.get(a.key),s=r?.label??"Sem papel definido",t=()=>{confirm("Excluir este asset e o arquivo associado?")&&(q(null),o(async()=>{try{await h({id:a.id,bucket:a.bucket,file_path:a.file_path}),f.refresh()}catch(a){q(a instanceof Error?a.message:"Falha na exclusão")}}))},u=a.publicUrl||(0,m.buildSupabaseStorageUrl)(a.bucket,a.file_path),v=a.page??a.resolvedPage??"global";return a.key.startsWith("updated_at:")||a.key.startsWith("key:")?(0,b.jsxs)("div",{className:"rounded-lg border border-red-500/50 bg-slate-900/60 p-4 flex gap-4",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-md bg-red-900/30 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-xs text-red-400",children:"Inválido"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-red-400",children:a.key}),(0,b.jsx)("span",{className:"rounded-full bg-red-500/20 px-2 py-0.5 text-[11px] text-red-200",children:v})]}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[a.bucket,"/",a.file_path]}),(0,b.jsx)("div",{className:"text-xs text-red-500 mt-2",children:"Este asset tem formato inválido e deve ser corrigido ou removido"}),(0,b.jsx)("button",{type:"button",onClick:t,className:"mt-2 inline-flex items-center rounded-md border border-red-500/60 px-2 py-1 text-[11px] text-red-200 hover:bg-red-500/10",children:"Excluir"})]})]}):(0,b.jsxs)("div",{className:"rounded-lg border border-white/10 bg-slate-900/60 p-4 flex gap-4",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-md bg-slate-800 overflow-hidden relative",children:"image"===a.asset_type&&u?(0,b.jsx)(d.default,{src:u,alt:a.key,fill:!0,sizes:"96px",className:"object-cover",unoptimized:u.toLowerCase().endsWith(".svg")}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:a.asset_type})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("div",{className:"text-sm font-semibold text-white",children:a.key}),(0,b.jsx)("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[11px] text-slate-200",children:v}),(0,b.jsx)("span",{className:"rounded-full bg-blue-500/15 px-2 py-0.5 text-[11px] text-blue-100",children:a.asset_type})]}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:a.description}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[a.bucket,"/",a.file_path]}),(0,b.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:["Papel: ",s]}),p&&(0,b.jsx)("div",{className:"text-xs text-red-400 mt-2",children:p}),(0,b.jsxs)("label",{className:"mt-3 inline-flex items-center gap-2 text-xs text-blue-300 cursor-pointer",children:[(0,b.jsx)("input",{type:"file",className:"hidden",onChange:b=>{var c;(c=b.target.files?.[0]??null)&&(q(null),o(async()=>{try{let b=await (0,l.uploadSiteAsset)({file:c,key:a.key,page:a.page,subPath:r?.subPath,bucket:a.bucket}),d=(0,k.createClientComponentClient)(),{error:e}=await d.from("site_assets").update({file_path:b}).eq("id",a.id);if(e)throw e;f.refresh()}catch(a){q(a instanceof Error?a.message:"Falha no upload")}}))},accept:"image/*,video/*"}),n?"Enviando...":"Substituir arquivo"]}),(0,b.jsx)(j,{currentKey:a.key,onSelectRole:b=>{q(null),o(async()=>{try{await g({assetId:a.id,role:b}),f.refresh()}catch(a){q(a instanceof Error?a.message:"Falha na alteração do papel")}})}}),(0,b.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:["Status: ",a.is_active?"Ativo":"Inativo"]}),(0,b.jsx)("button",{type:"button",onClick:()=>{o(async()=>{let b=(0,k.createClientComponentClient)(),{error:c}=await b.from("site_assets").update({is_active:!a.is_active}).eq("id",a.id);c?q(c.message):f.refresh()})},className:"mt-1 inline-flex items-center rounded-md border border-white/10 px-2 py-1 text-[11px] text-white hover:bg-white/10",children:a.is_active?"Desativar":"Ativar"}),(0,b.jsx)("button",{type:"button",onClick:t,className:"ml-2 mt-1 inline-flex items-center rounded-md border border-red-500/60 px-2 py-1 text-[11px] text-red-200 hover:bg-red-500/10",children:"Excluir"})]})]})}function o({assets:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)("all"),[h,i]=(0,c.useState)("all"),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(1),o=(0,c.useDeferredValue)(d),p=(0,c.useMemo)(()=>a.filter(a=>!(!a.key||a.key.startsWith("updated_at:")||a.key.startsWith("key:"))),[a]),q=(0,c.useMemo)(()=>{let a=new Set;return p.forEach(b=>a.add(b.page??b.resolvedPage??"")),Array.from(a).filter(Boolean).sort()},[p]),r=(0,c.useMemo)(()=>{let a=new Set;return p.forEach(b=>b.asset_type&&a.add(b.asset_type)),Array.from(a).filter(Boolean).sort()},[p]);(0,c.useEffect)(()=>{m(1)},[f,h,j,o]);let s=(0,c.useMemo)(()=>{let a=o.trim().toLowerCase();return p.filter(b=>{if(!j&&!b.is_active)return!1;let c=b.page??b.resolvedPage??"";return("all"===f||c===f)&&("all"===h||b.asset_type===h)&&(!a||!!`${b.key} ${b.description??""} ${b.file_path} ${c}`.toLowerCase().includes(a))&&!0})},[p,o,f,h,j]),t=Math.max(1,Math.ceil(s.length/24)),u=Math.min(l,t),v=(u-1)*24,w=s.slice(v,v+24);return(0,b.jsxs)("div",{className:"rounded-xl border border-white/10 bg-slate-900/60 p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsx)("input",{type:"search",value:d,onChange:a=>e(a.target.value),placeholder:"Buscar por key, página ou caminho",className:"w-full md:w-72 rounded-md border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:border-blue-400 focus:outline-none"}),(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-white focus:border-blue-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"Todas as páginas"}),q.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:h,onChange:a=>i(a.target.value),className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-white focus:border-blue-400 focus:outline-none",children:[(0,b.jsx)("option",{value:"all",children:"Todos os tipos"}),r.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("label",{className:"inline-flex items-center gap-2 text-xs text-slate-300",children:[(0,b.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/20 bg-slate-900/80",checked:j,onChange:a=>k(a.target.checked)}),"Mostrar inativos"]}),(0,b.jsxs)("div",{className:"ml-auto text-xs text-slate-400",children:[s.length," de ",p.length," assets válidos"]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(a=>(0,b.jsx)(n,{asset:a},a.id))}),!w.length&&(0,b.jsx)("div",{className:"rounded-lg border border-white/10 bg-slate-900/40 px-4 py-6 text-sm text-slate-400",children:"Nenhum asset encontrado com os filtros atuais."}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[(0,b.jsxs)("div",{children:["Mostrando ",w.length," de ",s.length," filtrados"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>m(a=>Math.max(1,a-1)),disabled:1===u,className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-1 text-xs text-white transition hover:border-blue-400 hover:bg-blue-500/10 disabled:cursor-not-allowed disabled:opacity-40",children:"Anterior"}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:["Página ",u," / ",t]}),(0,b.jsx)("button",{type:"button",onClick:()=>m(a=>Math.min(t,a+1)),disabled:u>=t,className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-1 text-xs text-white transition hover:border-blue-400 hover:bg-blue-500/10 disabled:cursor-not-allowed disabled:opacity-40",children:"Próxima"})]})]})]})}a.s(["AssetGallery",()=>o],19501)}];

//# sourceMappingURL=src_26adc0b9._.js.map