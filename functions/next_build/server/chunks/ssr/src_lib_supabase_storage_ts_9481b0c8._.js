module.exports=[89433,a=>{"use strict";var b=a.i(95445);let c=/[^a-z0-9._-]/g;var d=a.i(59944);async function e(a,c,e,f){let g,h,i=(0,b.createClientComponentClient)(),j=f.name.split(".").pop(),k=j?`${e}.${j}`:e,l=(h=(g=c.replace(/\/+$/g,"").replace(/^\/+/g,""))?`${g}`:"")?`${h}/${k}`:k,{data:m,error:n}=await i.storage.from(a).upload(l,f,{cacheControl:"3600",upsert:!0});if(n)throw n;return(0,d.normalizeStoragePath)(m.path,a)}async function f({file:a,key:e,page:f,subPath:g,bucket:h="site-assets"}){let i=(0,b.createClientComponentClient)(),j=function({page:a,key:b,subPath:d,extension:e}){let f=[a&&a.trim().length>0?a.trim():"global"];d&&f.push(d.trim().replace(/^\/+|\/+$/g,""));let g=b.trim().toLowerCase().replace(/\s+/g,"_").replace(c,""),h=e.toLowerCase().replace(/^\.+/,"")||"bin",i=`${g}.${h}`;return`${f.join("/")}/${i}`}({page:f,key:e,subPath:g,extension:a.name.split(".").pop()??"bin"}),{data:k,error:l}=await i.storage.from(h).upload(j,a,{cacheControl:"3600",upsert:!0});if(l)throw l;return(0,d.normalizeStoragePath)(k.path,h)}a.s(["uploadSiteAsset",()=>f,"uploadToBucket",()=>e],89433)}];

//# sourceMappingURL=src_lib_supabase_storage_ts_9481b0c8._.js.map