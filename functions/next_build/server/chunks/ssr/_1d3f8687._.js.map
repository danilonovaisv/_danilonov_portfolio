{"version":3,"sources":["../../../../src/hooks/useReducedMotion.ts","../../../../node_modules/.pnpm/framer-motion%4012.29.2_react-dom%4019.2.4_react%4019.2.4__react%4019.2.4/node_modules/framer-motion/src/value/use-spring.ts","../../../../node_modules/.pnpm/framer-motion%4012.29.2_react-dom%4019.2.4_react%4019.2.4__react%4019.2.4/node_modules/framer-motion/src/value/use-follow-value.ts","../../../../node_modules/.pnpm/motion-dom%4012.29.2/node_modules/motion-dom/src/value/follow-value.ts"],"sourcesContent":["import { useReducedMotion as useFramerReducedMotion } from 'framer-motion';\nimport { useEffect, useState } from 'react';\n\nexport function useReducedMotion() {\n  const reducedMotion = useFramerReducedMotion();\n  const [isSafe, setIsSafe] = useState(false);\n\n  useEffect(() => {\n    setIsSafe(true);\n  }, []);\n\n  return isSafe ? (reducedMotion ?? false) : false;\n}\n\nexport default useReducedMotion;\n","\"use client\"\n\nimport { MotionValue, SpringOptions } from \"motion-dom\"\nimport { useFollowValue } from \"./use-follow-value\"\n\n/**\n * Creates a `MotionValue` that, when `set`, will use a spring animation to animate to its new state.\n *\n * It can either work as a stand-alone `MotionValue` by initialising it with a value, or as a subscriber\n * to another `MotionValue`.\n *\n * @remarks\n *\n * ```jsx\n * const x = useSpring(0, { stiffness: 300 })\n * const y = useSpring(x, { damping: 10 })\n * ```\n *\n * @param inputValue - `MotionValue` or number. If provided a `MotionValue`, when the input `MotionValue` changes, the created `MotionValue` will spring towards that value.\n * @param springConfig - Configuration options for the spring.\n * @returns `MotionValue`\n *\n * @public\n */\nexport function useSpring(\n    source: MotionValue<string>,\n    options?: SpringOptions\n): MotionValue<string>\nexport function useSpring(\n    source: string,\n    options?: SpringOptions\n): MotionValue<string>\nexport function useSpring(\n    source: MotionValue<number>,\n    options?: SpringOptions\n): MotionValue<number>\nexport function useSpring(\n    source: number,\n    options?: SpringOptions\n): MotionValue<number>\nexport function useSpring(\n    source: MotionValue<string> | MotionValue<number> | string | number,\n    options: SpringOptions = {}\n): MotionValue<string> | MotionValue<number> {\n    return useFollowValue(source as any, { type: \"spring\", ...options })\n}\n","\"use client\"\n\nimport {\n    AnyResolvedKeyframe,\n    attachFollow,\n    FollowValueOptions,\n    isMotionValue,\n    MotionValue,\n} from \"motion-dom\"\nimport { useContext, useInsertionEffect } from \"react\"\nimport { MotionConfigContext } from \"../context/MotionConfigContext\"\nimport { useMotionValue } from \"./use-motion-value\"\nimport { useTransform } from \"./use-transform\"\n\n/**\n * Creates a `MotionValue` that, when `set`, will use the specified animation transition to animate to its new state.\n *\n * Unlike `useSpring` which is limited to spring animations, `useFollowValue` accepts any motion transition\n * including spring, tween, inertia, and keyframes.\n *\n * It can either work as a stand-alone `MotionValue` by initialising it with a value, or as a subscriber\n * to another `MotionValue`.\n *\n * @remarks\n *\n * ```jsx\n * // Spring animation (default)\n * const x = useFollowValue(0, { stiffness: 300 })\n *\n * // Tween animation\n * const y = useFollowValue(0, { type: \"tween\", duration: 0.5, ease: \"easeOut\" })\n *\n * // Track another MotionValue with spring\n * const source = useMotionValue(0)\n * const z = useFollowValue(source, { type: \"spring\", damping: 10 })\n *\n * // Inertia animation\n * const w = useFollowValue(0, { type: \"inertia\", velocity: 100 })\n * ```\n *\n * @param inputValue - `MotionValue` or number. If provided a `MotionValue`, when the input `MotionValue` changes, the created `MotionValue` will animate towards that value using the specified transition.\n * @param options - Animation transition options. Supports all transition types: spring, tween, inertia, keyframes.\n * @returns `MotionValue`\n *\n * @public\n */\nexport function useFollowValue(\n    source: MotionValue<string>,\n    options?: FollowValueOptions\n): MotionValue<string>\nexport function useFollowValue(\n    source: string,\n    options?: FollowValueOptions\n): MotionValue<string>\nexport function useFollowValue(\n    source: MotionValue<number>,\n    options?: FollowValueOptions\n): MotionValue<number>\nexport function useFollowValue(\n    source: number,\n    options?: FollowValueOptions\n): MotionValue<number>\nexport function useFollowValue(\n    source: MotionValue<string> | MotionValue<number> | AnyResolvedKeyframe,\n    options: FollowValueOptions = {}\n) {\n    const { isStatic } = useContext(MotionConfigContext)\n    const getFromSource = () => (isMotionValue(source) ? source.get() : source)\n\n    // isStatic will never change, allowing early hooks return\n    if (isStatic) {\n        return useTransform(getFromSource)\n    }\n\n    const value = useMotionValue(getFromSource())\n\n    useInsertionEffect(() => {\n        return attachFollow(value, source, options)\n    }, [value, JSON.stringify(options)])\n\n    return value\n}\n","import { MotionValue, motionValue } from \".\"\nimport { JSAnimation } from \"../animation/JSAnimation\"\nimport { AnyResolvedKeyframe, ValueAnimationTransition } from \"../animation/types\"\nimport { frame } from \"../frameloop\"\nimport { isMotionValue } from \"./utils/is-motion-value\"\n\n/**\n * Options for useFollowValue hook, extending ValueAnimationTransition\n * but excluding lifecycle callbacks that don't make sense for the hook pattern.\n */\nexport type FollowValueOptions = Omit<\n    ValueAnimationTransition,\n    \"onUpdate\" | \"onComplete\" | \"onPlay\" | \"onRepeat\" | \"onStop\"\n>\n\n/**\n * Create a `MotionValue` that animates to its latest value using any transition type.\n * Can either be a value or track another `MotionValue`.\n *\n * ```jsx\n * const x = motionValue(0)\n * const y = followValue(x, { type: \"spring\", stiffness: 300 })\n * // or with tween\n * const z = followValue(x, { type: \"tween\", duration: 0.5, ease: \"easeOut\" })\n * ```\n *\n * @param source - Initial value or MotionValue to track\n * @param options - Animation transition options\n * @returns `MotionValue`\n *\n * @public\n */\nexport function followValue<T extends AnyResolvedKeyframe>(\n    source: T | MotionValue<T>,\n    options?: FollowValueOptions\n) {\n    const initialValue = isMotionValue(source) ? source.get() : source\n    const value = motionValue(initialValue)\n\n    attachFollow(value, source, options)\n\n    return value\n}\n\n/**\n * Attach an animation to a MotionValue that will animate whenever the value changes.\n * Similar to attachSpring but supports any transition type (spring, tween, inertia, etc.)\n *\n * @param value - The MotionValue to animate\n * @param source - Initial value or MotionValue to track\n * @param options - Animation transition options\n * @returns Cleanup function\n *\n * @public\n */\nexport function attachFollow<T extends AnyResolvedKeyframe>(\n    value: MotionValue<T>,\n    source: T | MotionValue<T>,\n    options: FollowValueOptions = {}\n): VoidFunction {\n    const initialValue = value.get()\n\n    let activeAnimation: JSAnimation<number> | null = null\n    let latestValue = initialValue\n    let latestSetter: (v: T) => void\n\n    const unit =\n        typeof initialValue === \"string\"\n            ? initialValue.replace(/[\\d.-]/g, \"\")\n            : undefined\n\n    const stopAnimation = () => {\n        if (activeAnimation) {\n            activeAnimation.stop()\n            activeAnimation = null\n        }\n    }\n\n    const startAnimation = () => {\n        stopAnimation()\n\n        const currentValue = asNumber(value.get())\n        const targetValue = asNumber(latestValue)\n\n        // Don't animate if we're already at the target\n        if (currentValue === targetValue) {\n            return\n        }\n\n        activeAnimation = new JSAnimation({\n            keyframes: [currentValue, targetValue],\n            velocity: value.getVelocity(),\n            // Default to spring if no type specified (matches useSpring behavior)\n            type: \"spring\",\n            restDelta: 0.001,\n            restSpeed: 0.01,\n            ...options,\n            onUpdate: latestSetter,\n        })\n    }\n\n    value.attach((v, set) => {\n        latestValue = v\n        latestSetter = (latest) => set(parseValue(latest, unit) as T)\n\n        frame.postRender(() => {\n            startAnimation()\n            value[\"events\"].animationStart?.notify()\n            activeAnimation?.then(() => {\n                value[\"events\"].animationComplete?.notify()\n            })\n        })\n    }, stopAnimation)\n\n    if (isMotionValue(source)) {\n        const removeSourceOnChange = source.on(\"change\", (v) =>\n            value.set(parseValue(v, unit) as T)\n        )\n\n        const removeValueOnDestroy = value.on(\"destroy\", removeSourceOnChange)\n\n        return () => {\n            removeSourceOnChange()\n            removeValueOnDestroy()\n        }\n    }\n\n    return stopAnimation\n}\n\nfunction parseValue(v: AnyResolvedKeyframe, unit?: string) {\n    return unit ? v + unit : v\n}\n\nfunction asNumber(v: AnyResolvedKeyframe) {\n    return typeof v === \"number\" ? v : parseFloat(v)\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}