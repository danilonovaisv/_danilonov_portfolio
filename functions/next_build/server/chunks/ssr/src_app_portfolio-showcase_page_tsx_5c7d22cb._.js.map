{"version":3,"sources":["../../../../src/app/portfolio-showcase/page.tsx","../../../../src/components/portfolio/HeroSection.tsx","../../../../src/utils/math.ts","../../../../src/hooks/useLERPScroll.ts","../../../../src/components/portfolio/ProjectsGallery.tsx","../../../../src/components/portfolio/PortfolioModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { HeroSection } from '@/components/portfolio/HeroSection';\nimport { ProjectsGallery } from '@/components/portfolio/ProjectsGallery';\nimport { PortfolioModal } from '@/components/portfolio/PortfolioModal';\nimport { PortfolioProject } from '@/types/project';\nimport ClientsBrandsSection from '@/components/home/clients/ClientsBrandsSection';\nimport ContactSection from '@/components/home/contact/ContactSection';\n\nexport default function PortfolioShowcasePage() {\n  const [selectedProject, setSelectedProject] =\n    useState<PortfolioProject | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleOpenProject = (project: PortfolioProject) => {\n    setSelectedProject(project);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    // Give time for exit animation before clearing project\n    setTimeout(() => setSelectedProject(null), 300);\n  };\n\n  return (\n    <main className=\"bg-[#040013] min-h-screen\">\n      <HeroSection />\n\n      <ProjectsGallery onOpenProject={handleOpenProject} />\n\n      {/* Legacy Sections covering the gallery track if needed */}\n      <div className=\"relative z-10 bg-[#040013]\">\n        <ClientsBrandsSection />\n        <ContactSection />\n      </div>\n\n      <PortfolioModal\n        isOpen={isModalOpen}\n        onClose={handleCloseModal}\n        project={selectedProject}\n      />\n    </main>\n  );\n}\n","'use client';\n\nimport { BRAND } from '@/config/brand';\nimport AntigravityCTA from '@/components/ui/AntigravityCTA';\nimport { motion } from 'framer-motion';\n\nexport function HeroSection() {\n  return (\n    <section className=\"relative h-screen w-full overflow-hidden\">\n      {/* Background Video */}\n      <video\n        autoPlay\n        muted\n        loop\n        playsInline\n        className=\"absolute inset-0 h-full w-full object-cover\"\n      >\n        <source src={BRAND.video.manifesto} type=\"video/mp4\" />\n      </video>\n\n      {/* Overlay */}\n      <div className=\"absolute inset-0 bg-linear-to-b from-black/60 via-black/40 to-black/60\" />\n\n      {/* Content */}\n      <div className=\"std-grid relative z-10 flex h-full flex-col justify-end pb-12 sm:pb-16 md:pb-24\">\n        <div className=\"col-span-full flex flex-col items-center justify-between gap-6 md:flex-row md:items-end\">\n          {/* Title */}\n          <motion.h1\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, ease: [0.16, 1, 0.3, 1] }}\n            className=\"font-h1 text-4xl font-bold uppercase tracking-tight text-white md:text-6xl lg:text-7xl\"\n          >\n            <span className=\"text-secondary\">portfólio</span>{' '}\n            <span className=\"text-white\">showcase</span>\n          </motion.h1>\n\n          {/* CTA */}\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ delay: 0.2, duration: 0.6 }}\n          >\n            <AntigravityCTA \n                 href=\"#contact\"\n                 text=\"vamos trabalhar juntos\"\n            />\n          </motion.div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","export const lerp = (start: number, end: number, t: number) =>\n  start * (1 - t) + end * t;\nexport const clamp = (val: number, min: number, max: number) =>\n  Math.min(Math.max(val, min), max);\n","'use client';\n\nimport { useEffect, useRef } from 'react';\n\nimport { lerp } from '@/utils/math';\n\n/**\n * LERP-based scroll smoother for a fixed gallery track.\n * It keeps the track translated with an eased scroll value and\n * updates the wrapper height so the page retains native scroll.\n */\ntype TrackRef =\n  | React.RefObject<HTMLElement | null>\n  | React.MutableRefObject<HTMLElement | null>;\n\nexport const useLERPScroll = (trackRef: TrackRef, enabled = true) => {\n  const startY = useRef(0);\n  const endY = useRef(0);\n  const rafId = useRef<number | null>(null);\n  const galleryRef = useRef<HTMLElement | null>(null);\n\n  useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n\n    // Resolve the gallery wrapper (main element with class \"gallery\")\n    if (!galleryRef.current) {\n      galleryRef.current = document.querySelector('.gallery');\n    }\n\n    const track = trackRef.current;\n    const gallery = galleryRef.current;\n\n    if (!track || !gallery) {\n      return undefined;\n    }\n\n    const updateHeight = () => {\n      gallery.style.height = `${track.clientHeight}px`;\n    };\n\n    const animate = () => {\n      startY.current = lerp(startY.current, endY.current, 0.05);\n\n      track.style.transform = `translateY(-${startY.current}px)`;\n\n      if (Math.abs(startY.current - endY.current) > 0.5) {\n        rafId.current = requestAnimationFrame(animate);\n      } else {\n        rafId.current = null;\n      }\n    };\n\n    const onScroll = () => {\n      endY.current = window.scrollY;\n      if (!rafId.current) {\n        rafId.current = requestAnimationFrame(animate);\n      }\n    };\n\n    // Keep height in sync when content changes\n    const resizeObserver = new ResizeObserver(updateHeight);\n    resizeObserver.observe(track);\n\n    updateHeight();\n    endY.current = window.scrollY;\n    rafId.current = requestAnimationFrame(animate);\n\n    window.addEventListener('scroll', onScroll, { passive: true });\n    window.addEventListener('resize', updateHeight);\n    window.addEventListener('load', updateHeight);\n\n    return () => {\n      window.removeEventListener('scroll', onScroll);\n      window.removeEventListener('resize', updateHeight);\n      window.removeEventListener('load', updateHeight);\n      resizeObserver.disconnect();\n\n      if (rafId.current) {\n        cancelAnimationFrame(rafId.current);\n        rafId.current = null;\n      }\n\n      // Reset inline styles so SSR/hydration don't keep stale transforms\n      track.style.transform = '';\n      gallery.style.height = 'auto';\n    };\n  }, [enabled, trackRef]);\n\n  return { galleryRef } as const;\n};\n","'use client';\n\nimport React, { useRef } from 'react';\nimport { useLERPScroll } from '@/hooks/useLERPScroll';\nimport { ProjectCard } from './ProjectCard';\nimport { PortfolioProject } from '@/types/project';\n\n// MOCK DATA - Replace with real data or imports later\nconst PROJECTS: PortfolioProject[] = [\n  {\n    id: '1',\n    slug: 'garoto-nestle',\n    title: 'Garoto Nestlé',\n    client: 'Nestlé',\n    category: 'branding',\n    displayCategory: 'Branding',\n    year: 2024,\n    image: 'https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/projects/campaign/cover.webp',\n    type: 'B',\n    layout: { cols: 'col-span-1', height: 'h-[400px]', colsMobile: 'col-span-1' },\n    detail: {\n      description: 'Rebranding completo para uma das maiores marcas de chocolate do Brasil.',\n    },\n    tags: ['Branding', 'Packaging']\n  },\n  {\n    id: '2',\n    slug: 'nescafe',\n    title: 'Nescafé',\n    client: 'Nestlé',\n    category: 'web',\n    displayCategory: 'Web Design',\n    year: 2023,\n    image: 'https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/portfolio-media/projects/creative-direction/hero.webp',\n    type: 'B',\n    layout: { cols: 'col-span-1', height: 'h-[400px]', colsMobile: 'col-span-1' },\n    detail: {\n      description: 'Campanha digital global com foco em sustentabilidade.',\n    },\n    tags: ['Web', 'Campaign']\n  },\n  {\n    id: '3',\n    slug: 'mpdv',\n    title: 'MPDV',\n    client: 'MPDV',\n    category: 'institucional',\n    displayCategory: 'Institucional',\n    year: 2023,\n    image: 'https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/projects/key-visual/cover.webp',\n    type: 'A',\n    layout: { cols: 'col-span-2', height: 'h-[400px]', colsMobile: 'col-span-1' },\n    detail: {\n      description: 'Plataforma de inteligência de dados para varejo.',\n    },\n    tags: ['Product', 'UI/UX']\n  },\n  {\n    id: '4',\n    slug: 'swift',\n    title: 'Swift',\n    client: 'JBS',\n    category: 'motion',\n    displayCategory: 'Motion',\n    year: 2022,\n    image: 'https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/portfolio-media/projects/brand_video/hero.png',\n    type: 'B',\n    layout: { cols: 'col-span-1', height: 'h-[400px]', colsMobile: 'col-span-1' },\n    detail: {\n      description: 'Série de vídeos em motion graphics para mídias sociais.',\n    },\n    tags: ['Motion', 'Social']\n  },\n  {\n    id: '5',\n    slug: 'ambev',\n    title: 'Ambev Tech',\n    client: 'Ambev',\n    category: 'web',\n    displayCategory: 'Web',\n    year: 2024,\n    image: 'https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/home/showcase/Key-Visual.webp',\n    type: 'A',\n    layout: { cols: 'col-span-1', height: 'h-[400px]', colsMobile: 'col-span-1' },\n    detail: {\n      description: 'Portal corporativo para talentos tech.',\n    },\n    tags: ['Web', 'Dev']\n  },\n  {\n    id: '6',\n    slug: 'unilever',\n    title: 'Unilever',\n    client: 'Unilever',\n    category: 'institucional',\n    displayCategory: 'Accessibility',\n    year: 2023,\n    image: 'https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/home/showcase/Branding-Project.webp',\n    type: 'B',\n    layout: { cols: 'col-span-1', height: 'h-[400px]', colsMobile: 'col-span-1' },\n    detail: {\n      description: 'Consultoria de acessibilidade e performance.',\n    },\n    tags: ['Consultoria', 'A11y']\n  }\n];\n\ninterface ProjectsGalleryProps {\n  onOpenProject?: (_project: PortfolioProject) => void;\n}\n\nexport const ProjectsGallery = ({ onOpenProject }: ProjectsGalleryProps) => {\n  const trackRef = useRef<HTMLDivElement>(null);\n\n  // Initialize LERP Scroll\n  // The hook attaches height to .gallery (we need to make sure the parent has this class or we pass a ref)\n  const { galleryRef } = useLERPScroll(trackRef);\n\n  return (\n    <div\n      className=\"gallery relative z-0 w-full\"\n      ref={galleryRef as React.RefObject<HTMLDivElement>}\n    >\n      <div\n        ref={trackRef}\n        className=\"fixed top-0 left-0 w-full will-change-transform\"\n      >\n        <div className=\"std-grid py-24 sm:py-32\">\n          <div className=\"col-span-full grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 md:gap-8\">\n            {PROJECTS.map((project, index) => (\n              <div key={project.id} className=\"w-full\">\n                <ProjectCard\n                  project={project}\n                  index={index}\n                  onClick={onOpenProject}\n                  priority={index < 3}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","'use client';\n\nimport React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X } from 'lucide-react';\nimport { PortfolioProject } from '@/types/project';\nimport { createPortal } from 'react-dom';\nimport { useBodyLock } from '@/hooks/useBodyLock';\n\nimport TypeAContent from './content/TypeAContent';\nimport TypeBContent from './content/TypeBContent';\n\n\ninterface PortfolioModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  project: PortfolioProject | null;\n}\n\nexport const PortfolioModal = ({ isOpen, onClose, project }: PortfolioModalProps) => {\n  useBodyLock(isOpen);\n\n  // Close on escape\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => window.removeEventListener('keydown', handleEsc);\n  }, [onClose]);\n\n  if (!isOpen || !project) return null;\n\n  return createPortal(\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Backdrop - 0.18s linear */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.18, ease: 'linear' }}\n            onClick={onClose}\n            className=\"fixed inset-0 z-990 bg-black/90 backdrop-blur-md\"\n          />\n\n          {/* Container - 0.26s ease (delay 0.12s) */}\n          <motion.div\n            initial={{ opacity: 0, y: 100, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 100, scale: 0.95 }}\n            transition={{ \n                duration: 0.26, \n                ease: [0.22, 1, 0.36, 1],\n                delay: 0.12 \n            }}\n            className=\"fixed inset-0 z-995 overflow-y-auto\"\n          >\n             <button \n                onClick={onClose}\n                aria-label=\"Fechar galeria\"\n                className=\"fixed top-6 right-6 z-1000 flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-white backdrop-blur transition-colors hover:bg-white/20\"\n             >\n                <X size={24} />\n             </button>\n\n             {/* Content Stagger starting from 0.52s (0.12 + 0.26 + leeway or just direct delay) */}\n             <motion.div\n               initial={{ opacity: 0, y: 20 }}\n               animate={{ opacity: 1, y: 0 }}\n               transition={{ delay: 0.52, duration: 0.4 }}\n               className=\"min-h-full w-full\"\n             >\n                 {project.type === 'A' ? (\n                    <TypeAContent project={project} />\n                 ) : (\n                    <TypeBContent project={project} />\n                 )}\n             </motion.div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>,\n    document.body\n  );\n};\n"],"names":[],"mappings":"iDAEA,EAAA,CAAA,CAAA,OCAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA"}