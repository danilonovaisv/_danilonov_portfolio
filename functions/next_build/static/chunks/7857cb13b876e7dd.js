(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41957,e=>{"use strict";e.s(["ADMIN_NAVIGATION",0,{dashboard:"/admin",trabalhos:{index:"/admin/trabalhos",new:"/admin/trabalhos/new",detail:e=>`/admin/trabalhos/${e}`},tags:"/admin/tags",midia:"/admin/midia","landing-pages":"/admin/landing-pages",config:"/admin/config"}])},22966,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(18566),n=e.i(11795),r=e.i(41957);function l(){let[e,l]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[o,c]=(0,s.useState)(null),[m,u]=(0,s.useTransition)(),[x,h]=(0,s.useState)(!1),p=(0,t.useRouter)(),b=(0,t.useSearchParams)();return(0,s.useEffect)(()=>{b.get("error")&&c("Erro na autenticação. Por favor, tente novamente.")},[b]),(0,s.useEffect)(()=>{},[p]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Admin"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold mt-2",children:"Entrar no painel"}),(0,a.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Use seu email e senha do Supabase Auth."})]}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:a=>{a.preventDefault(),c(null),u(async()=>{try{let a=(0,n.createClientComponentClient)(),{data:s,error:t}=await a.auth.signInWithPassword({email:e,password:i});if(t)return void c(t.message);s.session?(h(!0),p.refresh(),setTimeout(()=>{window.location.href=r.ADMIN_NAVIGATION.dashboard},500)):c("Falha ao estabelecer sessão. Tente novamente.")}catch(e){console.error("Login error:",e),c("Ocorreu um erro inesperado.")}})},children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Email"}),(0,a.jsx)("input",{type:"email",required:!0,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",value:e,onChange:e=>l(e.target.value)})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Senha"}),(0,a.jsx)("input",{type:"password",required:!0,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",value:i,onChange:e=>d(e.target.value)})]}),o&&(0,a.jsx)("div",{className:"text-sm text-red-400",children:o}),(0,a.jsx)("button",{type:"submit",className:"w-full rounded-md bg-blue-500 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-60",disabled:m||x,children:x?"Redirecionando...":m?"Entrando...":"Entrar"})]})]})}function i(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Admin"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold mt-2",children:"Carregando..."})]}),children:(0,a.jsx)(l,{})})}e.s(["default",()=>i],22966)}]);