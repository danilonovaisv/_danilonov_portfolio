(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58384,e=>{"use strict";let t,a,l,r;e.i(47167);var s=e.i(43476),n=e.i(71645),i=e.i(18566),o=e.i(46932),c=e.i(11795);let d="u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u=new Uint8Array(16),p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));let m=function(e,a,l){if(d&&!a&&!e)return d();var r=e,s=l;let n=(r=r||{}).random??r.rng?.()??function(){if(!t){if("u"<typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(u)}();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,a){if((s=s||0)<0||s+16>a.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)a[s+e]=n[e];return a}return function(e,t=0){return(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase()}(n)};var h=e.i(27612),x=e.i(75254);let g=(0,x.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),f=(0,x.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),v=(0,x.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var j=e.i(71689),b=e.i(7233);let y=(0,x.default)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var N=e.i(35501);let w=(0,x.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),_=(0,x.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),C=(0,x.default)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var k=e.i(29832),R=e.i(22016),E=e.i(57688),T=e.i(3408),T=T;let P=(0,x.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);function M({label:e,type:t,value:a,previewUrl:l,onFileSelect:r,onUrlChange:i,onClear:o}){let c,[d,u]=(0,n.useState)("upload");(0,n.useEffect)(()=>{a&&(a.startsWith("http")||a.startsWith("www"))&&!a.includes("supabase.co")&&u("url")},[a]);let p="url"===d&&a&&(c=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/))&&11===c[2].length?c[2]:null,m=!!l||!!a&&"url"===d,x=l||a;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium",children:e}),(0,s.jsxs)("div",{className:"flex bg-slate-800 p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>u("upload"),className:`px-2 py-1 text-xs rounded-md transition-all ${"upload"===d?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"Upload"}),(0,s.jsx)("button",{onClick:()=>u("url"),className:`px-2 py-1 text-xs rounded-md transition-all ${"url"===d?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"Link"})]})]}),m?(0,s.jsxs)("div",{className:"relative rounded-xl overflow-hidden border border-white/10 group bg-black/20",children:[p?(0,s.jsx)("div",{className:"aspect-video w-full bg-black",children:(0,s.jsx)("iframe",{src:`https://www.youtube.com/embed/${p}?autoplay=0&mute=1&modestbranding=1`,title:"YouTube preview",className:"w-full h-full border-none",allowFullScreen:!0})}):"image"===t?(0,s.jsx)("div",{className:"relative min-h-[12.5rem] max-h-[25rem] w-full flex justify-center bg-black/40",children:(0,s.jsx)("img",{src:x,alt:"Preview",className:"h-full w-auto max-h-[25rem] object-contain"})}):(0,s.jsx)("video",{src:x,className:"w-full max-h-[25rem] object-contain",controls:!0,muted:!0,loop:!0,autoPlay:!0}),(0,s.jsx)("div",{className:"absolute top-2 right-2 flex gap-2",children:(0,s.jsx)("button",{onClick:o,className:"bg-red-500 p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remover mídia",children:(0,s.jsx)(h.Trash2,{size:16})})})]}):"upload"===d?(0,s.jsxs)("label",{className:"flex flex-col items-center justify-center py-12 rounded-xl border-2 border-dashed border-white/10 hover:border-blue-500 hover:bg-blue-500/5 cursor-pointer transition-all group",children:["image"===t?(0,s.jsx)(T.default,{className:"text-slate-600 mb-2 group-hover:text-blue-400 transition-colors",size:32}):(0,s.jsx)(_,{className:"text-slate-600 mb-2 group-hover:text-blue-400 transition-colors",size:32}),(0,s.jsx)("span",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest group-hover:text-blue-300",children:"Escolher Arquivo"}),(0,s.jsx)("input",{type:"file",accept:"image"===t?"image/*":"video/*",onChange:e=>{let t=e.target.files?.[0];t&&r(t)},className:"hidden"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-slate-950 border border-white/10 rounded-xl px-4 py-3 focus-within:border-blue-500 transition-colors",children:[(0,s.jsx)(P,{className:"text-slate-500",size:18}),(0,s.jsx)("input",{type:"text",placeholder:"image"===t?"https://exemplo.com/imagem.jpg":"Pinte aqui o link do YouTube ou .mp4",className:"bg-transparent border-none outline-none w-full text-sm text-white placeholder-slate-600",onChange:e=>i(e.target.value),value:a||""})]})]})}function A({block:e,onChange:t}){let a=a=>{t({content:{...e.content,...a}})},l=(t,l)=>{let r="text"===t?"textConfig":"textConfig2",n=e.content[r]||{},i=e=>{a({[r]:{...n,...e}})};return(0,s.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,s.jsxs)("label",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium flex items-center gap-2",children:[(0,s.jsx)(w,{size:14})," ",l]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 bg-slate-900/50 p-3 rounded-xl border border-white/5",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Tamanho"}),(0,s.jsxs)("select",{value:n.fontSize||"",onChange:e=>i({fontSize:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Tamanho do Texto",children:[(0,s.jsx)("option",{value:"",children:"Padrão"}),(0,s.jsx)("option",{value:"text-xs",children:"Extra Small"}),(0,s.jsx)("option",{value:"text-sm",children:"Small"}),(0,s.jsx)("option",{value:"text-base",children:"Base"}),(0,s.jsx)("option",{value:"text-lg",children:"Large"}),(0,s.jsx)("option",{value:"text-xl",children:"Extra Large"}),(0,s.jsx)("option",{value:"text-2xl",children:"2XL"}),(0,s.jsx)("option",{value:"text-3xl",children:"3XL"}),(0,s.jsx)("option",{value:"text-4xl",children:"4XL"}),(0,s.jsx)("option",{value:"text-5xl",children:"5XL"}),(0,s.jsx)("option",{value:"text-6xl",children:"6XL"}),(0,s.jsx)("option",{value:"text-7xl",children:"7XL"}),(0,s.jsx)("option",{value:"text-8xl",children:"8XL"})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Peso"}),(0,s.jsxs)("select",{value:n.fontWeight||"",onChange:e=>i({fontWeight:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Peso da Fonte",children:[(0,s.jsx)("option",{value:"",children:"Padrão"}),(0,s.jsx)("option",{value:"font-thin",children:"Thin"}),(0,s.jsx)("option",{value:"font-light",children:"Light"}),(0,s.jsx)("option",{value:"font-normal",children:"Normal"}),(0,s.jsx)("option",{value:"font-medium",children:"Medium"}),(0,s.jsx)("option",{value:"font-semibold",children:"SemiBold"}),(0,s.jsx)("option",{value:"font-bold",children:"Bold"}),(0,s.jsx)("option",{value:"font-extrabold",children:"ExtraBold"}),(0,s.jsx)("option",{value:"font-black",children:"Black"})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Alinhamento"}),(0,s.jsxs)("select",{value:n.textAlign||"",onChange:e=>i({textAlign:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Alinhamento do Texto",children:[(0,s.jsx)("option",{value:"",children:"Padrão"}),(0,s.jsx)("option",{value:"text-left",children:"Esquerda"}),(0,s.jsx)("option",{value:"text-center",children:"Centralizado"}),(0,s.jsx)("option",{value:"text-right",children:"Direita"}),(0,s.jsx)("option",{value:"text-justify",children:"Justificado"})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Cor (Hex)"}),(0,s.jsx)("input",{type:"text",value:n.color||"",onChange:e=>i({color:e.target.value}),placeholder:"#FFFFFF",className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white placeholder-slate-600"})]})]}),(0,s.jsx)("textarea",{value:e.content[t]||"",onChange:e=>a({[t]:e.target.value}),className:"w-full h-full min-h-[200px] bg-slate-950/50 border border-white/10 rounded-xl p-4 outline-none focus:border-blue-500/50 transition-all resize-none font-sans",placeholder:"# Título... \\n\\nParágrafo com conteúdo..."})]})},r=(a,l,r,n,i)=>(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(M,{label:i,type:l,value:e.content[a],previewUrl:e[n],onFileSelect:a=>{t({[r]:a,["file"===r?"previewUrl":"previewUrl2"]:URL.createObjectURL(a),content:{...e.content,["file"===r?"media":"media2"]:""}})},onUrlChange:l=>{t({["media"===a?"file":"file2"]:null,["media"===a?"previewUrl":"previewUrl2"]:"",content:{...e.content,[a]:l}})},onClear:()=>{t({[r]:null,[n]:"",content:{...e.content,[a]:""}})}})});switch(e.type){case"text":return(0,s.jsx)("div",{className:"p-4",children:l("text","Conteúdo de Texto")});case"image":return(0,s.jsx)("div",{className:"p-4",children:r("media","image","file","previewUrl","Imagem Full")});case"video":case"video-autoplay":return(0,s.jsx)("div",{className:"p-4",children:r("media","video","file","previewUrl","Vídeo Full")});case"image-text":return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","image","file","previewUrl","Imagem (Esquerda)"),l("text","Texto (Direita)")]});case"text-image":return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[l("text","Texto (Esquerda)"),r("media","image","file","previewUrl","Imagem (Direita)")]});case"image-image":return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","image","file","previewUrl","Imagem 01"),r("media2","image","file2","previewUrl2","Imagem 02")]});case"image-video":return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","image","file","previewUrl","Imagem"),r("media2","video","file2","previewUrl2","Vídeo")]});case"video-text":return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","video","file","previewUrl","Vídeo (Esquerda)"),l("text","Texto (Direita)")]});default:return(0,s.jsx)("div",{className:"p-4 text-red-500",children:"Tipo de bloco desconhecido"})}}var S=e.i(81140),L=e.i(20783),I=e.i(30030),D=e.i(69340),O=e.i(48425);function U(e){var t;let a,l=(t=e,(a=n.forwardRef((e,t)=>{let{children:a,...l}=e;if(n.isValidElement(a)){var r;let e,s,i=(r=a,(s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(s=(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref),o=function(e,t){let a={...t};for(let l in t){let r=e[l],s=t[l];/^on[A-Z]/.test(l)?r&&s?a[l]=(...e)=>{let t=s(...e);return r(...e),t}:r&&(a[l]=r):"style"===l?a[l]={...r,...s}:"className"===l&&(a[l]=[r,s].filter(Boolean).join(" "))}return{...e,...a}}(l,a.props);return a.type!==n.Fragment&&(o.ref=t?(0,L.composeRefs)(t,i):i),n.cloneElement(a,o)}return n.Children.count(a)>1?n.Children.only(null):null})).displayName=`${t}.SlotClone`,a),r=n.forwardRef((e,t)=>{let{children:a,...r}=e,i=n.Children.toArray(a),o=i.find(F);if(o){let e=o.props.children,a=i.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(l,{...r,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,s.jsx)(l,{...r,ref:t,children:a})});return r.displayName=`${e}.Slot`,r}var z=Symbol("radix.slottable");function F(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===z}function V(e){let t=e+"CollectionProvider",[a,l]=(0,I.createContextScope)(t),[r,i]=a(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:a}=e,l=n.default.useRef(null),i=n.default.useRef(new Map).current;return(0,s.jsx)(r,{scope:t,itemMap:i,collectionRef:l,children:a})};o.displayName=t;let c=e+"CollectionSlot",d=U(c),u=n.default.forwardRef((e,t)=>{let{scope:a,children:l}=e,r=i(c,a),n=(0,L.useComposedRefs)(t,r.collectionRef);return(0,s.jsx)(d,{ref:n,children:l})});u.displayName=c;let p=e+"CollectionItemSlot",m="data-radix-collection-item",h=U(p),x=n.default.forwardRef((e,t)=>{let{scope:a,children:l,...r}=e,o=n.default.useRef(null),c=(0,L.useComposedRefs)(t,o),d=i(p,a);return n.default.useEffect(()=>(d.itemMap.set(o,{ref:o,...r}),()=>void d.itemMap.delete(o))),(0,s.jsx)(h,{...{[m]:""},ref:c,children:l})});return x.displayName=p,[{Provider:o,Slot:u,ItemSlot:x},function(t){let a=i(e+"CollectionConsumer",t);return n.default.useCallback(()=>{let e=a.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(a.itemMap.values()).sort((e,a)=>t.indexOf(e.ref.current)-t.indexOf(a.ref.current))},[a.collectionRef,a.itemMap])},l]}var H=new WeakMap;function $(e,t){var a,l;let r,s,n;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let i=(a=e,l=t,r=a.length,(n=(s=q(l))>=0?s:r+s)<0||n>=r?-1:n);return -1===i?void 0:e[i]}function q(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],H.set(this,!0)}set(e,t){return H.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,a){let l,r=this.has(t),s=this.#e.length,n=q(e),i=n>=0?n:s+n,o=i<0||i>=s?-1:i;if(o===this.size||r&&o===this.size-1||-1===o)return this.set(t,a),this;let c=this.size+ +!r;n<0&&i++;let d=[...this.#e],u=!1;for(let e=i;e<c;e++)if(i===e){let s=d[e];d[e]===t&&(s=d[e+1]),r&&this.delete(t),l=this.get(s),this.set(t,a)}else{u||d[e-1]!==t||(u=!0);let a=d[u?e:e-1],r=l;l=this.get(a),this.delete(a),this.set(a,r)}return this}with(t,a,l){let r=new e(this);return r.insert(t,a,l),r}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,a){let l=this.#e.indexOf(e);return -1===l?this:this.insert(l,t,a)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,a){let l=this.#e.indexOf(e);return -1===l?this:this.insert(l+1,t,a)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=$(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=$(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return $(this.#e,e)}from(e,t){let a=this.indexOf(e);if(-1===a)return;let l=a+t;return l<0&&(l=0),l>=this.size&&(l=this.size-1),this.at(l)}keyFrom(e,t){let a=this.indexOf(e);if(-1===a)return;let l=a+t;return l<0&&(l=0),l>=this.size&&(l=this.size-1),this.keyAt(l)}find(e,t){let a=0;for(let l of this){if(Reflect.apply(e,t,[l,a,this]))return l;a++}}findIndex(e,t){let a=0;for(let l of this){if(Reflect.apply(e,t,[l,a,this]))return a;a++}return -1}filter(t,a){let l=[],r=0;for(let e of this)Reflect.apply(t,a,[e,r,this])&&l.push(e),r++;return new e(l)}map(t,a){let l=[],r=0;for(let e of this)l.push([e[0],Reflect.apply(t,a,[e,r,this])]),r++;return new e(l)}reduce(...e){let[t,a]=e,l=0,r=a??this.at(0);for(let a of this)r=0===l&&1===e.length?a:Reflect.apply(t,this,[r,a,l,this]),l++;return r}reduceRight(...e){let[t,a]=e,l=a??this.at(-1);for(let a=this.size-1;a>=0;a--){let r=this.at(a);l=a===this.size-1&&1===e.length?r:Reflect.apply(t,this,[l,r,a,this])}return l}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let a=this.keyAt(e),l=this.get(a);t.set(a,l)}return t}toSpliced(...t){let a=[...this.entries()];return a.splice(...t),new e(a)}slice(t,a){let l=new e,r=this.size-1;if(void 0===t)return l;t<0&&(t+=this.size),void 0!==a&&a>0&&(r=a-1);for(let e=t;e<=r;e++){let t=this.keyAt(e),a=this.get(t);l.set(t,a)}return l}every(e,t){let a=0;for(let l of this){if(!Reflect.apply(e,t,[l,a,this]))return!1;a++}return!0}some(e,t){let a=0;for(let l of this){if(Reflect.apply(e,t,[l,a,this]))return!0;a++}return!1}});var B=n.createContext(void 0);function K(e){let t=n.useContext(B);return e||t||"ltr"}var G=e.i(26330),J=e.i(3536),W=e.i(65491),X=e.i(10772),Y=e.i(53660),Q=e.i(74606),Z=e.i(96626),ee=e.i(30207),et="rovingFocusGroup.onEntryFocus",ea={bubbles:!1,cancelable:!0},el="RovingFocusGroup",[er,es,en]=V(el),[ei,eo]=(0,I.createContextScope)(el,[en]),[ec,ed]=ei(el),eu=n.forwardRef((e,t)=>(0,s.jsx)(er.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(er.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(ep,{...e,ref:t})})}));eu.displayName=el;var ep=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:l,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:p=!1,...m}=e,h=n.useRef(null),x=(0,L.useComposedRefs)(t,h),g=K(i),[f,v]=(0,D.useControllableState)({prop:o,defaultProp:c??null,onChange:d,caller:el}),[j,b]=n.useState(!1),y=(0,ee.useCallbackRef)(u),N=es(a),w=n.useRef(!1),[_,C]=n.useState(0);return n.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(et,y),()=>e.removeEventListener(et,y)},[y]),(0,s.jsx)(ec,{scope:a,orientation:l,dir:g,loop:r,currentTabStopId:f,onItemFocus:n.useCallback(e=>v(e),[v]),onItemShiftTab:n.useCallback(()=>b(!0),[]),onFocusableItemAdd:n.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>C(e=>e-1),[]),children:(0,s.jsx)(O.Primitive.div,{tabIndex:j||0===_?-1:0,"data-orientation":l,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:(0,S.composeEventHandlers)(e.onMouseDown,()=>{w.current=!0}),onFocus:(0,S.composeEventHandlers)(e.onFocus,e=>{let t=!w.current;if(e.target===e.currentTarget&&t&&!j){let t=new CustomEvent(et,ea);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=N().filter(e=>e.focusable);eg([e.find(e=>e.active),e.find(e=>e.id===f),...e].filter(Boolean).map(e=>e.ref.current),p)}}w.current=!1}),onBlur:(0,S.composeEventHandlers)(e.onBlur,()=>b(!1))})})}),em="RovingFocusGroupItem",eh=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:l=!0,active:r=!1,tabStopId:i,children:o,...c}=e,d=(0,X.useId)(),u=i||d,p=ed(em,a),m=p.currentTabStopId===u,h=es(a),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:f}=p;return n.useEffect(()=>{if(l)return x(),()=>g()},[l,x,g]),(0,s.jsx)(er.ItemSlot,{scope:a,id:u,focusable:l,active:r,children:(0,s.jsx)(O.Primitive.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:(0,S.composeEventHandlers)(e.onMouseDown,e=>{l?p.onItemFocus(u):e.preventDefault()}),onFocus:(0,S.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var l;let r=(l=e.key,"rtl"!==a?l:"ArrowLeft"===l?"ArrowRight":"ArrowRight"===l?"ArrowLeft":l);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return ex[r]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var a,l;"prev"===t&&r.reverse();let s=r.indexOf(e.currentTarget);r=p.loop?(a=r,l=s+1,a.map((e,t)=>a[(l+t)%a.length])):r.slice(s+1)}setTimeout(()=>eg(r))}}),children:"function"==typeof o?o({isCurrentTabStop:m,hasTabStop:null!=f}):o})})});eh.displayName=em;var ex={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eg(e,t=!1){let a=document.activeElement;for(let l of e)if(l===a||(l.focus({preventScroll:t}),document.activeElement!==a))return}var ef=Symbol("radix.slottable");function ev(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ef}var ej=e.i(86312),eb=e.i(85369),ey=["Enter"," "],eN=["ArrowUp","PageDown","End"],ew=["ArrowDown","PageUp","Home",...eN],e_={ltr:[...ey,"ArrowRight"],rtl:[...ey,"ArrowLeft"]},eC={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ek="Menu",[eR,eE,eT]=V(ek),[eP,eM]=(0,I.createContextScope)(ek,[eT,Y.createPopperScope,eo]),eA=(0,Y.createPopperScope)(),eS=eo(),[eL,eI]=eP(ek),[eD,eO]=eP(ek),eU=e=>{let{__scopeMenu:t,open:a=!1,children:l,dir:r,onOpenChange:i,modal:o=!0}=e,c=eA(t),[d,u]=n.useState(null),p=n.useRef(!1),m=(0,ee.useCallbackRef)(i),h=K(r);return n.useEffect(()=>{let e=()=>{p.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>p.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,s.jsx)(Y.Root,{...c,children:(0,s.jsx)(eL,{scope:t,open:a,onOpenChange:m,content:d,onContentChange:u,children:(0,s.jsx)(eD,{scope:t,onClose:n.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:h,modal:o,children:l})})})};eU.displayName=ek;var ez=n.forwardRef((e,t)=>{let{__scopeMenu:a,...l}=e,r=eA(a);return(0,s.jsx)(Y.Anchor,{...r,...l,ref:t})});ez.displayName="MenuAnchor";var eF="MenuPortal",[eV,eH]=eP(eF,{forceMount:void 0}),e$=e=>{let{__scopeMenu:t,forceMount:a,children:l,container:r}=e,n=eI(eF,t);return(0,s.jsx)(eV,{scope:t,forceMount:a,children:(0,s.jsx)(Z.Presence,{present:a||n.open,children:(0,s.jsx)(Q.Portal,{asChild:!0,container:r,children:l})})})};e$.displayName=eF;var eq="MenuContent",[eB,eK]=eP(eq),eG=n.forwardRef((e,t)=>{let a=eH(eq,e.__scopeMenu),{forceMount:l=a.forceMount,...r}=e,n=eI(eq,e.__scopeMenu),i=eO(eq,e.__scopeMenu);return(0,s.jsx)(eR.Provider,{scope:e.__scopeMenu,children:(0,s.jsx)(Z.Presence,{present:l||n.open,children:(0,s.jsx)(eR.Slot,{scope:e.__scopeMenu,children:i.modal?(0,s.jsx)(eJ,{...r,ref:t}):(0,s.jsx)(eW,{...r,ref:t})})})})}),eJ=n.forwardRef((e,t)=>{let a=eI(eq,e.__scopeMenu),l=n.useRef(null),r=(0,L.useComposedRefs)(t,l);return n.useEffect(()=>{let e=l.current;if(e)return(0,ej.hideOthers)(e)},[]),(0,s.jsx)(eY,{...e,ref:r,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:(0,S.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),eW=n.forwardRef((e,t)=>{let a=eI(eq,e.__scopeMenu);return(0,s.jsx)(eY,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),eX=((r=n.forwardRef((e,t)=>{let{children:a,...l}=e;if(n.isValidElement(a)){var r;let e,s,i=(r=a,(s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.ref:(s=(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?r.props.ref:r.props.ref||r.ref),o=function(e,t){let a={...t};for(let l in t){let r=e[l],s=t[l];/^on[A-Z]/.test(l)?r&&s?a[l]=(...e)=>{let t=s(...e);return r(...e),t}:r&&(a[l]=r):"style"===l?a[l]={...r,...s}:"className"===l&&(a[l]=[r,s].filter(Boolean).join(" "))}return{...e,...a}}(l,a.props);return a.type!==n.Fragment&&(o.ref=t?(0,L.composeRefs)(t,i):i),n.cloneElement(a,o)}return n.Children.count(a)>1?n.Children.only(null):null})).displayName="MenuContent.ScrollLock.SlotClone",a=r,(l=n.forwardRef((e,t)=>{let{children:l,...r}=e,i=n.Children.toArray(l),o=i.find(ev);if(o){let e=o.props.children,l=i.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(a,{...r,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,l):null})}return(0,s.jsx)(a,{...r,ref:t,children:l})})).displayName="MenuContent.ScrollLock.Slot",l),eY=n.forwardRef((e,t)=>{let{__scopeMenu:a,loop:l=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:h,onDismiss:x,disableOutsideScroll:g,...f}=e,v=eI(eq,a),j=eO(eq,a),b=eA(a),y=eS(a),N=eE(a),[w,_]=n.useState(null),C=n.useRef(null),k=(0,L.useComposedRefs)(t,C,v.onContentChange),R=n.useRef(0),E=n.useRef(""),T=n.useRef(0),P=n.useRef(null),M=n.useRef("right"),A=n.useRef(0),I=g?eb.RemoveScroll:n.Fragment;n.useEffect(()=>()=>window.clearTimeout(R.current),[]),(0,J.useFocusGuards)();let D=n.useCallback(e=>{var t,a;return M.current===P.current?.side&&(t=e,!!(a=P.current?.area)&&function(e,t){let{x:a,y:l}=e,r=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let n=t[e],i=t[s],o=n.x,c=n.y,d=i.x,u=i.y;c>l!=u>l&&a<(d-o)*(l-c)/(u-c)+o&&(r=!r)}return r}({x:t.clientX,y:t.clientY},a))},[]);return(0,s.jsx)(eB,{scope:a,searchRef:E,onItemEnter:n.useCallback(e=>{D(e)&&e.preventDefault()},[D]),onItemLeave:n.useCallback(e=>{D(e)||(C.current?.focus(),_(null))},[D]),onTriggerLeave:n.useCallback(e=>{D(e)&&e.preventDefault()},[D]),pointerGraceTimerRef:T,onPointerGraceIntentChange:n.useCallback(e=>{P.current=e},[]),children:(0,s.jsx)(I,{...g?{as:eX,allowPinchZoom:!0}:void 0,children:(0,s.jsx)(W.FocusScope,{asChild:!0,trapped:r,onMountAutoFocus:(0,S.composeEventHandlers)(i,e=>{e.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,s.jsx)(G.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:h,onDismiss:x,children:(0,s.jsx)(eu,{asChild:!0,...y,dir:j.dir,orientation:"vertical",loop:l,currentTabStopId:w,onCurrentTabStopIdChange:_,onEntryFocus:(0,S.composeEventHandlers)(d,e=>{j.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,s.jsx)(Y.Content,{role:"menu","aria-orientation":"vertical","data-state":tm(v.open),"data-radix-menu-content":"",dir:j.dir,...b,...f,ref:k,style:{outline:"none",...f.style},onKeyDown:(0,S.composeEventHandlers)(f.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,a=e.ctrlKey||e.altKey||e.metaKey,l=1===e.key.length;if(t){var r;let t,s,n,i,o,c;"Tab"===e.key&&e.preventDefault(),!a&&l&&(r=e.key,t=E.current+r,s=N().filter(e=>!e.disabled),n=document.activeElement,i=s.find(e=>e.ref.current===n)?.textValue,o=function(e,t,a){var l;let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=a?e.indexOf(a):-1,n=(l=Math.max(s,0),e.map((t,a)=>e[(l+a)%e.length]));1===r.length&&(n=n.filter(e=>e!==a));let i=n.find(e=>e.toLowerCase().startsWith(r.toLowerCase()));return i!==a?i:void 0}(s.map(e=>e.textValue),t,i),c=s.find(e=>e.textValue===o)?.ref.current,function e(t){E.current=t,window.clearTimeout(R.current),""!==t&&(R.current=window.setTimeout(()=>e(""),1e3))}(t),c&&setTimeout(()=>c.focus()))}let s=C.current;if(e.target!==s||!ew.includes(e.key))return;e.preventDefault();let n=N().filter(e=>!e.disabled).map(e=>e.ref.current);eN.includes(e.key)&&n.reverse(),function(e){let t=document.activeElement;for(let a of e)if(a===t||(a.focus(),document.activeElement!==t))return}(n)}),onBlur:(0,S.composeEventHandlers)(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(R.current),E.current="")}),onPointerMove:(0,S.composeEventHandlers)(e.onPointerMove,tg(e=>{let t=e.target,a=A.current!==e.clientX;e.currentTarget.contains(t)&&a&&(M.current=e.clientX>A.current?"right":"left",A.current=e.clientX)}))})})})})})})});eG.displayName=eq;var eQ=n.forwardRef((e,t)=>{let{__scopeMenu:a,...l}=e;return(0,s.jsx)(O.Primitive.div,{role:"group",...l,ref:t})});eQ.displayName="MenuGroup";var eZ=n.forwardRef((e,t)=>{let{__scopeMenu:a,...l}=e;return(0,s.jsx)(O.Primitive.div,{...l,ref:t})});eZ.displayName="MenuLabel";var e0="MenuItem",e1="menu.itemSelect",e2=n.forwardRef((e,t)=>{let{disabled:a=!1,onSelect:l,...r}=e,i=n.useRef(null),o=eO(e0,e.__scopeMenu),c=eK(e0,e.__scopeMenu),d=(0,L.useComposedRefs)(t,i),u=n.useRef(!1);return(0,s.jsx)(e5,{...r,ref:d,disabled:a,onClick:(0,S.composeEventHandlers)(e.onClick,()=>{let e=i.current;if(!a&&e){let t=new CustomEvent(e1,{bubbles:!0,cancelable:!0});e.addEventListener(e1,e=>l?.(e),{once:!0}),(0,O.dispatchDiscreteCustomEvent)(e,t),t.defaultPrevented?u.current=!1:o.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:(0,S.composeEventHandlers)(e.onPointerUp,e=>{u.current||e.currentTarget?.click()}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{let t=""!==c.searchRef.current;a||t&&" "===e.key||ey.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});e2.displayName=e0;var e5=n.forwardRef((e,t)=>{let{__scopeMenu:a,disabled:l=!1,textValue:r,...i}=e,o=eK(e0,a),c=eS(a),d=n.useRef(null),u=(0,L.useComposedRefs)(t,d),[p,m]=n.useState(!1),[h,x]=n.useState("");return n.useEffect(()=>{let e=d.current;e&&x((e.textContent??"").trim())},[i.children]),(0,s.jsx)(eR.ItemSlot,{scope:a,disabled:l,textValue:r??h,children:(0,s.jsx)(eh,{asChild:!0,...c,focusable:!l,children:(0,s.jsx)(O.Primitive.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...i,ref:u,onPointerMove:(0,S.composeEventHandlers)(e.onPointerMove,tg(e=>{l?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,S.composeEventHandlers)(e.onPointerLeave,tg(e=>o.onItemLeave(e))),onFocus:(0,S.composeEventHandlers)(e.onFocus,()=>m(!0)),onBlur:(0,S.composeEventHandlers)(e.onBlur,()=>m(!1))})})})}),e4=n.forwardRef((e,t)=>{let{checked:a=!1,onCheckedChange:l,...r}=e;return(0,s.jsx)(ta,{scope:e.__scopeMenu,checked:a,children:(0,s.jsx)(e2,{role:"menuitemcheckbox","aria-checked":th(a)?"mixed":a,...r,ref:t,"data-state":tx(a),onSelect:(0,S.composeEventHandlers)(r.onSelect,()=>l?.(!!th(a)||!a),{checkForDefaultPrevented:!1})})})});e4.displayName="MenuCheckboxItem";var e3="MenuRadioGroup",[e6,e8]=eP(e3,{value:void 0,onValueChange:()=>{}}),e7=n.forwardRef((e,t)=>{let{value:a,onValueChange:l,...r}=e,n=(0,ee.useCallbackRef)(l);return(0,s.jsx)(e6,{scope:e.__scopeMenu,value:a,onValueChange:n,children:(0,s.jsx)(eQ,{...r,ref:t})})});e7.displayName=e3;var e9="MenuRadioItem",te=n.forwardRef((e,t)=>{let{value:a,...l}=e,r=e8(e9,e.__scopeMenu),n=a===r.value;return(0,s.jsx)(ta,{scope:e.__scopeMenu,checked:n,children:(0,s.jsx)(e2,{role:"menuitemradio","aria-checked":n,...l,ref:t,"data-state":tx(n),onSelect:(0,S.composeEventHandlers)(l.onSelect,()=>r.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});te.displayName=e9;var tt="MenuItemIndicator",[ta,tl]=eP(tt,{checked:!1}),tr=n.forwardRef((e,t)=>{let{__scopeMenu:a,forceMount:l,...r}=e,n=tl(tt,a);return(0,s.jsx)(Z.Presence,{present:l||th(n.checked)||!0===n.checked,children:(0,s.jsx)(O.Primitive.span,{...r,ref:t,"data-state":tx(n.checked)})})});tr.displayName=tt;var ts=n.forwardRef((e,t)=>{let{__scopeMenu:a,...l}=e;return(0,s.jsx)(O.Primitive.div,{role:"separator","aria-orientation":"horizontal",...l,ref:t})});ts.displayName="MenuSeparator";var tn=n.forwardRef((e,t)=>{let{__scopeMenu:a,...l}=e,r=eA(a);return(0,s.jsx)(Y.Arrow,{...r,...l,ref:t})});tn.displayName="MenuArrow";var[ti,to]=eP("MenuSub"),tc="MenuSubTrigger",td=n.forwardRef((e,t)=>{let a=eI(tc,e.__scopeMenu),l=eO(tc,e.__scopeMenu),r=to(tc,e.__scopeMenu),i=eK(tc,e.__scopeMenu),o=n.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},p=n.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return n.useEffect(()=>p,[p]),n.useEffect(()=>{let e=c.current;return()=>{window.clearTimeout(e),d(null)}},[c,d]),(0,s.jsx)(ez,{asChild:!0,...u,children:(0,s.jsx)(e5,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":r.contentId,"data-state":tm(a.open),...e,ref:(0,L.composeRefs)(t,r.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:(0,S.composeEventHandlers)(e.onPointerMove,tg(t=>{i.onItemEnter(t),!t.defaultPrevented&&(e.disabled||a.open||o.current||(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{a.onOpenChange(!0),p()},100)))})),onPointerLeave:(0,S.composeEventHandlers)(e.onPointerLeave,tg(e=>{p();let t=a.content?.getBoundingClientRect();if(t){let l=a.content?.dataset.side,r="right"===l,s=t[r?"left":"right"],n=t[r?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+(r?-5:5),y:e.clientY},{x:s,y:t.top},{x:n,y:t.top},{x:n,y:t.bottom},{x:s,y:t.bottom}],side:l}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,t=>{let r=""!==i.searchRef.current;e.disabled||r&&" "===t.key||e_[l.dir].includes(t.key)&&(a.onOpenChange(!0),a.content?.focus(),t.preventDefault())})})})});td.displayName=tc;var tu="MenuSubContent",tp=n.forwardRef((e,t)=>{let a=eH(eq,e.__scopeMenu),{forceMount:l=a.forceMount,...r}=e,i=eI(eq,e.__scopeMenu),o=eO(eq,e.__scopeMenu),c=to(tu,e.__scopeMenu),d=n.useRef(null),u=(0,L.useComposedRefs)(t,d);return(0,s.jsx)(eR.Provider,{scope:e.__scopeMenu,children:(0,s.jsx)(Z.Presence,{present:l||i.open,children:(0,s.jsx)(eR.Slot,{scope:e.__scopeMenu,children:(0,s.jsx)(eY,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:u,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&d.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,S.composeEventHandlers)(e.onFocusOutside,e=>{e.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:(0,S.composeEventHandlers)(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),a=eC[o.dir].includes(e.key);t&&a&&(i.onOpenChange(!1),c.trigger?.focus(),e.preventDefault())})})})})})});function tm(e){return e?"open":"closed"}function th(e){return"indeterminate"===e}function tx(e){return th(e)?"indeterminate":e?"checked":"unchecked"}function tg(e){return t=>"mouse"===t.pointerType?e(t):void 0}tp.displayName=tu;var tf="DropdownMenu",[tv,tj]=(0,I.createContextScope)(tf,[eM]),tb=eM(),[ty,tN]=tv(tf),tw=e=>{let{__scopeDropdownMenu:t,children:a,dir:l,open:r,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=tb(t),u=n.useRef(null),[p,m]=(0,D.useControllableState)({prop:r,defaultProp:i??!1,onChange:o,caller:tf});return(0,s.jsx)(ty,{scope:t,triggerId:(0,X.useId)(),triggerRef:u,contentId:(0,X.useId)(),open:p,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),modal:c,children:(0,s.jsx)(eU,{...d,open:p,onOpenChange:m,dir:l,modal:c,children:a})})};tw.displayName=tf;var t_="DropdownMenuTrigger",tC=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,disabled:l=!1,...r}=e,n=tN(t_,a),i=tb(a);return(0,s.jsx)(ez,{asChild:!0,...i,children:(0,s.jsx)(O.Primitive.button,{type:"button",id:n.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":n.open?n.contentId:void 0,"data-state":n.open?"open":"closed","data-disabled":l?"":void 0,disabled:l,...r,ref:(0,L.composeRefs)(t,n.triggerRef),onPointerDown:(0,S.composeEventHandlers)(e.onPointerDown,e=>{!l&&0===e.button&&!1===e.ctrlKey&&(n.onOpenToggle(),n.open||e.preventDefault())}),onKeyDown:(0,S.composeEventHandlers)(e.onKeyDown,e=>{!l&&(["Enter"," "].includes(e.key)&&n.onOpenToggle(),"ArrowDown"===e.key&&n.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});tC.displayName=t_;var tk=e=>{let{__scopeDropdownMenu:t,...a}=e,l=tb(t);return(0,s.jsx)(e$,{...l,...a})};tk.displayName="DropdownMenuPortal";var tR="DropdownMenuContent",tE=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tN(tR,a),i=tb(a),o=n.useRef(!1);return(0,s.jsx)(eG,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...l,ref:t,onCloseAutoFocus:(0,S.composeEventHandlers)(e.onCloseAutoFocus,e=>{o.current||r.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:(0,S.composeEventHandlers)(e.onInteractOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,l=2===t.button||a;(!r.modal||l)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tE.displayName=tR,n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(eQ,{...r,...l,ref:t})}).displayName="DropdownMenuGroup";var tT=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(eZ,{...r,...l,ref:t})});tT.displayName="DropdownMenuLabel";var tP=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(e2,{...r,...l,ref:t})});tP.displayName="DropdownMenuItem";var tM=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(e4,{...r,...l,ref:t})});tM.displayName="DropdownMenuCheckboxItem",n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(e7,{...r,...l,ref:t})}).displayName="DropdownMenuRadioGroup";var tA=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(te,{...r,...l,ref:t})});tA.displayName="DropdownMenuRadioItem";var tS=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(tr,{...r,...l,ref:t})});tS.displayName="DropdownMenuItemIndicator";var tL=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(ts,{...r,...l,ref:t})});tL.displayName="DropdownMenuSeparator",n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(tn,{...r,...l,ref:t})}).displayName="DropdownMenuArrow";var tI=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(td,{...r,...l,ref:t})});tI.displayName="DropdownMenuSubTrigger";var tD=n.forwardRef((e,t)=>{let{__scopeDropdownMenu:a,...l}=e,r=tb(a);return(0,s.jsx)(tp,{...r,...l,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tD.displayName="DropdownMenuSubContent";var tO=e.i(43531);let tU=(0,x.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tz=(0,x.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var tF=e.i(75157);n.forwardRef(({className:e,inset:t,children:a,...l},r)=>(0,s.jsxs)(tI,{ref:r,className:(0,tF.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...l,children:[a,(0,s.jsx)(tU,{className:"ml-auto"})]})).displayName=tI.displayName,n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(tD,{ref:a,className:(0,tF.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=tD.displayName;let tV=n.forwardRef(({className:e,sideOffset:t=4,...a},l)=>(0,s.jsx)(tk,{children:(0,s.jsx)(tE,{ref:l,sideOffset:t,className:(0,tF.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));tV.displayName=tE.displayName;let tH=n.forwardRef(({className:e,inset:t,...a},l)=>(0,s.jsx)(tP,{ref:l,className:(0,tF.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a}));tH.displayName=tP.displayName,n.forwardRef(({className:e,children:t,checked:a,...l},r)=>(0,s.jsxs)(tM,{ref:r,className:(0,tF.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(tS,{children:(0,s.jsx)(tO.Check,{className:"h-4 w-4"})})}),t]})).displayName=tM.displayName,n.forwardRef(({className:e,children:t,...a},l)=>(0,s.jsxs)(tA,{ref:l,className:(0,tF.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(tS,{children:(0,s.jsx)(tz,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=tA.displayName;let t$=n.forwardRef(({className:e,inset:t,...a},l)=>(0,s.jsx)(tT,{ref:l,className:(0,tF.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));t$.displayName=tT.displayName;let tq=n.forwardRef(({className:e,...t},a)=>(0,s.jsx)(tL,{ref:a,className:(0,tF.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));tq.displayName=tL.displayName;var tB=e.i(14565),tK=e.i(86188),tG=e.i(25063);let tJ=(0,x.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var T=T;let tW=e=>e.split(",").map(e=>e.trim()).filter(Boolean),tX="w-full rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",tY="text-[11px] uppercase tracking-[0.15em] text-slate-400";function tQ({label:e,value:t,onChange:a}){let l="video"===t.kind,r=t.previewUrl||t.src;return(0,s.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[(0,s.jsx)("p",{className:tY,children:e}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Tipo"}),(0,s.jsxs)("select",{className:tX,value:t.kind||"image",onChange:e=>a({...t,kind:"video"===e.target.value?"video":"image"}),children:[(0,s.jsx)("option",{value:"image",children:"Imagem"}),(0,s.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Upload"}),(0,s.jsx)("input",{className:`${tX} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:l?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&a({...t,file:l,previewUrl:URL.createObjectURL(l)})}})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"URL / Caminho"}),(0,s.jsx)("input",{className:tX,placeholder:l?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:t.src||"",onChange:e=>a({...t,src:e.target.value,file:null,previewUrl:""})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Texto alternativo"}),(0,s.jsx)("input",{className:tX,value:t.alt||"",onChange:e=>a({...t,alt:e.target.value})})]}),l?(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Poster (opcional)"}),(0,s.jsx)("input",{className:tX,placeholder:"landing-pages/meu-projeto/poster.webp",value:t.poster||"",onChange:e=>a({...t,poster:e.target.value})})]}):null,r?(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/40",children:l?(0,s.jsx)("video",{src:r,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,s.jsx)("img",{src:r,alt:t.alt||"Pré-visualização",className:"h-56 w-full object-cover"})}):null]})}function tZ({value:e,onChange:t}){let a=a=>{t({...e,...a})},l=(t,l)=>{a({gallery_grid:e.gallery_grid.map(e=>e.id===t?{...e,...l}:e)})},r=(t,l)=>{let r="up"===l?t-1:t+1;if(r<0||r>=e.gallery_grid.length)return;let s=[...e.gallery_grid];[s[t],s[r]]=[s[r],s[t]],a({gallery_grid:s})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Título do projeto"}),(0,s.jsx)("input",{className:tX,value:e.project_title,onChange:e=>a({project_title:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Subtítulo"}),(0,s.jsx)("input",{className:tX,value:e.project_subtitle||"",onChange:e=>a({project_subtitle:e.target.value||""})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Slug do projeto"}),(0,s.jsx)("input",{className:tX,value:e.project_slug,onChange:e=>a({project_slug:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Cor de destaque"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.highlight_color||"#0048ff",onChange:e=>a({highlight_color:e.target.value}),title:"Cor de destaque"}),(0,s.jsx)("input",{className:tX,value:e.highlight_color||"#0048ff",onChange:e=>a({highlight_color:e.target.value||"#0048ff"})})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Cliente"}),(0,s.jsx)("input",{className:tX,value:e.project_client||"",onChange:e=>a({project_client:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Ano"}),(0,s.jsx)("input",{className:tX,type:"number",value:e.project_year||"",onChange:e=>a({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Tags (separadas por vírgula)"}),(0,s.jsx)("input",{className:tX,value:e.project_tags.join(", "),onChange:e=>a({project_tags:tW(e.target.value)})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Serviços (separados por vírgula)"}),(0,s.jsx)("input",{className:tX,value:(e.project_services||[]).join(", "),onChange:e=>a({project_services:tW(e.target.value)})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Resumo do projeto"}),(0,s.jsx)("textarea",{className:`${tX} min-h-28`,value:e.project_summary||"",onChange:e=>a({project_summary:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Headline da intro"}),(0,s.jsx)("input",{className:tX,value:e.intro_headline||"",onChange:e=>a({intro_headline:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Parágrafos da intro (1 por linha)"}),(0,s.jsx)("textarea",{className:`${tX} min-h-32`,value:(e.intro_body||[]).join("\n"),onChange:e=>a({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero"}),(0,s.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,s.jsx)(tQ,{label:"Hero Cover",value:e.hero_cover_image,onChange:e=>a({hero_cover_image:e})}),(0,s.jsx)(tQ,{label:"Logo Hero (opcional)",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>a({hero_logo_image:e})})]})]}),(0,s.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navegação e SEO"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Texto botão voltar"}),(0,s.jsx)("input",{className:tX,value:e.navigation?.back_label||"",onChange:t=>a({navigation:{...e.navigation,back_label:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Texto próximo projeto"}),(0,s.jsx)("input",{className:tX,value:e.navigation?.next_label||"",onChange:t=>a({navigation:{...e.navigation,next_label:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Slug próximo projeto"}),(0,s.jsx)("input",{className:tX,value:e.navigation?.next_project_slug||"",onChange:t=>a({navigation:{...e.navigation,next_project_slug:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"CTA"}),(0,s.jsx)("input",{className:tX,value:e.cta?.label||"",onChange:t=>a({cta:{...e.cta,label:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Link CTA"}),(0,s.jsx)("input",{className:tX,value:e.cta?.href||"",onChange:t=>a({cta:{...e.cta,href:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"SEO descrição"}),(0,s.jsx)("textarea",{className:`${tX} min-h-24`,value:e.seo?.description||"",onChange:t=>a({seo:{...e.seo,description:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"SEO og:image"}),(0,s.jsx)("input",{className:tX,value:e.seo?.og_image||"",onChange:t=>a({seo:{...e.seo,og_image:t.target.value}})})]})]})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Gallery Grid"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let t;return a({gallery_grid:[...e.gallery_grid,(t=e.gallery_grid.length,{id:`grid-item-${t+1}`,kind:"image",layout:"grid",src:"",alt:"",title:"",eyebrow:"",description:"",quote:""})]})},className:"inline-flex min-h-11 items-center gap-2 rounded-full bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,s.jsx)(b.Plus,{size:14}),"Adicionar item"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,s.jsx)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum item na galeria. Adicione o primeiro bloco de mídia."}):null,e.gallery_grid.map((t,n)=>{let i=t.previewUrl||t.src;return(0,s.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,s.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Item ",n+1]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>r(n,"up"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,s.jsx)(tJ,{size:14})}),(0,s.jsx)("button",{type:"button",onClick:()=>r(n,"down"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,s.jsx)(tG.ArrowDown,{size:14})}),(0,s.jsx)("button",{type:"button",onClick:()=>{var l;return l=t.id,void a({gallery_grid:e.gallery_grid.filter(e=>e.id!==l)})},className:"rounded-md border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover item",children:(0,s.jsx)(h.Trash2,{size:14})})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Layout"}),(0,s.jsxs)("select",{className:tX,value:t.layout,onChange:e=>l(t.id,{layout:e.target.value}),children:[(0,s.jsx)("option",{value:"grid",children:"Grid"}),(0,s.jsx)("option",{value:"full-highlight",children:"Full Highlight"}),(0,s.jsx)("option",{value:"full",children:"Full Width"}),(0,s.jsx)("option",{value:"feature",children:"Feature Banner"}),(0,s.jsx)("option",{value:"quote-band",children:"Quote Band"}),(0,s.jsx)("option",{value:"split-left",children:"Split Left"}),(0,s.jsx)("option",{value:"split-right",children:"Split Right"})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Tipo de mídia"}),(0,s.jsxs)("select",{className:tX,value:t.kind,onChange:e=>l(t.id,{kind:"video"===e.target.value?"video":"image"}),children:[(0,s.jsx)("option",{value:"image",children:"Imagem"}),(0,s.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"URL / Caminho"}),(0,s.jsx)("input",{className:tX,value:t.src,onChange:e=>l(t.id,{src:e.target.value,file:null,previewUrl:""})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Upload"}),(0,s.jsx)("input",{type:"file",className:`${tX} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:"video"===t.kind?"video/*":"image/*",onChange:e=>{let a=e.target.files?.[0];a&&l(t.id,{file:a,previewUrl:URL.createObjectURL(a)})}})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Poster (vídeo)"}),(0,s.jsx)("input",{className:tX,value:t.poster||"",onChange:e=>l(t.id,{poster:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Alt"}),(0,s.jsx)("input",{className:tX,value:t.alt,onChange:e=>l(t.id,{alt:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Eyebrow"}),(0,s.jsx)("input",{className:tX,value:t.eyebrow||"",onChange:e=>l(t.id,{eyebrow:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:tY,children:"Título"}),(0,s.jsx)("input",{className:tX,value:t.title||"",onChange:e=>l(t.id,{title:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Descrição"}),(0,s.jsx)("textarea",{className:`${tX} min-h-24`,value:t.description||"",onChange:e=>l(t.id,{description:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:tY,children:"Quote (quote band)"}),(0,s.jsx)("input",{className:tX,value:t.quote||"",onChange:e=>l(t.id,{quote:e.target.value})})]})]}),i?(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/50",children:"video"===t.kind?(0,s.jsx)("video",{src:i,className:"h-48 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,s.jsx)("img",{src:i,alt:t.alt||"Preview",className:"h-48 w-full object-cover"})}):(0,s.jsxs)("div",{className:"flex h-24 items-center justify-center rounded-xl border border-dashed border-white/10 text-xs text-slate-500",children:["video"===t.kind?(0,s.jsx)(_,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(T.default,{className:"mr-2 h-4 w-4"}),"Sem pré-visualização"]})]},t.id)})]})]})]})}var T=T;let t0=e=>e.split(",").map(e=>e.trim()).filter(Boolean),t1="w-full rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",t2="text-[11px] uppercase tracking-[0.15em] text-slate-400";function t5({label:e,value:t,onChange:a}){let l="video"===t.kind,r=t.previewUrl||t.src,n=!l&&!t.alt?.trim();return(0,s.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[(0,s.jsx)("p",{className:t2,children:e}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Tipo"}),(0,s.jsxs)("select",{className:t1,value:t.kind||"image",onChange:e=>a({...t,kind:"video"===e.target.value?"video":"image"}),children:[(0,s.jsx)("option",{value:"image",children:"Imagem"}),(0,s.jsx)("option",{value:"video",children:"Vídeo"})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Upload"}),(0,s.jsx)("input",{className:`${t1} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:l?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&a({...t,file:l,previewUrl:URL.createObjectURL(l)})}})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"URL / Caminho"}),(0,s.jsx)("input",{className:t1,placeholder:l?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:t.src||"",onChange:e=>a({...t,src:e.target.value,file:null,previewUrl:""})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Texto alternativo (obrigatório para imagem)"}),(0,s.jsx)("input",{className:t1,value:t.alt||"",onChange:e=>a({...t,alt:e.target.value})})]}),n?(0,s.jsx)("p",{className:"text-xs text-red-300",children:"Alt text obrigatório para mídia de imagem."}):null,l?(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Poster (opcional)"}),(0,s.jsx)("input",{className:t1,placeholder:"landing-pages/meu-projeto/poster.webp",value:t.poster||"",onChange:e=>a({...t,poster:e.target.value})})]}):null,r?(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/40",children:l?(0,s.jsx)("video",{src:r,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,s.jsx)("img",{src:r,alt:t.alt||"Pré-visualização",className:"h-56 w-full object-cover"})}):null]})}function t4({value:e,onChange:t}){let a=a=>{t({...e,...a})},l=(t,l)=>{a({gallery_grid:e.gallery_grid.map(e=>e.id===t?{...e,...l}:e)})},r=(t,l)=>{let r="up"===l?t-1:t+1;if(r<0||r>=e.gallery_grid.length)return;let s=[...e.gallery_grid];[s[t],s[r]]=[s[r],s[t]],a({gallery_grid:s})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Base da Página (V2)"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Título do projeto"}),(0,s.jsx)("input",{className:t1,value:e.project_title,onChange:e=>a({project_title:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Subtítulo"}),(0,s.jsx)("input",{className:t1,value:e.project_subtitle||"",onChange:e=>a({project_subtitle:e.target.value||""})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Slug do projeto"}),(0,s.jsx)("input",{className:t1,value:e.project_slug,onChange:e=>a({project_slug:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Cor de destaque"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.highlight_color||"#0048ff",onChange:e=>a({highlight_color:e.target.value}),title:"Cor de destaque"}),(0,s.jsx)("input",{className:t1,value:e.highlight_color||"#0048ff",onChange:e=>a({highlight_color:e.target.value||"#0048ff"})})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Theme color (Liquid Ether)"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.theme_color||"#0048ff",onChange:e=>a({theme_color:e.target.value}),title:"Theme color"}),(0,s.jsx)("input",{className:t1,value:e.theme_color||"#0048ff",onChange:e=>a({theme_color:e.target.value||"#0048ff"})})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Cliente"}),(0,s.jsx)("input",{className:t1,value:e.project_client||"",onChange:e=>a({project_client:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Ano"}),(0,s.jsx)("input",{className:t1,type:"number",value:e.project_year||"",onChange:e=>a({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Tags (separadas por vírgula)"}),(0,s.jsx)("input",{className:t1,value:e.project_tags.join(", "),onChange:e=>a({project_tags:t0(e.target.value)})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Serviços (separados por vírgula)"}),(0,s.jsx)("input",{className:t1,value:(e.project_services||[]).join(", "),onChange:e=>a({project_services:t0(e.target.value)})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Resumo (summary)"}),(0,s.jsx)("textarea",{className:`${t1} min-h-28`,value:e.project_summary||"",onChange:e=>a({project_summary:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Headline da intro"}),(0,s.jsx)("input",{className:t1,value:e.intro_headline||"",onChange:e=>a({intro_headline:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Parágrafos da intro (1 por linha)"}),(0,s.jsx)("textarea",{className:`${t1} min-h-32`,value:(e.intro_body||[]).join("\n"),onChange:e=>a({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero"}),(0,s.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,s.jsx)(t5,{label:"Hero Cover",value:e.hero_cover_image,onChange:e=>a({hero_cover_image:e})}),(0,s.jsx)(t5,{label:"Logo Hero (opcional)",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>a({hero_logo_image:e})})]})]}),(0,s.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navegação e SEO"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Texto botão voltar"}),(0,s.jsx)("input",{className:t1,value:e.navigation?.back_label||"",onChange:t=>a({navigation:{...e.navigation,back_label:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Texto próximo projeto"}),(0,s.jsx)("input",{className:t1,value:e.navigation?.next_label||"",onChange:t=>a({navigation:{...e.navigation,next_label:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Slug próximo projeto"}),(0,s.jsx)("input",{className:t1,value:e.navigation?.next_project_slug||"",onChange:t=>a({navigation:{...e.navigation,next_project_slug:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"CTA"}),(0,s.jsx)("input",{className:t1,value:e.cta?.label||"",onChange:t=>a({cta:{...e.cta,label:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Link CTA"}),(0,s.jsx)("input",{className:t1,value:e.cta?.href||"",onChange:t=>a({cta:{...e.cta,href:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"SEO descrição"}),(0,s.jsx)("textarea",{className:`${t1} min-h-24`,value:e.seo?.description||"",onChange:t=>a({seo:{...e.seo,description:t.target.value}})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"SEO og:image"}),(0,s.jsx)("input",{className:t1,value:e.seo?.og_image||"",onChange:t=>a({seo:{...e.seo,og_image:t.target.value}})})]})]})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Conteúdo Dinâmico (gallery_grid)"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let t;return a({gallery_grid:[...e.gallery_grid,(t=e.gallery_grid.length,{id:`grid-item-${t+1}`,kind:"image",layout_type:"grid_2_col",media_align:"left",src:"",alt:"",title:"",eyebrow:"",description:"",quote:"",features:[]})]})},className:"inline-flex min-h-11 items-center gap-2 rounded-full bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,s.jsx)(b.Plus,{size:14}),"Adicionar bloco"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,s.jsx)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum bloco no gallery_grid. Adicione o primeiro bloco."}):null,e.gallery_grid.map((t,n)=>{let i=t.previewUrl||t.src,o="video"!==t.kind&&!t.alt?.trim(),c="grid_quote"===t.layout_type,d="grid_split"===t.layout_type,u="grid_features_3"===t.layout_type;return(0,s.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,s.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Bloco ",n+1]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>r(n,"up"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,s.jsx)(tJ,{size:14})}),(0,s.jsx)("button",{type:"button",onClick:()=>r(n,"down"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,s.jsx)(tG.ArrowDown,{size:14})}),(0,s.jsx)("button",{type:"button",onClick:()=>{var l;return l=t.id,void a({gallery_grid:e.gallery_grid.filter(e=>e.id!==l)})},className:"rounded-md border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover bloco",children:(0,s.jsx)(h.Trash2,{size:14})})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Layout type"}),(0,s.jsxs)("select",{className:t1,value:t.layout_type,onChange:e=>l(t.id,{layout_type:e.target.value}),children:[(0,s.jsx)("option",{value:"grid_2_col",children:"Grid 2 col"}),(0,s.jsx)("option",{value:"grid_1_col",children:"Grid 1 col"}),(0,s.jsx)("option",{value:"grid_feat",children:"Full Highlight"}),(0,s.jsx)("option",{value:"grid_features_3",children:"Features 3"}),(0,s.jsx)("option",{value:"grid_quote",children:"Quote"}),(0,s.jsx)("option",{value:"grid_split",children:"Split"})]})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Tipo de mídia"}),(0,s.jsxs)("select",{className:t1,value:t.kind,onChange:e=>l(t.id,{kind:"video"===e.target.value?"video":"image"}),children:[(0,s.jsx)("option",{value:"image",children:"Imagem"}),(0,s.jsx)("option",{value:"video",children:"Vídeo"})]})]}),d?(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Posição da mídia"}),(0,s.jsxs)("select",{className:t1,value:t.media_align||"left",onChange:e=>l(t.id,{media_align:"right"===e.target.value?"right":"left"}),children:[(0,s.jsx)("option",{value:"left",children:"Esquerda"}),(0,s.jsx)("option",{value:"right",children:"Direita"})]})]}):null,c?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"URL / Caminho"}),(0,s.jsx)("input",{className:t1,value:t.src,onChange:e=>l(t.id,{src:e.target.value,file:null,previewUrl:""})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Upload"}),(0,s.jsx)("input",{type:"file",className:`${t1} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:"video"===t.kind?"video/*":"image/*",onChange:e=>{let a=e.target.files?.[0];a&&l(t.id,{file:a,previewUrl:URL.createObjectURL(a)})}})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Poster (vídeo)"}),(0,s.jsx)("input",{className:t1,value:t.poster||"",onChange:e=>l(t.id,{poster:e.target.value})})]})]}),"video"!==t.kind?(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Alt (obrigatório)"}),(0,s.jsx)("input",{className:t1,value:t.alt,onChange:e=>l(t.id,{alt:e.target.value})})]}):null,o?(0,s.jsx)("p",{className:"md:col-span-2 text-xs text-red-300",children:"Alt text obrigatório para blocos de imagem."}):null,(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Eyebrow"}),(0,s.jsx)("input",{className:t1,value:t.eyebrow||"",onChange:e=>l(t.id,{eyebrow:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1",children:[(0,s.jsx)("span",{className:t2,children:"Título"}),(0,s.jsx)("input",{className:t1,value:t.title||"",onChange:e=>l(t.id,{title:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Descrição"}),(0,s.jsx)("textarea",{className:`${t1} min-h-24`,value:t.description||"",onChange:e=>l(t.id,{description:e.target.value})})]}),(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Quote"}),(0,s.jsx)("input",{className:t1,value:t.quote||"",onChange:e=>l(t.id,{quote:e.target.value})})]}),u?(0,s.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("span",{className:t2,children:"Features (1 por linha: título | descrição)"}),(0,s.jsx)("textarea",{className:`${t1} min-h-24`,value:(t.features??[]).map(e=>`${e.title}${e.description?` | ${e.description}`:""}`).join("\n"),onChange:e=>l(t.id,{features:e.target.value.split("\n").reduce((e,t,a)=>{let[l,r]=t.split("|"),s=l?.trim();return s&&e.push({id:`feature-${a+1}`,title:s,description:r?.trim()||void 0}),e},[])})})]}):null]}),i?(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/50",children:"video"===t.kind?(0,s.jsx)("video",{src:i,className:"h-48 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,s.jsx)("img",{src:i,alt:t.alt||"Preview",className:"h-48 w-full object-cover"})}):(0,s.jsxs)("div",{className:"flex h-24 items-center justify-center rounded-xl border border-dashed border-white/10 text-xs text-slate-500",children:["video"===t.kind?(0,s.jsx)(_,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(T.default,{className:"mr-2 h-4 w-4"}),"Sem pré-visualização"]})]},t.id)})]})]})]})}let t3="/site-assets/",t6=e=>e?e.includes(t3)?e.split(t3).pop()||"":e.replace(/^\/?storage\/v1\/object\/public\/site-assets\//,"").replace(/^\/?site-assets\//,"").replace(/^\//,""):"";function t8({initialData:e}){let t,a,l=(0,i.useRouter)(),r=(0,c.createClientComponentClient)(),d=(0,n.useMemo)(()=>(0,tK.parseLandingPageContent)(e?.content,{slug:e?.slug,title:e?.title,cover:e?.cover}),[e]),[u,p]=(0,n.useState)(e?.title||""),[x,T]=(0,n.useState)(e?.slug||""),[P,M]=(0,n.useState)(e?d.template:tB.MASTER_PROJECT_TEMPLATE_V2),[S,L]=(0,n.useState)(null),[I,D]=(0,n.useState)(e?.cover?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.cover}`:""),[O,U]=(0,n.useState)(d.template===tB.LEGACY_PROJECT_TEMPLATE?d.blocks.map(e=>({...e,id:e.id||m(),content:{...e.content,media:e.content.media?.startsWith("http")?e.content.media:e.content.media?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.content.media}`:void 0,media2:e.content.media2?.startsWith("http")?e.content.media2:e.content.media2?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.content.media2}`:void 0}})):[]),[z,F]=(0,n.useState)({...t=d.template===tB.MASTER_PROJECT_TEMPLATE?d.data:(0,tK.createDefaultMasterProjectTemplate)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:{...t.hero_cover_image,file:null,previewUrl:""},hero_logo_image:t.hero_logo_image?{...t.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:t.gallery_grid.map(e=>({...e,file:null,previewUrl:""}))}),[V,H]=(0,n.useState)({...a=d.template===tB.MASTER_PROJECT_TEMPLATE_V2?d.data:(0,tK.createDefaultMasterProjectTemplateV2)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:{...a.hero_cover_image,file:null,previewUrl:""},hero_logo_image:a.hero_logo_image?{...a.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:a.gallery_grid.map(e=>({...e,file:null,previewUrl:""}))}),[$,q]=(0,n.useState)(!1),B=e=>{U([...O,{id:m(),type:e,content:{},file:null,file2:null}])},K=(e,t)=>{let a=[...O],l="up"===t?e-1:e+1;l<0||l>=O.length||([a[e],a[l]]=[a[l],a[e]],U(a))},G=async(e,t)=>await (0,k.uploadSiteAsset)({file:e,key:t,page:"landing-pages",subPath:x||"general",bucket:"site-assets"}),J=async()=>{let t=e?.cover||"";if(S){let e=await G(S,`cover-${m()}`);e&&(t=e)}return{coverPath:t,content:await Promise.all(O.map(async e=>{let t=e.content.media,a=e.content.media2;if(e.file){let a=await G(e.file,`block-${e.id}-media1`);a&&(t=a)}else t&&(t=t6(t));if(e.file2){let t=await G(e.file2,`block-${e.id}-media2`);t&&(a=t)}else a&&(a=t6(a));return{id:e.id,type:e.type,content:{...e.content,media:t,media2:a}}}))}},W=async()=>{let e,t={...z,project_slug:x,project_title:z.project_title||u},a=t.hero_cover_image.src;if(t.hero_cover_image.file){let e=await G(t.hero_cover_image.file,`master-hero-${m()}`);e&&(a=e)}else a=t6(a);let l=t.hero_logo_image;if(l?.file){let e=await G(l.file,`master-logo-${m()}`);e&&(l={...l,src:e,file:null,previewUrl:""})}else l?.src&&(l={...l,src:t6(l.src)});let r=await Promise.all(t.gallery_grid.map(async e=>{let t=e.src;if(e.file){let a=await G(e.file,`master-grid-${e.id}`);a&&(t=a)}else t=t6(t);return{...e,src:t,poster:e.poster?t6(e.poster):e.poster,file:null,previewUrl:""}})),s={...e={...t,hero_cover_image:{...t.hero_cover_image,src:a,file:null,previewUrl:""},hero_logo_image:l,gallery_grid:r,seo:{...t.seo,og_image:t.seo?.og_image?t6(t.seo.og_image):a}},hero_cover_image:{src:e.hero_cover_image.src,alt:e.hero_cover_image.alt,kind:e.hero_cover_image.kind,poster:e.hero_cover_image.poster},hero_logo_image:e.hero_logo_image?{src:e.hero_logo_image.src,alt:e.hero_logo_image.alt,kind:e.hero_logo_image.kind,poster:e.hero_logo_image.poster}:void 0,gallery_grid:e.gallery_grid.map(e=>({id:e.id,src:e.src,alt:e.alt,kind:e.kind,layout:e.layout,poster:e.poster,title:e.title,eyebrow:e.eyebrow,description:e.description,quote:e.quote}))};return{coverPath:a,content:s}},X=async()=>{let e,t={...V,project_slug:x,project_title:V.project_title||u};if("video"!==t.hero_cover_image.kind&&!t.hero_cover_image.alt.trim())throw Error("Hero cover precisa de alt text quando for imagem.");let a=t.gallery_grid.find(e=>"video"!==e.kind&&"grid_quote"!==e.layout_type&&!e.alt.trim());if(a)throw Error(`Alt text obrigat\xf3rio no bloco "${a.id}" (imagem).`);let l=t.hero_cover_image.src;if(t.hero_cover_image.file){let e=await G(t.hero_cover_image.file,`master-v2-hero-${m()}`);e&&(l=e)}else l=t6(l);let r=t.hero_logo_image;if(r?.file){let e=await G(r.file,`master-v2-logo-${m()}`);e&&(r={...r,src:e,file:null,previewUrl:""})}else r?.src&&(r={...r,src:t6(r.src)});let s=await Promise.all(t.gallery_grid.map(async e=>{let t=e.src;if(e.file){let a=await G(e.file,`master-v2-grid-${e.id}`);a&&(t=a)}else t=t6(t);return{...e,src:t,poster:e.poster?t6(e.poster):e.poster,file:null,previewUrl:""}})),n={...e={...t,hero_cover_image:{...t.hero_cover_image,src:l,file:null,previewUrl:""},hero_logo_image:r,gallery_grid:s,seo:{...t.seo,og_image:t.seo?.og_image?t6(t.seo.og_image):l}},hero_cover_image:{src:e.hero_cover_image.src,alt:e.hero_cover_image.alt,kind:e.hero_cover_image.kind,poster:e.hero_cover_image.poster},hero_logo_image:e.hero_logo_image?{src:e.hero_logo_image.src,alt:e.hero_logo_image.alt,kind:e.hero_logo_image.kind,poster:e.hero_logo_image.poster}:void 0,gallery_grid:e.gallery_grid.map(e=>({id:e.id,src:e.src,alt:e.alt,kind:e.kind,layout_type:e.layout_type,poster:e.poster,title:e.title,eyebrow:e.eyebrow,description:e.description,quote:e.quote,media_align:e.media_align,features:e.features?.map((t,a)=>({id:t.id||`${e.id}-feature-${a+1}`,title:t.title,description:t.description}))}))};return{coverPath:l,content:n}},Y=async()=>{if(!u||!x)return void alert("Título e Slug são obrigatórios.");try{q(!0);let t=P===tB.MASTER_PROJECT_TEMPLATE?await W():P===tB.MASTER_PROJECT_TEMPLATE_V2?await X():await J(),a={title:u,slug:x,cover:t.coverPath,content:t.content};if(e?.id){let{error:t}=await r.from("landing_pages").update(a).eq("id",e.id);if(t)throw t}else{let{error:e}=await r.from("landing_pages").insert({...a,created_at:new Date().toISOString()});if(e)throw e}l.push("/admin/landing-pages"),l.refresh()}catch(t){let e=t instanceof Error?t.message:"Erro desconhecido";console.error(t),alert(`Erro ao salvar p\xe1gina: ${e}`)}finally{q(!1)}};return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-12 pb-48",children:[(0,s.jsxs)("div",{className:"sticky top-4 z-50 flex items-center justify-between rounded-full border border-white/10 bg-black/50 p-4 shadow-2xl backdrop-blur-md",children:[(0,s.jsxs)(R.default,{href:"/admin/landing-pages",className:"flex items-center gap-2 px-4 text-slate-400 transition-colors hover:text-white",children:[(0,s.jsx)(j.ArrowLeft,{size:20}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Voltar"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[x?(0,s.jsx)(R.default,{href:`/projects/${x}`,target:"_blank",rel:"noopener noreferrer",className:"hidden rounded-full border border-white/15 px-5 py-2 text-xs font-semibold uppercase tracking-[0.1em] text-slate-200 transition-colors hover:border-blue-400 hover:text-white md:inline-flex",children:"Preview"}):null,(0,s.jsx)("span",{className:"hidden text-sm text-slate-500 lg:inline",children:P===tB.MASTER_PROJECT_TEMPLATE?`${z.gallery_grid.length} itens no gallery_grid`:P===tB.MASTER_PROJECT_TEMPLATE_V2?`${V.gallery_grid.length} blocos no gallery_grid`:`${O.length} blocos adicionados`}),(0,s.jsxs)("button",{onClick:Y,disabled:$,className:"flex items-center gap-2 rounded-full bg-blue-600 px-8 py-2.5 text-sm font-bold tracking-wide text-white shadow-lg shadow-blue-600/20 transition-all hover:bg-blue-500 disabled:opacity-50",children:[(0,s.jsx)(v,{size:18}),$?"PUBLICANDO...":"SALVAR PÁGINA"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,s.jsx)("div",{className:"space-y-6 lg:col-span-1",children:(0,s.jsxs)("div",{className:"sticky top-28 space-y-6 rounded-3xl border border-white/5 bg-slate-900/40 p-6",children:[(0,s.jsx)("h2",{className:"mb-4 text-xs font-bold uppercase tracking-[0.2em] text-blue-400",children:"Configurações"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Tipo de Template"}),(0,s.jsxs)("select",{className:"w-full rounded-xl border border-white/10 bg-slate-950 px-4 py-3 text-sm outline-none focus:border-blue-500",value:P,onChange:e=>M(e.target.value),children:[(0,s.jsx)("option",{value:tB.MASTER_PROJECT_TEMPLATE_V2,children:"Template Mestre V2 (MLPE)"}),(0,s.jsx)("option",{value:tB.MASTER_PROJECT_TEMPLATE,children:"Template Mestre V1"}),(0,s.jsx)("option",{value:tB.LEGACY_PROJECT_TEMPLATE,children:"Legacy Blocks"})]}),(0,s.jsx)("p",{className:"text-[11px] leading-relaxed text-slate-500",children:"O V2 usa `layout_type` + renderer modular (MLPE). O V1 mantém o template anterior e o Legacy mantém o builder antigo por blocos."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Título"}),(0,s.jsx)("input",{type:"text",value:u,onChange:e=>{let t=e.target.value;p(t),P!==tB.MASTER_PROJECT_TEMPLATE||z.project_title||F(e=>({...e,project_title:t})),P!==tB.MASTER_PROJECT_TEMPLATE_V2||V.project_title||H(e=>({...e,project_title:t}))},className:"w-full rounded-xl border border-white/10 bg-slate-950 px-4 py-3 text-lg font-medium outline-none focus:border-blue-500",placeholder:"Nome do Projeto"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Slug URL"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-slate-500",children:[(0,s.jsx)("span",{className:"text-xs",children:"/projects/"}),(0,s.jsx)("input",{type:"text",value:x,onChange:e=>{let t=e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-");T(t),P===tB.MASTER_PROJECT_TEMPLATE&&F(e=>({...e,project_slug:t})),P===tB.MASTER_PROJECT_TEMPLATE_V2&&H(e=>({...e,project_slug:t}))},className:"w-full bg-transparent text-sm font-mono text-white outline-none",placeholder:"my-project"})]})]}),P===tB.LEGACY_PROJECT_TEMPLATE?(0,s.jsxs)("div",{className:"space-y-3 border-t border-white/5 pt-4",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest text-slate-500",children:["Header Hero Image"," ",(0,s.jsx)("span",{className:"text-[10px] text-blue-500",children:"(Cover)"})]}),(0,s.jsx)("div",{className:"group relative aspect-4/3 overflow-hidden rounded-xl border border-white/10 bg-slate-950",children:I?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.default,{src:I,alt:"Cover",fill:!0,className:"object-cover"}),(0,s.jsx)("button",{onClick:()=>{L(null),D("")},className:"absolute top-2 right-2 rounded-full bg-red-600 p-2 opacity-0 transition-opacity group-hover:opacity-100",title:"Remover Capa","aria-label":"Remover Capa",type:"button",children:(0,s.jsx)(h.Trash2,{size:16})})]}):(0,s.jsxs)("label",{className:"absolute inset-0 flex cursor-pointer flex-col items-center justify-center transition-colors hover:bg-white/5",children:[(0,s.jsx)(N.ImageIcon,{className:"mb-2 text-slate-600"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-500",children:"Upload Capa"}),(0,s.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&(L(t),D(URL.createObjectURL(t)))}})]})})]}):null]})}),(0,s.jsx)("div",{className:"space-y-8 lg:col-span-2",children:P===tB.MASTER_PROJECT_TEMPLATE?(0,s.jsx)(tZ,{value:z,onChange:F}):P===tB.MASTER_PROJECT_TEMPLATE_V2?(0,s.jsx)(t4,{value:V,onChange:H}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xs font-bold uppercase tracking-[0.2em] text-white",children:"Builder"}),(0,s.jsxs)(tw,{children:[(0,s.jsx)(tC,{asChild:!0,children:(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-xs font-bold uppercase tracking-wide text-white shadow-lg transition-all hover:bg-blue-500 hover:shadow-blue-500/25",children:[(0,s.jsx)(b.Plus,{size:16})," Adicionar Bloco"]})}),(0,s.jsxs)(tV,{align:"end",className:"w-56 border-slate-800 bg-slate-900 text-slate-200",children:[(0,s.jsx)(t$,{className:"text-xs uppercase tracking-widest text-slate-500",children:"Layouts Básicos"}),(0,s.jsxs)(tH,{onClick:()=>B("text"),children:[(0,s.jsx)(w,{className:"mr-2 h-4 w-4"})," Texto Puro"]}),(0,s.jsxs)(tH,{onClick:()=>B("image"),children:[(0,s.jsx)(N.ImageIcon,{className:"mr-2 h-4 w-4"})," Imagem Full"]}),(0,s.jsxs)(tH,{onClick:()=>B("video"),children:[(0,s.jsx)(_,{className:"mr-2 h-4 w-4"})," Vídeo Full"]}),(0,s.jsxs)(tH,{onClick:()=>B("video-autoplay"),children:[(0,s.jsx)(_,{className:"mr-2 h-4 w-4 text-blue-400"})," Vídeo Autoplay (Loop)"]}),(0,s.jsx)(tq,{className:"bg-slate-800"}),(0,s.jsx)(t$,{className:"text-xs uppercase tracking-widest text-slate-500",children:"Composições"}),(0,s.jsxs)(tH,{onClick:()=>B("image-text"),children:[(0,s.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,s.jsx)(N.ImageIcon,{className:"h-3 w-3"}),(0,s.jsx)(w,{className:"h-3 w-3"})]})," ","Imagem + Texto"]}),(0,s.jsxs)(tH,{onClick:()=>B("text-image"),children:[(0,s.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,s.jsx)(w,{className:"h-3 w-3"}),(0,s.jsx)(N.ImageIcon,{className:"h-3 w-3"})]})," ","Texto + Imagem"]}),(0,s.jsxs)(tH,{onClick:()=>B("image-image"),children:[(0,s.jsx)(C,{className:"mr-2 h-4 w-4"})," Imagem Dupla (Grid)"]}),(0,s.jsxs)(tH,{onClick:()=>B("image-video"),children:[(0,s.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,s.jsx)(N.ImageIcon,{className:"h-3 w-3"}),(0,s.jsx)(_,{className:"h-3 w-3"})]})," ","Imagem + Vídeo"]}),(0,s.jsxs)(tH,{onClick:()=>B("video-text"),children:[(0,s.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,s.jsx)(_,{className:"h-3 w-3"}),(0,s.jsx)(w,{className:"h-3 w-3"})]})," ","Vídeo + Texto"]})]})]})]}),(0,s.jsxs)("div",{className:"min-h-[500px] space-y-8",children:[0===O.length&&(0,s.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border-2 border-dashed border-white/5 bg-slate-900/20 text-slate-500",children:[(0,s.jsx)(y,{className:"mb-4 opacity-20",size:64}),(0,s.jsx)("p",{className:"text-sm",children:"Comece adicionando um bloco via menu acima."})]}),O.map((e,t)=>(0,s.jsxs)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"group relative overflow-hidden rounded-3xl border border-white/5 bg-[#0a0a0a] shadow-xl transition-all hover:border-blue-500/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-white/5 bg-white/5 px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"rounded border border-blue-500/20 bg-blue-500/10 px-2 py-1 text-[10px] font-bold text-blue-400",children:(t+1).toString().padStart(2,"0")}),(0,s.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:e.type.replace("-"," & ")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 opacity-50 transition-opacity group-hover:opacity-100",children:[(0,s.jsx)("button",{onClick:()=>K(t,"up"),disabled:0===t,className:"rounded-lg p-2 hover:bg-white/10 disabled:opacity-20",title:"Mover para cima","aria-label":"Mover para cima",type:"button",children:(0,s.jsx)(g,{size:14})}),(0,s.jsx)("button",{onClick:()=>K(t,"down"),disabled:t===O.length-1,className:"rounded-lg p-2 hover:bg-white/10 disabled:opacity-20",title:"Mover para baixo","aria-label":"Mover para baixo",type:"button",children:(0,s.jsx)(f,{size:14})}),(0,s.jsx)("div",{className:"mx-2 h-4 w-px bg-white/10"}),(0,s.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Tem certeza que deseja remover este bloco?")&&U(O.filter(e=>e.id!==t)))},className:"rounded-lg p-2 text-slate-500 hover:bg-red-500/20 hover:text-red-400",title:"Remover bloco","aria-label":"Remover bloco",type:"button",children:(0,s.jsx)(h.Trash2,{size:14})})]})]}),(0,s.jsx)(A,{block:e,onChange:t=>{var a;return a=e.id,void U(O.map(e=>e.id===a?{...e,...t}:e))}})]},e.id))]})]})})]})]})}e.s(["default",()=>t8],58384)}]);