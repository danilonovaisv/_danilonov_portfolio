(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41957,e=>{"use strict";e.s(["ADMIN_NAVIGATION",0,{dashboard:"/admin",trabalhos:{index:"/admin/trabalhos",new:"/admin/trabalhos/new",detail:e=>`/admin/trabalhos/${e}`},tags:"/admin/tags",midia:"/admin/midia","landing-pages":"/admin/landing-pages",settings:"/admin/settings",config:"/admin/settings",copyAgent:"/admin/copy-agent",sceneGenerator:"/admin/scene-generator"}])},22966,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(18566),n=e.i(11795),r=e.i(41957);function i(){let[e,i]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[o,c]=(0,a.useState)(null),[m,u]=(0,a.useTransition)(),[x,h]=(0,a.useState)(!1),p=(0,t.useRouter)(),b=(0,t.useSearchParams)();return(0,a.useEffect)(()=>{b.get("error")&&c("Erro na autenticação. Por favor, tente novamente.")},[b]),(0,a.useEffect)(()=>{},[p]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Admin"}),(0,s.jsx)("h1",{className:"text-2xl font-semibold mt-2",children:"Entrar no painel"}),(0,s.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Use seu email e senha do Supabase Auth."})]}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:s=>{s.preventDefault(),c(null),u(async()=>{try{let s=(0,n.createClientComponentClient)(),{data:a,error:t}=await s.auth.signInWithPassword({email:e,password:l});if(t)return void c(t.message);a.session?(h(!0),p.refresh(),setTimeout(()=>{window.location.href=r.ADMIN_NAVIGATION.dashboard},500)):c("Falha ao estabelecer sessão. Tente novamente.")}catch(e){console.error("Login error:",e),c("Ocorreu um erro inesperado.")}})},children:[(0,s.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-slate-300",children:"Email"}),(0,s.jsx)("input",{type:"email",required:!0,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",value:e,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-slate-300",children:"Senha"}),(0,s.jsx)("input",{type:"password",required:!0,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",value:l,onChange:e=>d(e.target.value)})]}),o&&(0,s.jsx)("div",{className:"text-sm text-red-400",children:o}),(0,s.jsx)("button",{type:"submit",className:"w-full rounded-md bg-blue-500 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-60",disabled:m||x,children:x?"Redirecionando...":m?"Entrando...":"Entrar"})]})]})}function l(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Admin"}),(0,s.jsx)("h1",{className:"text-2xl font-semibold mt-2",children:"Carregando..."})]}),children:(0,s.jsx)(i,{})})}e.s(["default",()=>l],22966)}]);