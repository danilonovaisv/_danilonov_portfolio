(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6759],{5772:(e,a,t)=>{"use strict";t.d(a,{default:()=>s.a});var r=t(97651),s=t.n(r)},6296:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(90425).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9339:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={callServer:function(){return l.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let l=t(77304),i=t(4060),o=t(77197)},9728:(e,a,t)=>{Promise.resolve().then(t.bind(t,85593))},17243:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(90425).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},21172:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return s}});let r=t(12115);function s(e,a){let t=(0,r.useRef)(null),s=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=t.current;e&&(t.current=null,e());let a=s.current;a&&(s.current=null,a())}else e&&(t.current=l(e,r)),a&&(s.current=l(a,r))},[e,a])}function l(e,a){if("function"!=typeof e)return e.current=a,()=>{e.current=null};{let t=e(a);return"function"==typeof t?t:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},26502:(e,a,t)=>{"use strict";t.d(a,{s:()=>m});var r=t(95155),s=t(94961),l=t(12115),i=t(45828),o=t(40980);let n=i.Kq,d=i.bL,c=i.l9,u=l.forwardRef(({className:e,sideOffset:a=4,...t},s)=>(0,r.jsx)(i.UC,{ref:s,sideOffset:a,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));function m({label:e,description:a,className:t}){return(0,r.jsxs)("div",{className:t,children:[(0,r.jsx)("span",{className:"text-sm text-slate-300",children:e}),(0,r.jsx)(n,{delayDuration:120,children:(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{asChild:!0,"aria-label":`Ajuda sobre ${e.toLowerCase()}`,children:(0,r.jsx)("button",{type:"button",className:"inline-flex h-5 w-5 items-center justify-center rounded-full text-slate-400 transition-colors hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",children:(0,r.jsx)(s.A,{size:14,"aria-hidden":"true"})})}),(0,r.jsx)(u,{side:"top",className:"max-w-72 border-white/20 bg-slate-900 text-[11px] leading-relaxed text-slate-200",children:a})]})})]})}u.displayName=i.UC.displayName},40980:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l,t:()=>i});var r=t(29722),s=t(622);function l(...e){return(0,s.QP)((0,r.$)(e))}function i(e){if(!e)return"";let a=e.replace(/[!]/g,"").replace(/\.{2,}/g,".").replace(/[^a-zA-Z0-9_\-#%.()[\]]/g,"");return!a||function(e){let a,t=/\[([^\]]*)\]/g;for(;null!==(a=t.exec(e));){let e=a[1].trim();if(!e||/^[.\d]/.test(e)||/^[0-9A-Fa-f]+$/.test(e)&&!e.startsWith("#"))return!0}return!1}(a)?"":a}},85593:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var r=t(95155),s=t(12115),l=t(9339);let i=(0,l.createServerReference)("60c09ef2baa25f32dd2f87c49b914bc97788120d30",l.callServer,void 0,l.findSourceMapURL,"generateAdScenes"),o=new Set(["nano-banana","dall-e-3","sora","flow","whisky"]),n=[{id:"dall-e-3",name:"DALL-E 3",description:"OpenAI - Alta qualidade, fotorrealismo",available:!0},{id:"nano-banana",name:"Nano Banana",description:"Custom - Estilizado, art\xedstico",available:!1},{id:"sora",name:"Sora",description:"OpenAI - Gera\xe7\xe3o de v\xeddeo (Beta)",available:!1},{id:"flow",name:"Flow",description:"Custom - Fluxo criativo din\xe2mico",available:!1},{id:"whisky",name:"Whisky",description:"Custom - Est\xe9tica cinematogr\xe1fica",available:!1}];function d(e){return!!e&&"object"==typeof e&&"string"==typeof e.id&&o.has(e.id)&&"string"==typeof e.name&&"string"==typeof e.description&&"boolean"==typeof e.available}let c=[{id:"1:1",label:"Quadrado",description:"Feeds e composi\xe7\xf5es centrais"},{id:"16:9",label:"Horizontal",description:"Hero, v\xeddeo e outdoor digital"},{id:"9:16",label:"Vertical",description:"Stories, Reels e mobile-first"},{id:"4:5",label:"Retrato",description:"Social ads e posters verticais"}];var u=t(17243),m=t(90425);let p=(0,m.A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),x=(0,m.A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);var f=t(6296);let h=(0,m.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var b=t(5772),g=t(26502);let v={success:!1,images:[],error:"",requestPayload:void 0},j={"1:1":"aspect-square","16:9":"aspect-video","9:16":"aspect-[9/16]","4:5":"aspect-[4/5]"};function y(){let[e,a,t]=(0,s.useActionState)(i,v),[l,o]=(0,s.useState)([]),[m,y]=(0,s.useState)(3),[N,w]=(0,s.useState)("16:9"),k=(0,s.useRef)(null),A=function(e){if(Array.isArray(e)){let a=e.filter(d);return a.length>0?a:n}if(e&&"object"==typeof e){let a=Object.values(e).filter(d);return a.length>0?a:n}return n}(n),P=A.find(e=>"dall-e-3"===e.id&&e.available)?.id??A.find(e=>e.available)?.id,S=e=>{e&&o(Array.from(e).slice(0,8))},z=e.requestPayload?.outputRatio??N??"16:9";return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col gap-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"inline-flex rounded-xl bg-emerald-500/10 p-3 text-emerald-400",children:(0,r.jsx)(u.A,{size:28})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold tracking-tight text-white",children:["Scene ",(0,r.jsx)("span",{className:"text-emerald-400",children:"Generator Pro"})]}),(0,r.jsx)("p",{className:"text-sm text-slate-400",children:"Multi-upload, batch control e presets de ratio para cenas fotorrealistas"})]})]})}),(0,r.jsx)("div",{className:"rounded-xl border border-white/5 bg-slate-900/50 p-6",children:(0,r.jsx)("div",{className:"mx-auto max-w-5xl space-y-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-6 lg:col-span-1",children:[(0,r.jsxs)("form",{action:a,className:"space-y-5",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.s,{label:"Modelo de IA",description:"Selecione o modelo ativo para gera\xe7\xe3o. Modelos indispon\xedveis ficam bloqueados.",className:"flex items-center gap-1"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2",children:A.length>0?A.map(e=>(0,r.jsxs)("label",{className:`relative flex cursor-pointer items-center gap-3 rounded-lg border p-3 transition-all ${e.available?"border-white/10 hover:border-emerald-500/50 hover:bg-white/5":"cursor-not-allowed border-white/5 opacity-50"}`,children:[(0,r.jsx)("input",{type:"radio",name:"model",value:e.id,defaultChecked:e.id===P,disabled:!e.available,className:"peer sr-only"}),(0,r.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-slate-800 transition-colors peer-checked:bg-emerald-500/20 peer-checked:text-emerald-400",children:(0,r.jsx)(p,{size:16})}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:e.name}),!e.available&&(0,r.jsx)("span",{className:"rounded bg-slate-700 px-1.5 py-0.5 text-[10px] text-slate-400",children:"Em breve"})]}),(0,r.jsx)("p",{className:"truncate text-xs text-slate-500",children:e.description})]}),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-lg ring-2 ring-emerald-500 opacity-0 transition-opacity peer-checked:opacity-100"})]},e.id)):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"hidden",name:"model",value:"dall-e-3"}),(0,r.jsx)("p",{className:"rounded-lg border border-amber-500/30 bg-amber-500/10 p-3 text-xs text-amber-300",children:"N\xe3o foi poss\xedvel carregar os modelos. DALL-E 3 ser\xe1 usado como fallback."})]})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.s,{label:"Refer\xeancias Visuais",description:"Arraste m\xfaltiplos arquivos (at\xe9 8) para orientar ilumina\xe7\xe3o, estilo e contexto.",className:"flex items-center gap-1"}),(0,r.jsxs)("div",{onDrop:e=>{e.preventDefault(),S(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault()},onClick:()=>k.current?.click(),className:"cursor-pointer rounded-lg border-2 border-dashed border-white/15 p-5 text-center transition-colors hover:bg-white/5",children:[(0,r.jsx)(x,{className:"mx-auto mb-2 h-8 w-8 text-slate-500"}),(0,r.jsx)("p",{className:"text-xs text-slate-400",children:"Clique ou arraste imagens para upload"}),(0,r.jsx)("p",{className:"mt-1 text-[11px] text-slate-500",children:"PNG, JPG, WEBP, GIF \xb7 m\xe1ximo 8MB por arquivo"}),(0,r.jsx)("input",{ref:k,id:"referenceImages",name:"referenceImages",type:"file",accept:"image/png,image/jpeg,image/webp,image/gif",multiple:!0,onChange:e=>{S(e.target.files)},className:"sr-only"})]}),l.length>0&&(0,r.jsx)("ul",{className:"max-h-32 space-y-1 overflow-y-auto rounded-lg border border-white/5 bg-slate-950/50 p-3 text-xs text-slate-400",children:l.map(e=>(0,r.jsxs)("li",{children:[e.name," (",(e.size/1048576).toFixed(2)," ","MB)"]},`${e.name}-${e.lastModified}`))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.s,{label:"Batch Size",description:"Quantidade de varia\xe7\xf5es geradas por execu\xe7\xe3o (1 a 4).",className:"flex items-center gap-1"}),(0,r.jsx)("input",{type:"range",min:1,max:4,name:"batchSize",value:m,onChange:e=>y(Number(e.target.value)),className:"w-full accent-emerald-500"}),(0,r.jsxs)("p",{className:"text-xs text-slate-400",children:[m," varia\xe7\xf5es"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.s,{label:"Output Ratio",description:"Preset de aspecto para o render final. O payload envia esse valor de forma estruturada.",className:"flex items-center gap-1"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:c.map(e=>(0,r.jsxs)("label",{className:`cursor-pointer rounded-lg border px-3 py-2 text-left text-xs transition-colors ${N===e.id?"border-emerald-500 bg-emerald-500/10 text-emerald-300":"border-white/10 text-slate-300 hover:bg-white/5"}`,children:[(0,r.jsx)("input",{type:"radio",name:"outputRatio",value:e.id,checked:N===e.id,onChange:()=>w(e.id),className:"sr-only"}),(0,r.jsx)("span",{className:"block font-semibold",children:e.id}),(0,r.jsx)("span",{className:"text-[11px] text-slate-500",children:e.description})]},e.id))})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.s,{label:"Tipo de Pe\xe7a",description:"Contexto do mockup para guiar escala e ambiente da cena.",className:"flex items-center gap-1"}),(0,r.jsxs)("select",{id:"pieceType",name:"pieceType",className:"w-full rounded-lg border border-white/10 bg-slate-950 px-4 py-2.5 text-sm text-slate-200 outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",children:[(0,r.jsx)("option",{value:"Instagram Post",children:"Instagram Post (Social)"}),(0,r.jsx)("option",{value:"Outdoor Billboard",children:"Outdoor / Painel Urbano"}),(0,r.jsx)("option",{value:"Business Card",children:"Cart\xe3o de Visita"}),(0,r.jsx)("option",{value:"Poster",children:"Cartaz / Poster"}),(0,r.jsx)("option",{value:"Product Packaging",children:"Embalagem de Produto"}),(0,r.jsx)("option",{value:"Website Interface",children:"Interface Web (Monitor)"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.s,{label:"Descri\xe7\xe3o da Cena",description:"Descri\xe7\xe3o textual principal para composi\xe7\xe3o, luz e narrativa visual.",className:"flex items-center gap-1"}),(0,r.jsx)("textarea",{id:"description",name:"description",required:!0,rows:4,className:"w-full resize-none rounded-lg border border-white/10 bg-slate-950 px-4 py-3 text-sm text-slate-200 placeholder:text-slate-600 outline-none transition-all focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",placeholder:"Ex: Smartphone premium sobre mesa de m\xe1rmore em cafeteria com luz natural lateral..."})]}),(0,r.jsx)("button",{type:"submit",disabled:t,className:"inline-flex w-full items-center justify-center rounded-lg bg-emerald-600 px-4 py-3 text-sm font-semibold text-white transition-all hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:cursor-not-allowed disabled:opacity-50",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando ",m," cena(s)..."]}):`Gerar ${m} varia\xe7\xe3o(\xf5es)`})]}),e.error&&(0,r.jsx)("div",{className:"rounded-lg border border-red-500/20 bg-red-500/10 p-4 text-sm text-red-400",children:e.error})]}),(0,r.jsx)("div",{className:"min-h-[500px] rounded-xl border border-white/5 bg-slate-950/50 p-6 lg:col-span-2",children:e.images&&e.images.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.images.map((e,a)=>(0,r.jsxs)("div",{className:`${0===a?"md:col-span-2":""} ${j[z]} group relative overflow-hidden rounded-lg border border-white/10 bg-black`,children:[(0,r.jsx)(b.default,{src:e,alt:`Cena ${a+1}`,fill:!0,className:"object-cover",unoptimized:!0}),(0,r.jsxs)("div",{className:"absolute left-2 top-2 rounded bg-black/60 px-2 py-1 text-xs text-white backdrop-blur",children:["Varia\xe7\xe3o ",a+1]}),(0,r.jsx)("a",{href:e,download:!0,target:"_blank","aria-label":`Download varia\xe7\xe3o ${a+1}`,className:"absolute bottom-3 right-3 rounded-full bg-white p-2 text-black opacity-0 transition-opacity group-hover:opacity-100",children:(0,r.jsx)(h,{size:16})})]},a))}):(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center space-y-4 text-slate-600",children:[(0,r.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white/5",children:(0,r.jsx)(u.A,{size:32})}),(0,r.jsxs)("div",{className:"max-w-sm text-center",children:[(0,r.jsx)("p",{className:"mb-1 text-sm text-slate-400",children:"Nenhuma cena gerada ainda."}),(0,r.jsx)("p",{className:"text-xs text-slate-600",children:"Configure o formul\xe1rio para gerar mockups com batch e ratio personalizados."})]})]})})]})})})]})}},97651:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r={default:function(){return c},getImageProps:function(){return d}};for(var s in r)Object.defineProperty(a,s,{enumerable:!0,get:r[s]});let l=t(73623),i=t(95413),o=t(38437),n=l._(t(36095));function d(e){let{props:a}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1}});for(let[e,t]of Object.entries(a))void 0===t&&delete a[e];return{props:a}}let c=o.Image}},e=>{e.O(0,[2497,8437,6883,8142,3380,8441,3794,7358],()=>e(e.s=9728)),_N_E=e.O()}]);