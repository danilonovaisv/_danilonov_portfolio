(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9471],{5772:(e,t,o)=>{"use strict";o.d(t,{default:()=>s.a});var a=o(97651),s=o.n(a)},9339:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={callServer:function(){return r.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var s in a)Object.defineProperty(t,s,{enumerable:!0,get:a[s]});let r=o(77304),i=o(4060),l=o(77197)},21172:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=o(12115);function s(e,t){let o=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=o.current;e&&(o.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(o.current=r(e,a)),t&&(s.current=r(t,a))},[e,t])}function r(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let o=e(t);return"function"==typeof o?o:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},27481:(e,t,o)=>{"use strict";o.d(t,{q:()=>a});let a={logos:{headerLight:"global.logo_header_light",headerDark:"global.logo_header_dark",faviconLight:"global.favicon_light",faviconDark:"global.favicon_dark"},fonts:{display:"global.font_display",h1:"global.font_h1",h2:"global.font_h2",h3:"global.font_h3",body:"global.font_body",light:"global.font_light"},heroVideos:{homeManifesto:"home.manifesto_video",aboutDesktop:"about.hero.desktop_video.mp4",aboutMobile:"about.hero.mobile_video.mp4",portfolioDesktop:"portfolio.hero_desktop_video",portfolioMobile:"portfolio.hero_mobile_video",method:"about.method_video"},about:{originImages:["about.origin_image.1","about.origin_image.2","about.origin_image.3","about.origin_image.4"],methodDesktop:"about.method_video",methodMobile:"about.method_video",beliefs:{ghostModel:"about.beliefs.ghost-transformed.glb",skillsVideo:"about.beliefs.VIDEO-SKILLS-FINAL_compressed.mp4",skillsVideoMobile:"about.beliefs.VIDEO-SKILLS-MOBILE-FINAL.mp4"}},projects:{campaign:{cover:"projects.campaign.cover.webp",hero:"projects.campaign.hero.webp",thumb:"projects.campaign.thumb.webp"},keyVision:{cover:"projects.key-visual.cover.webp",hero:"projects.key_vision.hero.webp",thumb:"projects.key_vision.thumb.webp"},brandVideo:{hero:"projects.brand_video.hero.png",thumb:"projects.brand_video.thumb.mp4"},advertisingVideo:{hero:"projects.advertising_video.hero.png",thumb:"projects.advertising_video.thumb.png"},creativeDirection:{hero:"projects.creative-direction.hero.webp",thumb:"projects.creative-direction.thumb.webp"}},portfolio:{heroDesktop:"portfolio.hero_video.desktop",heroMobile:"portfolio.hero_video.mobile"},clients:{strips:Array.from({length:12},(e,t)=>`clients.strip.${t+1}`)}},s=Object.entries(a.fonts).map(([e,t])=>({key:t,label:`Fonte ${e}`,page:"global",category:"font"})),r=a.about.originImages.map((e,t)=>({key:e,label:`Origem imagem ${t+1}`,page:"about",category:"image"})),i=a.clients.strips.map((e,t)=>({key:e,label:`Logo cliente ${t+1}`,page:"clients",category:"client"}));[a.logos.headerLight,a.logos.headerDark,a.logos.faviconLight,a.logos.faviconDark,...s,a.heroVideos.homeManifesto,a.heroVideos.aboutDesktop,a.heroVideos.aboutMobile,a.heroVideos.method,...r,a.portfolio.heroDesktop,a.portfolio.heroMobile,...i]},28713:(e,t,o)=>{"use strict";o.d(t,{i:()=>i});var a=o(57716),s=o(87358);let r=null;function i(){if(s.env.PLAYWRIGHT_TEST){let e={eq:()=>e,order:()=>e,limit:()=>e,returns:()=>Promise.resolve({data:[],error:null}),select:()=>e,single:()=>Promise.resolve({data:null,error:null})};return{from:()=>e,auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},storage:{from:()=>({getPublicUrl:()=>({data:{publicUrl:""}})})}}}if(r)return r;let e="https://umkmwbkwvulxtdodzmzf.supabase.co",t=s.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVta213Ymt3dnVseHRkb2R6bXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNDE4MzcsImV4cCI6MjA4MzkxNzgzN30.wssvD9W-yzRyLpq8aMCw57E4wNz7OnQ58ujLzYmF6CA";if(!e)throw Error("NEXT_PUBLIC_SUPABASE_URL n\xe3o est\xe1 definida.");if(!t)throw Error("Defina NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY ou NEXT_PUBLIC_SUPABASE_ANON_KEY.");return r=(0,a.createBrowserClient)(e,t,{cookieOptions:{name:"__session",sameSite:"lax",secure:!0}})}},37896:(e,t,o)=>{Promise.resolve().then(o.bind(o,56547)),Promise.resolve().then(o.bind(o,95238)),Promise.resolve().then(o.bind(o,96370)),Promise.resolve().then(o.bind(o,92750))},44650:(e,t,o)=>{"use strict";o.d(t,{AB:()=>b,Oj:()=>u,wp:()=>h});var a=o(27481);let s=[{key:a.q.logos.headerLight,label:"Logo header (claro)",description:"Vers\xe3o clara do logo do header",page:"global",asset_type:"image",subPath:"logos"},{key:a.q.logos.headerDark,label:"Logo header (escuro)",description:"Vers\xe3o escura do logo do header",page:"global",asset_type:"image",subPath:"logos"},{key:a.q.logos.faviconLight,label:"Favicon claro",description:"Favicon claro utilizado na aba",page:"global",asset_type:"image",subPath:"logos"},{key:a.q.logos.faviconDark,label:"Favicon escuro",description:"Favicon escuro utilizado na aba",page:"global",asset_type:"image",subPath:"logos"}],r=[{key:a.q.fonts.display,label:"--font-display",description:"Fonte principal de destaque",page:"global",asset_type:"font",subPath:"fonts"},{key:a.q.fonts.h1,label:"--font-h1",description:"Fonte dos t\xedtulos h1",page:"global",asset_type:"font",subPath:"fonts"},{key:a.q.fonts.h2,label:"--font-h2",description:"Fonte dos t\xedtulos h2",page:"global",asset_type:"font",subPath:"fonts"},{key:a.q.fonts.h3,label:"--font-h3",description:"Fonte dos t\xedtulos h3",page:"global",asset_type:"font",subPath:"fonts"},{key:a.q.fonts.body,label:"--font-body",description:"Fonte do corpo de texto",page:"global",asset_type:"font",subPath:"fonts"},{key:a.q.fonts.light,label:"--font-light",description:"Fonte auxiliar leve",page:"global",asset_type:"font",subPath:"fonts"}],i=a.q.clients.strips.map((e,t)=>({key:e,label:`Logo cliente ${t+1}`,description:"Logo para a faixa de clientes",page:"clients",asset_type:"image",subPath:"clients",sort_order:t+1})),l=[{key:a.q.heroVideos.aboutDesktop,label:"V\xeddeo hero Sobre (desktop)",description:"V\xeddeo da hero da p\xe1gina Sobre (desktop)",page:"about",asset_type:"video",subPath:"hero"},{key:a.q.heroVideos.aboutMobile,label:"V\xeddeo hero Sobre (mobile)",description:"Vers\xe3o mobile da hero sobre",page:"about",asset_type:"video",subPath:"hero"}],n=a.q.about.originImages.map((e,t)=>({key:e,label:`Origem imagem ${t+1}`,description:"Imagem da se\xe7\xe3o Origem",page:"about",asset_type:"image",subPath:"origin",sort_order:t+1})),d={key:a.q.heroVideos.method,label:"V\xeddeo m\xe9todo",description:"V\xeddeo da se\xe7\xe3o M\xe9todo",page:"about",asset_type:"video",subPath:"method"},c=[{key:a.q.about.beliefs.ghostModel,label:"Ghost Model (3D)",description:"Modelo 3D GLB exubido na se\xe7\xe3o Cren\xe7as",page:"about",asset_type:"file",subPath:"beliefs"},{key:a.q.about.beliefs.skillsVideo,label:"V\xeddeo Skills (Desktop)",description:"V\xeddeo de background da se\xe7\xe3o Cren\xe7as (vers\xe3o pesada)",page:"about",asset_type:"video",subPath:"beliefs"},{key:a.q.about.beliefs.skillsVideoMobile,label:"V\xeddeo Skills (Mobile)",description:"V\xeddeo de background da se\xe7\xe3o Cren\xe7as (vers\xe3o leve)",page:"about",asset_type:"video",subPath:"beliefs"}],p=[{key:a.q.heroVideos.portfolioDesktop,label:"V\xeddeo hero Portf\xf3lio (desktop)",description:"Hero do portf\xf3lio desktop",page:"portfolio",asset_type:"video",subPath:"hero"},{key:a.q.heroVideos.portfolioMobile,label:"V\xeddeo hero Portf\xf3lio (mobile)",description:"Hero do portf\xf3lio mobile",page:"portfolio",asset_type:"video",subPath:"hero"}],u=[{label:"Global • Logos",roles:s},{label:"Global • Fonts",roles:r},{label:"Home • Hero",roles:[{key:a.q.heroVideos.homeManifesto,label:"V\xeddeo manifesto (home)",description:"V\xeddeo principal da hero da Home",page:"home",asset_type:"video"}]},{label:"Clients • Logos",roles:i},{label:"Sobre • Hero v\xeddeos",roles:l},{label:"Sobre • Origem",roles:n},{label:"Sobre • M\xe9todo & Curriculum",roles:[d,{key:"about.curriculum_pdf",label:"Curr\xedculo para download",description:"PDF usado na se\xe7\xe3o AboutClosing",page:"about",asset_type:"file",subPath:"curriculum"}]},{label:"Sobre • Cren\xe7as",roles:c},{label:"Portf\xf3lio • Hero v\xeddeos",roles:p},{label:"Portf\xf3lio • Projetos",roles:[{key:a.q.projects.campaign.cover,label:"Campaign • Cover",description:"Capa do projeto Campaign",page:"projects",asset_type:"image",subPath:"campaign"},{key:a.q.projects.campaign.hero,label:"Campaign • Hero",description:"Hero do projeto Campaign",page:"projects",asset_type:"image",subPath:"campaign"},{key:a.q.projects.campaign.thumb,label:"Campaign • Thumb",description:"Thumbnail do projeto Campaign",page:"projects",asset_type:"image",subPath:"campaign"},{key:a.q.projects.keyVision.cover,label:"Key Vision • Cover",description:"Capa do projeto Key Vision",page:"projects",asset_type:"image",subPath:"key-vision"},{key:a.q.projects.keyVision.hero,label:"Key Vision • Hero",description:"Hero do projeto Key Vision",page:"projects",asset_type:"image",subPath:"key-vision"},{key:a.q.projects.keyVision.thumb,label:"Key Vision • Thumb",description:"Thumbnail do projeto Key Vision",page:"projects",asset_type:"image",subPath:"key-vision"},{key:a.q.projects.brandVideo.hero,label:"Brand Video • Hero",description:"Hero do projeto Brand Video",page:"projects",asset_type:"image",subPath:"brand-video"},{key:a.q.projects.brandVideo.thumb,label:"Brand Video • Thumb",description:"Thumbnail do projeto Brand Video",page:"projects",asset_type:"video",subPath:"brand-video"},{key:a.q.projects.advertisingVideo.hero,label:"Advertising Video • Hero",description:"Hero do projeto Advertising Video",page:"projects",asset_type:"image",subPath:"advertising-video"},{key:a.q.projects.advertisingVideo.thumb,label:"Advertising Video • Thumb",description:"Thumbnail do projeto Advertising Video",page:"projects",asset_type:"image",subPath:"advertising-video"},{key:a.q.projects.creativeDirection.hero,label:"Creative Direction • Hero",description:"Hero do projeto Creative Direction",page:"projects",asset_type:"image",subPath:"creative-direction"},{key:a.q.projects.creativeDirection.thumb,label:"Creative Direction • Thumb",description:"Thumbnail do projeto Creative Direction",page:"projects",asset_type:"image",subPath:"creative-direction"}]}],b=new Map(u.flatMap(e=>e.roles).map(e=>[e.key,e]));function h(e){return b.get(e)}},56547:(e,t,o)=>{"use strict";o.d(t,{PresetButtons:()=>r});var a=o(95155),s=o(44650);function r(){return(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 bg-slate-900/60 p-4 space-y-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Presets r\xe1pidos"}),(0,a.jsx)("div",{className:"space-y-4",children:s.Oj.map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:e.label}),(0,a.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:e.roles.map(e=>(0,a.jsx)(i,{preset:e},e.key))})]},e.label))}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Clique para preencher o formul\xe1rio ao lado com a key, p\xe1gina e tipo recomendados."})]})}function i({preset:e}){return(0,a.jsxs)("button",{type:"button",onClick:()=>{let t=document.querySelector('form input[name="asset-key"]'),o=document.querySelector('form select[name="asset-page"]'),a=document.querySelector('form select[name="asset-type"]'),s=document.querySelector('form input[name="asset-subpath"]');t&&(t.value=e.key),o&&(o.value=e.page),a&&(a.value=e.asset_type),s&&(s.value=e.subPath??""),t?.dispatchEvent(new Event("input",{bubbles:!0})),o?.dispatchEvent(new Event("change",{bubbles:!0})),a?.dispatchEvent(new Event("change",{bubbles:!0})),s?.dispatchEvent(new Event("input",{bubbles:!0}))},className:"flex w-full flex-col items-start rounded-md border border-white/10 bg-slate-900/80 px-3 py-2 text-left text-sm text-white transition hover:border-blue-400 hover:bg-blue-500/10",children:[(0,a.jsx)("div",{className:"font-semibold",children:e.label}),(0,a.jsx)("div",{className:"text-[11px] text-slate-400",children:e.key}),(0,a.jsxs)("div",{className:"text-[11px] text-slate-500",children:[e.page," • ",e.asset_type]}),e.description&&(0,a.jsx)("div",{className:"text-[11px] text-slate-500",children:e.description})]})}},58520:(e,t,o)=>{"use strict";function a(e,t){if(!e)return null;let o=t?.replace(/^\/+|\/+$/g,""),a=e.trim();return a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/^file_path:\s*/i,"")).replace(/^key:\s*/i,"")).replace(/^"+|"+$/g,"")).replace(/^'+|'+$/g,"")).replace(/,+$/g,"")).replace(/\s+$/g,"")).replace(/^https?:\/\/[^/]+\/storage\/v1\/(?:render\/image|object)\/public\//,"")).replace(/^\/?storage\/v1\/(?:render\/image|object)\/public\//,"")).replace(/^\/+/,""),o&&a.startsWith(`${o}/`)&&(a=a.slice(o.length+1)),a}function s(e,t){if(!t)return null;let o=t.startsWith("http://")||t.startsWith("https://"),s=t.includes("/storage/v1/");if(o&&!s)try{let e=new URL(t);if("https:"!==e.protocol)return console.warn(`Protocolo inseguro detectado: ${t}`),null;return t}catch{return console.error(`URL inv\xe1lida: ${t}`),null}let r=e.replace(/^\/+|\/+$/g,""),i=a(t,r);if(!i)return t.startsWith("http")?t:null;if(o&&s)try{let e=new URL(t),o=`${e.protocol}//${e.host}`;return`${o}/storage/v1/object/public/${r}/${i}`}catch{}let l=function(){let e="https://umkmwbkwvulxtdodzmzf.supabase.co";if(!e)throw Error("Supabase URL n\xe3o definida. Configure NEXT_PUBLIC_SUPABASE_URL ou SUPABASE_URL.");try{return e.replace(/\/+$/,"")}catch{return e}}();return l?`${l}/storage/v1/object/public/${r}/${i}`:t.startsWith("http")?t:null}function r(e){if(!e)return null;let t=e.trim();if(!t)return null;try{let o=new URL(t);if(["https:","http:"].includes(o.protocol))return o.toString();return console.warn(`Link externo inseguro bloqueado: ${e}`),null}catch{if(t.startsWith("/")||t.startsWith("#"))return t;if(t.startsWith("//"))try{return new URL(`https:${t}`).toString()}catch{}return console.error(`URL externa inv\xe1lida: ${e}`),null}}o.d(t,{VV:()=>s,WZ:()=>a,j7:()=>r})},73321:(e,t,o)=>{"use strict";var a=o(74645);o.o(a,"usePathname")&&o.d(t,{usePathname:function(){return a.usePathname}}),o.o(a,"useRouter")&&o.d(t,{useRouter:function(){return a.useRouter}}),o.o(a,"useSearchParams")&&o.d(t,{useSearchParams:function(){return a.useSearchParams}})},85580:(e,t,o)=>{"use strict";o.d(t,{h:()=>l,b:()=>i});var a=o(28713);let s=/[^a-z0-9._-]/g;var r=o(58520);async function i(e,t,o,s){let i,l,n=(0,a.i)(),d=s.name.split(".").pop(),c=d?`${o}.${d}`:o,p=(l=(i=t.replace(/\/+$/g,"").replace(/^\/+/g,""))?`${i}`:"")?`${l}/${c}`:c,{data:u,error:b}=await n.storage.from(e).upload(p,s,{cacheControl:"3600",upsert:!0});if(b)throw b;return(0,r.WZ)(u.path,e)}async function l({file:e,key:t,page:o,subPath:i,bucket:l="site-assets"}){let n=(0,a.i)(),d=function({page:e,key:t,subPath:o,extension:a}){let r=[e&&e.trim().length>0?e.trim():"global"];o&&r.push(o.trim().replace(/^\/+|\/+$/g,""));let i=t.trim().toLowerCase().replace(/\s+/g,"_").replace(s,""),l=a.toLowerCase().replace(/^\.+/,"")||"bin",n=`${i}.${l}`;return`${r.join("/")}/${n}`}({page:o,key:t,subPath:i,extension:e.name.split(".").pop()??"bin"}),{data:c,error:p}=await n.storage.from(l).upload(d,e,{cacheControl:"3600",upsert:!0});if(p)throw p;return(0,r.WZ)(c.path,l)}},92750:(e,t,o)=>{"use strict";o.d(t,{AssetGuide:()=>i});var a=o(95155);o(12115);var s=o(27481);let r=[{key:s.q.logos.headerLight,description:"Logo principal do header (claro)",change:"Atualize o arquivo (SVG recomendado) e valide o cabe\xe7alho com useSiteAssetUrl.",page:"global"},{key:s.q.logos.headerDark,description:"Logo principal do header (escuro)",change:"Mantenha dimens\xf5es iguais ao claro para evitar saltos.",page:"global"},{key:s.q.logos.faviconLight,description:"Favicon claro usado em <head>",change:"SVG/ICO com fundo transparente; mantenha metadata/JsonLd alinhado.",page:"global"},{key:s.q.logos.faviconDark,description:"Favicon escuro usado em <head>",change:"Mesmo tamanho do claro para consist\xeancia.",page:"global"},{key:s.q.fonts.display,description:"Fonte display principal (--font-display)",change:"Atualize e revise tailwind/theme para usar a nova fam\xedlia.",page:"global"},{key:s.q.fonts.body,description:"Fonte do corpo (--font-body)",change:"Confirme fallback stack e pesos no tema tipogr\xe1fico.",page:"global"},{key:s.q.heroVideos.homeManifesto,description:"V\xeddeo do manifesto na hero da Home",change:"Substitua o MP4; gere poster e vers\xe3o -720p mantendo o mesmo prefixo.",page:"home"},{key:s.q.heroVideos.aboutDesktop,description:"V\xeddeo da hero Sobre (desktop)",change:"Sincronize com a vers\xe3o mobile para evitar discrep\xe2ncias.",page:"about"},{key:s.q.heroVideos.aboutMobile,description:"V\xeddeo da hero Sobre (mobile)",change:"O hook AboutHero troca automaticamente entre desktop/mobile.",page:"about"},{key:s.q.heroVideos.method,description:"V\xeddeo da sess\xe3o M\xe9todo",change:"Use o mesmo prefixo para vers\xf5es alternativas se necess\xe1rio.",page:"about"},...s.q.about.originImages.map((e,t)=>({key:e,description:`Imagem ${t+1} da sess\xe3o Origem`,change:"Siga o padr\xe3o about.origin_image.N para cada card.",page:"about"})),{key:s.q.heroVideos.portfolioDesktop,description:"V\xeddeo hero do portf\xf3lio (desktop)",change:"Atualize em par com a vers\xe3o mobile.",page:"portfolio"},{key:s.q.heroVideos.portfolioMobile,description:"V\xeddeo hero do portf\xf3lio (mobile)",change:"Sincronize dura\xe7\xe3o e cor com a vers\xe3o desktop.",page:"portfolio"},{key:"clients.strip.*",description:"Strip de logos da sess\xe3o de clients",change:"Use clients.strip.N (1-12) e carregue via useSiteAssetsByPrefix.",page:"clients"},{key:"about.curriculum_pdf",description:"Curr\xedculo da se\xe7\xe3o About",change:"Envie PDF atualizado; mantenha nome consistente.",page:"about"}];function i(){return(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 bg-slate-900/40 p-4 space-y-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Guia de keys"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Use essas keys no Admin para garantir que a sess\xe3o p\xfablica leia o asset correto. Ajuste o campo “Subpasta” para manter o storage organizado."}),(0,a.jsx)("div",{className:"grid gap-2 text-xs",children:r.map(e=>(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-slate-900/80 p-3",children:[(0,a.jsx)("div",{className:"text-[11px] text-slate-300",children:e.page}),(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:e.key}),(0,a.jsx)("p",{className:"text-[11px] text-slate-400",children:e.description}),(0,a.jsx)("p",{className:"text-[11px] text-blue-300 mt-1",children:e.change})]},e.key))})]})}},95238:(e,t,o)=>{"use strict";o.d(t,{AssetForm:()=>c});var a=o(95155),s=o(12115),r=o(73321),i=o(9339);let l=(0,i.createServerReference)("4026fc7347bf3edd4e8f72e3abe884b050f8415989",i.callServer,void 0,i.findSourceMapURL,"upsertAsset");var n=o(44650),d=o(85580);function c({preset:e}){let t=(0,r.useRouter)(),[o,i]=(0,s.useState)(e?.key??""),[c,p]=(0,s.useState)(e?.page??"global"),[u,b]=(0,s.useState)(e?.asset_type??"image"),[h,m]=(0,s.useState)(e?.description??""),[g,x]=(0,s.useState)(e?.subPath??""),[f,v]=(0,s.useState)(),[y,j]=(0,s.useState)(null),[k,_]=(0,s.useState)(null),[N,w]=(0,s.useTransition)();return(0,a.jsxs)("form",{className:"space-y-3",onSubmit:e=>{e.preventDefault(),_(null),w(async()=>{try{let e=(0,n.wp)(o),a=null;y&&(a=await (0,d.h)({file:y,key:o,page:c,subPath:e?.subPath??g,bucket:"site-assets"})),await l({key:o,page:c,asset_type:u,description:h||e?.description||null,sort_order:f??null,file_path:a,bucket:"site-assets"}),t.refresh(),j(null)}catch(e){_(e instanceof Error?e.message:"Falha ao salvar")}})},children:[(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Key"}),(0,a.jsx)("input",{name:"asset-key",required:!0,value:o,onChange:e=>i(e.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"home.hero_background"})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"P\xe1gina"}),(0,a.jsxs)("select",{name:"asset-page",value:c,onChange:e=>p(e.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"global",children:"Global"}),(0,a.jsx)("option",{value:"home",children:"Home"}),(0,a.jsx)("option",{value:"portfolio",children:"Portfolio"}),(0,a.jsx)("option",{value:"about",children:"About"}),(0,a.jsx)("option",{value:"clients",children:"Clients"})]})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Tipo"}),(0,a.jsxs)("select",{name:"asset-type",value:u,onChange:e=>b(e.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"image",children:"Imagem"}),(0,a.jsx)("option",{value:"video",children:"V\xeddeo"}),(0,a.jsx)("option",{value:"file",children:"Arquivo"}),(0,a.jsx)("option",{value:"font",children:"Fonte"})]})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Subpasta (opcional)"}),(0,a.jsx)("input",{name:"asset-subpath",value:g,onChange:e=>x(e.target.value),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"logos, fonts, hero"})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Ordem"}),(0,a.jsx)("input",{type:"number",value:f??"",onChange:e=>v(e.target.value?Number(e.target.value):void 0),className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"10"})]})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Descri\xe7\xe3o"}),(0,a.jsx)("textarea",{value:h,onChange:e=>m(e.target.value),rows:3,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",placeholder:"Ex.: Logo principal do header"})]}),(0,a.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm text-slate-300",children:"Arquivo (opcional)"}),(0,a.jsx)("input",{type:"file",accept:"image/*,video/*,.ttf,.otf,.woff,.woff2,.pdf,.doc,.docx",onChange:e=>j(e.target.files?.[0]??null)})]}),k&&(0,a.jsx)("div",{className:"text-sm text-red-400",children:k}),(0,a.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-50",disabled:N,children:N?"Salvando...":"Salvar asset"})]})}},96370:(e,t,o)=>{"use strict";o.d(t,{AssetGallery:()=>g});var a=o(95155),s=o(12115),r=o(5772),i=o(73321),l=o(9339);let n=(0,l.createServerReference)("40d26598255785d58fa5aea633ee651754b13200ff",l.callServer,void 0,l.findSourceMapURL,"assignAssetRole"),d=(0,l.createServerReference)("405c439d3cf658a10160ebdc972410db176651a082",l.callServer,void 0,l.findSourceMapURL,"removeAsset");var c=o(44650);function p({currentKey:e,onSelectRole:t}){let[o,r]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"relative mt-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>r(e=>!e),className:"flex items-center gap-2 rounded-md border border-white/10 bg-slate-900/70 px-3 py-1 text-[12px] text-white hover:border-blue-400 hover:text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",children:[(0,a.jsx)("span",{children:"Papel do asset"}),(0,a.jsx)("span",{className:"text-xs text-slate-400",children:o?"Fechar":"Abrir"})]}),o&&(0,a.jsx)("div",{className:"absolute left-0 top-full mt-2 z-20 max-h-[320px] w-[500px] overflow-y-auto rounded-2xl border border-white/10 bg-slate-900/90 p-4 shadow-xl",children:(0,a.jsx)("div",{className:"space-y-4",children:c.Oj.map(o=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:o.label}),(0,a.jsx)("div",{className:"mt-2 grid gap-2 md:grid-cols-2",children:o.roles.map(o=>{let s=o.key===e;return(0,a.jsxs)("button",{type:"button",onClick:()=>{t(o),r(!1)},className:`flex flex-col items-start gap-1 rounded-lg border px-3 py-2 text-left text-sm transition ${s?"border-blue-400 bg-blue-500/40 text-white":"border-white/5 bg-slate-900/70 hover:border-blue-400 hover:bg-blue-500/10"}`,children:[(0,a.jsx)("span",{className:"font-semibold",children:o.label}),(0,a.jsx)("span",{className:"text-[11px] text-slate-400",children:o.key}),(0,a.jsx)("span",{className:"text-[11px] text-slate-500",children:o.description})]},o.key)})})]},o.label))})})]})}var u=o(28713),b=o(85580),h=o(58520);function m({asset:e}){let t=(0,i.useRouter)(),[o,l]=(0,s.useTransition)(),[m,g]=(0,s.useState)(null),x=c.AB.get(e.key),f=x?.label??"Sem papel definido",v=()=>{confirm("Excluir este asset e o arquivo associado?")&&(g(null),l(async()=>{try{await d({id:e.id,bucket:e.bucket,file_path:e.file_path}),t.refresh()}catch(e){g(e instanceof Error?e.message:"Falha na exclus\xe3o")}}))},y=e.publicUrl||(0,h.VV)(e.bucket,e.file_path),j=e.page??e.resolvedPage??"global";return e.key.startsWith("updated_at:")||e.key.startsWith("key:")?(0,a.jsxs)("div",{className:"rounded-lg border border-red-500/50 bg-slate-900/60 p-4 flex gap-4",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-md bg-red-900/30 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs text-red-400",children:"Inv\xe1lido"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-red-400",children:e.key}),(0,a.jsx)("span",{className:"rounded-full bg-red-500/20 px-2 py-0.5 text-[11px] text-red-200",children:j})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[e.bucket,"/",e.file_path]}),(0,a.jsx)("div",{className:"text-xs text-red-500 mt-2",children:"Este asset tem formato inv\xe1lido e deve ser corrigido ou removido"}),(0,a.jsx)("button",{type:"button",onClick:v,className:"mt-2 inline-flex items-center rounded-md border border-red-500/60 px-2 py-1 text-[11px] text-red-200 hover:bg-red-500/10",children:"Excluir"})]})]}):(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-slate-900/60 p-4 flex gap-4",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-md bg-slate-800 overflow-hidden relative",children:"image"===e.asset_type&&y?(0,a.jsx)(r.default,{src:y,alt:e.key,fill:!0,sizes:"96px",className:"object-cover",unoptimized:y.toLowerCase().endsWith(".svg")}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:e.asset_type})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:e.key}),(0,a.jsx)("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[11px] text-slate-200",children:j}),(0,a.jsx)("span",{className:"rounded-full bg-blue-500/15 px-2 py-0.5 text-[11px] text-blue-100",children:e.asset_type})]}),(0,a.jsx)("div",{className:"text-xs text-slate-400",children:e.description}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:[e.bucket,"/",e.file_path]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400 mt-1",children:["Papel: ",f]}),m&&(0,a.jsx)("div",{className:"text-xs text-red-400 mt-2",children:m}),(0,a.jsxs)("label",{className:"mt-3 inline-flex items-center gap-2 text-xs text-blue-300 cursor-pointer",children:[(0,a.jsx)("input",{type:"file",className:"hidden",onChange:o=>{var a;(a=o.target.files?.[0]??null)&&(g(null),l(async()=>{try{let o=await (0,b.h)({file:a,key:e.key,page:e.page,subPath:x?.subPath,bucket:e.bucket}),s=(0,u.i)(),{error:r}=await s.from("site_assets").update({file_path:o}).eq("id",e.id);if(r)throw r;t.refresh()}catch(e){g(e instanceof Error?e.message:"Falha no upload")}}))},accept:"image/*,video/*"}),o?"Enviando...":"Substituir arquivo"]}),(0,a.jsx)(p,{currentKey:e.key,onSelectRole:o=>{g(null),l(async()=>{try{await n({assetId:e.id,role:o}),t.refresh()}catch(e){g(e instanceof Error?e.message:"Falha na altera\xe7\xe3o do papel")}})}}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:["Status: ",e.is_active?"Ativo":"Inativo"]}),(0,a.jsx)("button",{type:"button",onClick:()=>{l(async()=>{let o=(0,u.i)(),{error:a}=await o.from("site_assets").update({is_active:!e.is_active}).eq("id",e.id);a?g(a.message):t.refresh()})},className:"mt-1 inline-flex items-center rounded-md border border-white/10 px-2 py-1 text-[11px] text-white hover:bg-white/10",children:e.is_active?"Desativar":"Ativar"}),(0,a.jsx)("button",{type:"button",onClick:v,className:"ml-2 mt-1 inline-flex items-center rounded-md border border-red-500/60 px-2 py-1 text-[11px] text-red-200 hover:bg-red-500/10",children:"Excluir"})]})]})}function g({assets:e}){let[t,o]=(0,s.useState)(""),[r,i]=(0,s.useState)("all"),[l,n]=(0,s.useState)("all"),[d,c]=(0,s.useState)(!1),[p,u]=(0,s.useState)(1),b=(0,s.useDeferredValue)(t),h=(0,s.useMemo)(()=>e.filter(e=>!(!e.key||e.key.startsWith("updated_at:")||e.key.startsWith("key:"))),[e]),g=(0,s.useMemo)(()=>{let e=new Set;return h.forEach(t=>e.add(t.page??t.resolvedPage??"")),Array.from(e).filter(Boolean).sort()},[h]),x=(0,s.useMemo)(()=>{let e=new Set;return h.forEach(t=>t.asset_type&&e.add(t.asset_type)),Array.from(e).filter(Boolean).sort()},[h]);(0,s.useEffect)(()=>{u(1)},[r,l,d,b]);let f=(0,s.useMemo)(()=>{let e=b.trim().toLowerCase();return h.filter(t=>{if(!d&&!t.is_active)return!1;let o=t.page??t.resolvedPage??"";return("all"===r||o===r)&&("all"===l||t.asset_type===l)&&(!e||!!`${t.key} ${t.description??""} ${t.file_path} ${o}`.toLowerCase().includes(e))&&!0})},[h,b,r,l,d]),v=Math.max(1,Math.ceil(f.length/24)),y=Math.min(p,v),j=(y-1)*24,k=f.slice(j,j+24);return(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 bg-slate-900/60 p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)("input",{type:"search",value:t,onChange:e=>o(e.target.value),placeholder:"Buscar por key, p\xe1gina ou caminho",className:"w-full md:w-72 rounded-md border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-white placeholder:text-slate-500 focus:border-blue-400 focus:outline-none"}),(0,a.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-white focus:border-blue-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"all",children:"Todas as p\xe1ginas"}),g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{value:l,onChange:e=>n(e.target.value),className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-2 text-sm text-white focus:border-blue-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"all",children:"Todos os tipos"}),x.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-xs text-slate-300",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/20 bg-slate-900/80",checked:d,onChange:e=>c(e.target.checked)}),"Mostrar inativos"]}),(0,a.jsxs)("div",{className:"ml-auto text-xs text-slate-400",children:[f.length," de ",h.length," assets v\xe1lidos"]})]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(e=>(0,a.jsx)(m,{asset:e},e.id))}),!k.length&&(0,a.jsx)("div",{className:"rounded-lg border border-white/10 bg-slate-900/40 px-4 py-6 text-sm text-slate-400",children:"Nenhum asset encontrado com os filtros atuais."}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-slate-300",children:[(0,a.jsxs)("div",{children:["Mostrando ",k.length," de ",f.length," filtrados"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===y,className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-1 text-xs text-white transition hover:border-blue-400 hover:bg-blue-500/10 disabled:cursor-not-allowed disabled:opacity-40",children:"Anterior"}),(0,a.jsxs)("span",{className:"text-xs text-slate-400",children:["P\xe1gina ",y," / ",v]}),(0,a.jsx)("button",{type:"button",onClick:()=>u(e=>Math.min(v,e+1)),disabled:y>=v,className:"rounded-md border border-white/10 bg-slate-900/70 px-3 py-1 text-xs text-white transition hover:border-blue-400 hover:bg-blue-500/10 disabled:cursor-not-allowed disabled:opacity-40",children:"Pr\xf3xima"})]})]})]})}},97651:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return d}};for(var s in a)Object.defineProperty(t,s,{enumerable:!0,get:a[s]});let r=o(73623),i=o(95413),l=o(38437),n=r._(o(36095));function d(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1}});for(let[e,o]of Object.entries(t))void 0===o&&delete t[e];return{props:t}}let c=l.Image}},e=>{e.O(0,[8437,7716,8441,3794,7358],()=>e(e.s=37896)),_N_E=e.O()}]);