(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7940],{28713:(e,s,a)=>{"use strict";a.d(s,{i:()=>i});var t=a(57716),r=a(87358);let n=null;function i(){if(r.env.PLAYWRIGHT_TEST){let e={eq:()=>e,order:()=>e,limit:()=>e,returns:()=>Promise.resolve({data:[],error:null}),select:()=>e,single:()=>Promise.resolve({data:null,error:null})};return{from:()=>e,auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},storage:{from:()=>({getPublicUrl:()=>({data:{publicUrl:""}})})}}}if(n)return n;let e="https://umkmwbkwvulxtdodzmzf.supabase.co",s=r.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVta213Ymt3dnVseHRkb2R6bXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNDE4MzcsImV4cCI6MjA4MzkxNzgzN30.wssvD9W-yzRyLpq8aMCw57E4wNz7OnQ58ujLzYmF6CA";if(!e)throw Error("NEXT_PUBLIC_SUPABASE_URL n\xe3o est\xe1 definida.");if(!s)throw Error("Defina NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY ou NEXT_PUBLIC_SUPABASE_ANON_KEY.");return n=(0,t.createBrowserClient)(e,s,{cookieOptions:{name:"__session",sameSite:"lax",secure:!0}})}},73321:(e,s,a)=>{"use strict";var t=a(74645);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},80994:(e,s,a)=>{"use strict";a.d(s,{h:()=>t});let t={dashboard:"/admin",trabalhos:{index:"/admin/trabalhos",new:"/admin/trabalhos/new",detail:e=>`/admin/trabalhos/${e}`},tags:"/admin/tags",midia:"/admin/midia","landing-pages":"/admin/landing-pages",settings:"/admin/settings",config:"/admin/settings",copyAgent:"/admin/copy-agent",sceneGenerator:"/admin/scene-generator"}},96288:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(95155),r=a(12115),n=a(73321),i=a(28713),l=a(80994);function o(){let[e,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[d,u]=(0,r.useState)(null),[c,m]=(0,r.useTransition)(),[h,x]=(0,r.useState)(!1),p=(0,n.useRouter)(),b=(0,n.useSearchParams)();return(0,r.useEffect)(()=>{b.get("error")&&u("Erro na autentica\xe7\xe3o. Por favor, tente novamente.")},[b]),(0,r.useEffect)(()=>{},[p]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Admin"}),(0,t.jsx)("h1",{className:"text-2xl font-semibold mt-2",children:"Entrar no painel"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Use seu email e senha do Supabase Auth."})]}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:s=>{s.preventDefault(),u(null),m(async()=>{try{let s=(0,i.i)(),{data:t,error:r}=await s.auth.signInWithPassword({email:e,password:a});if(r)return void u(r.message);t.session?(x(!0),p.refresh(),setTimeout(()=>{window.location.href=l.h.dashboard},500)):u("Falha ao estabelecer sess\xe3o. Tente novamente.")}catch(e){console.error("Login error:",e),u("Ocorreu um erro inesperado.")}})},children:[(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Email"}),(0,t.jsx)("input",{type:"email",required:!0,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",value:e,onChange:e=>s(e.target.value)})]}),(0,t.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Senha"}),(0,t.jsx)("input",{type:"password",required:!0,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",value:a,onChange:e=>o(e.target.value)})]}),d&&(0,t.jsx)("div",{className:"text-sm text-red-400",children:d}),(0,t.jsx)("button",{type:"submit",className:"w-full rounded-md bg-blue-500 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-60",disabled:c||h,children:h?"Redirecionando...":c?"Entrando...":"Entrar"})]})]})}function d(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.25em] text-slate-400",children:"Admin"}),(0,t.jsx)("h1",{className:"text-2xl font-semibold mt-2",children:"Carregando..."})]}),children:(0,t.jsx)(o,{})})}},96599:(e,s,a)=>{Promise.resolve().then(a.bind(a,96288))}},e=>{e.O(0,[7716,8441,3794,7358],()=>e(e.s=96599)),_N_E=e.O()}]);