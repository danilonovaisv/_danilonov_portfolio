(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2641],{3091:(e,a,t)=>{"use strict";t.d(a,{_8:()=>s,nJ:()=>r,rK:()=>l});let l="legacy-blocks",s="master-project-v1",r="master-project-v2"},26502:(e,a,t)=>{"use strict";t.d(a,{s:()=>u});var l=t(95155),s=t(94961),r=t(12115),i=t(45828),o=t(40980);let n=i.Kq,d=i.bL,c=i.l9,p=r.forwardRef(({className:e,sideOffset:a=4,...t},s)=>(0,l.jsx)(i.UC,{ref:s,sideOffset:a,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));function u({label:e,description:a,className:t}){return(0,l.jsxs)("div",{className:t,children:[(0,l.jsx)("span",{className:"text-sm text-slate-300",children:e}),(0,l.jsx)(n,{delayDuration:120,children:(0,l.jsxs)(d,{children:[(0,l.jsx)(c,{asChild:!0,"aria-label":`Ajuda sobre ${e.toLowerCase()}`,children:(0,l.jsx)("button",{type:"button",className:"inline-flex h-5 w-5 items-center justify-center rounded-full text-slate-400 transition-colors hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",children:(0,l.jsx)(s.A,{size:14,"aria-hidden":"true"})})}),(0,l.jsx)(p,{side:"top",className:"max-w-72 border-white/20 bg-slate-900 text-[11px] leading-relaxed text-slate-200",children:a})]})})]})}p.displayName=i.UC.displayName},28713:(e,a,t)=>{"use strict";t.d(a,{i:()=>i});var l=t(57716),s=t(87358);let r=null;function i(){if(s.env.PLAYWRIGHT_TEST){let e={eq:()=>e,order:()=>e,limit:()=>e,returns:()=>Promise.resolve({data:[],error:null}),select:()=>e,single:()=>Promise.resolve({data:null,error:null})};return{from:()=>e,auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},storage:{from:()=>({getPublicUrl:()=>({data:{publicUrl:""}})})}}}if(r)return r;let e="https://umkmwbkwvulxtdodzmzf.supabase.co",a=s.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVta213Ymt3dnVseHRkb2R6bXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNDE4MzcsImV4cCI6MjA4MzkxNzgzN30.wssvD9W-yzRyLpq8aMCw57E4wNz7OnQ58ujLzYmF6CA";if(!e)throw Error("NEXT_PUBLIC_SUPABASE_URL n\xe3o est\xe1 definida.");if(!a)throw Error("Defina NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY ou NEXT_PUBLIC_SUPABASE_ANON_KEY.");return r=(0,l.createBrowserClient)(e,a,{cookieOptions:{name:"__session",sameSite:"lax",secure:!0}})}},40980:(e,a,t)=>{"use strict";t.d(a,{cn:()=>r,t:()=>i});var l=t(29722),s=t(622);function r(...e){return(0,s.QP)((0,l.$)(e))}function i(e){if(!e)return"";let a=e.replace(/[!]/g,"").replace(/\.{2,}/g,".").replace(/[^a-zA-Z0-9_\-#%.()[\]]/g,"");return!a||function(e){let a,t=/\[([^\]]*)\]/g;for(;null!==(a=t.exec(e));){let e=a[1].trim();if(!e||/^[.\d]/.test(e)||/^[0-9A-Fa-f]+$/.test(e)&&!e.startsWith("#"))return!0}return!1}(a)?"":a}},42641:(e,a,t)=>{Promise.resolve().then(t.bind(t,58719))},58520:(e,a,t)=>{"use strict";function l(e,a){if(!e)return null;let t=a?.replace(/^\/+|\/+$/g,""),l=e.trim();return l=(l=(l=(l=(l=(l=(l=(l=(l=l.replace(/^file_path:\s*/i,"")).replace(/^key:\s*/i,"")).replace(/^"+|"+$/g,"")).replace(/^'+|'+$/g,"")).replace(/,+$/g,"")).replace(/\s+$/g,"")).replace(/^https?:\/\/[^/]+\/storage\/v1\/(?:render\/image|object)\/public\//,"")).replace(/^\/?storage\/v1\/(?:render\/image|object)\/public\//,"")).replace(/^\/+/,""),t&&l.startsWith(`${t}/`)&&(l=l.slice(t.length+1)),l}function s(e,a){if(!a)return null;let t=a.startsWith("http://")||a.startsWith("https://"),s=a.includes("/storage/v1/");if(t&&!s)try{let e=new URL(a);if("https:"!==e.protocol)return console.warn(`Protocolo inseguro detectado: ${a}`),null;return a}catch{return console.error(`URL inv\xe1lida: ${a}`),null}let r=e.replace(/^\/+|\/+$/g,""),i=l(a,r);if(!i)return a.startsWith("http")?a:null;if(t&&s)try{let e=new URL(a),t=`${e.protocol}//${e.host}`;return`${t}/storage/v1/object/public/${r}/${i}`}catch{}let o=function(){let e="https://umkmwbkwvulxtdodzmzf.supabase.co";if(!e)throw Error("Supabase URL n\xe3o definida. Configure NEXT_PUBLIC_SUPABASE_URL ou SUPABASE_URL.");try{return e.replace(/\/+$/,"")}catch{return e}}();return o?`${o}/storage/v1/object/public/${r}/${i}`:a.startsWith("http")?a:null}function r(e){if(!e)return null;let a=e.trim();if(!a)return null;try{let t=new URL(a);if(["https:","http:"].includes(t.protocol))return t.toString();return console.warn(`Link externo inseguro bloqueado: ${e}`),null}catch{if(a.startsWith("/")||a.startsWith("#"))return a;if(a.startsWith("//"))try{return new URL(`https:${a}`).toString()}catch{}return console.error(`URL externa inv\xe1lida: ${e}`),null}}t.d(a,{VV:()=>s,WZ:()=>l,j7:()=>r})},58719:(e,a,t)=>{"use strict";t.d(a,{ProjectForm:()=>x});var l=t(95155),s=t(12115),r=t(73321),i=t(33546),o=t(99003),n=t(86443),d=t(28713),c=t(85580),p=t(26502),u=t(3091);let m=n.Ikc({title:n.YjP().min(3),slug:n.YjP().min(3),client_name:n.YjP().min(2),brand_name:n.YjP().optional(),year:n.auy.number().int().optional(),project_type:n.YjP().min(2),short_label:n.YjP().optional(),description:n.YjP().optional(),featured_on_home:n.zMY().optional(),featured_on_portfolio:n.zMY().optional(),featured_home_order:n.auy.number().int().optional().nullable(),featured_portfolio_order:n.auy.number().int().optional().nullable(),preferred_size:n.vkY(e=>""===e?void 0:e,n.k5n(["sm","md","lg","wide"]).optional().nullable()),is_published:n.zMY().optional(),landing_page_id:n.YjP().optional().nullable(),tags:n.YOg(n.YjP()).optional()});function x({project:e,tags:a,landingPages:t,selectedTagIds:n=[]}){let x=!!e?.url_landscape,g=!!e?.url_square,[h,f]=(0,s.useState)(null),[b,j]=(0,s.useState)(null),[_,N]=(0,s.useState)(null),[v,y]=(0,s.useState)(null),[w,$]=(0,s.useState)([]),[C,P]=(0,s.useState)(null),[S,A]=(0,s.useTransition)(),U=(0,r.useRouter)(),L=(0,o.mN)({resolver:(0,i.u)(m),defaultValues:{title:e?.title??"",slug:e?.slug??"",client_name:e?.client_name??"",brand_name:e?.brand_name??"",year:e?.year??void 0,project_type:e?.project_type??"Branding & Identity",short_label:e?.short_label??"",description:e?.description??"",featured_on_home:e?.featured_on_home??!1,featured_on_portfolio:e?.featured_on_portfolio??!1,featured_home_order:e?.featured_home_order??void 0,featured_portfolio_order:e?.featured_portfolio_order??void 0,preferred_size:e?.preferred_size??null,is_published:e?.is_published??!0,landing_page_id:e?.landing_page_id??"",tags:n}}),z=L.watch("tags")||[],k=(0,s.useMemo)(()=>t.map(e=>{let a=e.content&&"object"==typeof e.content&&"template"in e.content&&(e.content.template===u._8||e.content.template===u.nJ)?e.content.template:u.rK;return{...e,template:a}}),[t]);return(0,l.jsxs)("form",{className:"space-y-6",onSubmit:L.handleSubmit(a=>{P(null),A(async()=>{try{let t=(0,d.i)(),l=e?.thumbnail_path??null,s=e?.hero_image_path??null,r=e?.url_landscape??null,i=e?.url_square??null,o=Array.isArray(e?.gallery)?e?.gallery?.map(e=>({path:e.path})):[];if(!_&&!x)return void P("Envie a variante 16:9 antes de salvar o projeto.");if(!v&&!g)return void P("Envie a variante 1:1 antes de salvar o projeto.");if(h&&(l=await (0,c.b)("portfolio-media",`projects/${a.slug}`,"thumb",h)),b&&(s=await (0,c.b)("portfolio-media",`projects/${a.slug}`,"hero",b)),_&&(r=await (0,c.b)("portfolio-media",`projects/${a.slug}`,"cover-16x9",_)),v&&(i=await (0,c.b)("portfolio-media",`projects/${a.slug}`,"cover-1x1",v)),w.length>0)for(let e of w){let t=await (0,c.b)("portfolio-media",`projects/${a.slug}/gallery`,e.name.replace(/\W+/g,"-"),e);t&&o.push({path:t})}let{tags:n=[],...p}=a;""===p.landing_page_id&&(p.landing_page_id=null);let{data:u,error:m}=await t.from("portfolio_projects").upsert({id:e?.id,...p,gallery:o,thumbnail_path:l,hero_image_path:s,url_landscape:r,url_square:i},{onConflict:"id"}).select().single();if(m)throw m;if(u?.id){await t.from("portfolio_project_tags").delete().eq("project_id",u.id);let e=n.length>0?n:z;e.length>0&&await t.from("portfolio_project_tags").insert(e.map(e=>({project_id:u.id,tag_id:e})))}U.push("/admin/trabalhos"),U.refresh()}catch(e){P(e instanceof Error?e.message:"Ocorreu um erro desconhecido")}})}),children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"T\xedtulo",description:"Nome p\xfablico do projeto exibido no portf\xf3lio e na Home.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("title")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Slug",description:"Identificador \xfanico da URL. Use h\xedfen no lugar de espa\xe7os.",className:"flex items-center gap-1"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[a.length>0&&(0,l.jsxs)("select",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm text-slate-200",defaultValue:"",onChange:e=>{let a=e.target.value;a&&L.setValue("slug",a)},children:[(0,l.jsx)("option",{value:"",children:"Usar slug das tags existentes"}),a.map(e=>(0,l.jsxs)("option",{value:e.slug,children:[e.label," â€” ",e.slug]},e.id))]}),(0,l.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("slug")})]})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Cliente",description:"Nome da marca ou empresa vinculada ao trabalho.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("client_name")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Marca",description:"Opcional. Use quando a marca final for diferente do cliente direto.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("brand_name")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Ano",description:"Ano principal de publica\xe7\xe3o do trabalho.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"number",className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("year")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Tipo de projeto",description:"Categoria principal para filtros e exibi\xe7\xe3o no grid editorial.",className:"flex items-center gap-1"}),(0,l.jsxs)("select",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("project_type"),children:[(0,l.jsx)("option",{children:"Branding & Identity"}),(0,l.jsx)("option",{children:"Campanhas & Advertising"}),(0,l.jsx)("option",{children:"Web & Digital"}),(0,l.jsx)("option",{children:"Motion & Video"}),(0,l.jsx)("option",{children:"Institucional & Retail"})]})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2 md:col-span-2",children:[(0,l.jsx)(p.s,{label:"Short label",description:"Subt\xedtulo curto para cards e contexto r\xe1pido.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("short_label")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2 md:col-span-2",children:[(0,l.jsx)(p.s,{label:"Descri\xe7\xe3o",description:"Resumo editorial do case para modal e p\xe1ginas internas.",className:"flex items-center gap-1"}),(0,l.jsx)("textarea",{rows:4,className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("description")})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,l.jsx)("input",{type:"checkbox",...L.register("featured_on_home")}),"Destaque Home"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,l.jsx)("input",{type:"checkbox",...L.register("featured_on_portfolio")}),"Destaque Portf\xf3lio"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,l.jsx)("input",{type:"checkbox",...L.register("is_published")}),"Publicado"]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Ordem Home",description:"Usado como desempate no CMS; a Home final embaralha os destaques ativos.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"number",className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("featured_home_order")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Ordem Portf\xf3lio",description:"Define prioridade visual para listagem do portf\xf3lio completo.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"number",className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("featured_portfolio_order")})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Tamanho preferencial no grid",description:"Sugest\xe3o de ocupa\xe7\xe3o do card no grid editorial 12 colunas.",className:"flex items-center gap-1"}),(0,l.jsxs)("select",{className:"rounded-md bg-slate-900/60 border border-white/10 px-3 py-2 text-sm",...L.register("preferred_size"),children:[(0,l.jsx)("option",{value:"",children:"Autom\xe1tico (padr\xe3o)"}),(0,l.jsx)("option",{value:"sm",children:"Pequeno (1/3 da linha)"}),(0,l.jsx)("option",{value:"md",children:"M\xe9dio (1/3 da linha)"}),(0,l.jsx)("option",{value:"lg",children:"Grande (2/3 da linha)"}),(0,l.jsx)("option",{value:"wide",children:"Full (linha inteira)"})]}),(0,l.jsx)("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:"Usado como prefer\xeancia visual; o grid pode adaptar para fechar 12 colunas mantendo a mesma altura."})]})]}),(0,l.jsxs)("div",{className:"p-6 bg-blue-600/5 border border-blue-600/10 rounded-xl space-y-4",children:[(0,l.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-blue-400",children:"P\xe1gina de Destino (Link Interno)"}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Landing Page vinculada",description:"Quando definida, o clique no card abre a p\xe1gina din\xe2mica /projects/[slug] em vez do modal padr\xe3o.",className:"flex items-center gap-1"}),(0,l.jsxs)("select",{className:"rounded-md bg-slate-900 border border-white/10 px-3 py-2 text-sm text-white",...L.register("landing_page_id"),children:[(0,l.jsx)("option",{value:"",children:"Nenhuma (Default)"}),k.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.title," (/",e.slug,") \xb7"," ",e.template===u._8?"Template Mestre V1":e.template===u.nJ?"Template Mestre V2":"Legacy"]},e.id))]}),(0,l.jsx)("p",{className:"text-[10px] text-slate-500 italic",children:"Quando vinculado, o clique no trabalho abrir\xe1 a Landing Page customizada em vez de uma visualiza\xe7\xe3o padr\xe3o."})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Capa 16:9 (obrigat\xf3ria)",description:"Variante horizontal usada em hero/full-highlight e containers amplos.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>N(e.target.files?.[0]??null)}),e?.url_landscape&&(0,l.jsxs)("span",{className:"text-xs text-slate-400 break-all",children:["Atual: ",e.url_landscape]})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Capa 1:1 (obrigat\xf3ria)",description:"Variante quadrada para cards compactos e grid denso.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>y(e.target.files?.[0]??null)}),e?.url_square&&(0,l.jsxs)("span",{className:"text-xs text-slate-400 break-all",children:["Atual: ",e.url_square]})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Thumbnail (opcional)",description:"Fallback legado para listagens antigas.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:e=>f(e.target.files?.[0]??null)}),e?.thumbnail_path&&(0,l.jsx)("span",{className:"text-xs text-slate-400 break-all",children:e.thumbnail_path})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Hero image (opcional)",description:"Imagem complementar para p\xe1ginas de projeto e fallback visual.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>j(e.target.files?.[0]??null)}),e?.hero_image_path&&(0,l.jsx)("span",{className:"text-xs text-slate-400 break-all",children:e.hero_image_path})]}),(0,l.jsxs)("label",{className:"flex flex-col gap-2",children:[(0,l.jsx)(p.s,{label:"Galeria",description:"Assets extras para modal/case; aceita imagens e v\xeddeos.",className:"flex items-center gap-1"}),(0,l.jsx)("input",{type:"file",accept:"image/*,video/*",multiple:!0,onChange:e=>$(Array.from(e.target.files??[]))}),Array.isArray(e?.gallery)&&e.gallery.length>0&&(0,l.jsxs)("span",{className:"text-xs text-slate-400",children:[e.gallery.length," itens j\xe1 cadastrados"]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p.s,{label:"Tags",description:"Usadas para highlights r\xe1pidos no card e categoriza\xe7\xe3o editorial.",className:"mb-2 flex items-center gap-1"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-3",children:a.map(e=>(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[(0,l.jsx)("input",{type:"checkbox",value:e.id,checked:z.includes(e.id),onChange:e=>{let{checked:a,value:t}=e.target;a?L.setValue("tags",[...z,t]):L.setValue("tags",z.filter(e=>e!==t))}}),e.label]},e.id))})]}),C&&(0,l.jsx)("div",{className:"text-sm text-red-400",children:C}),(0,l.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-blue-500 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-blue-600 disabled:opacity-50",disabled:S,children:S?"Salvando...":"Salvar projeto"})]})}},85580:(e,a,t)=>{"use strict";t.d(a,{h:()=>o,b:()=>i});var l=t(28713);let s=/[^a-z0-9._-]/g;var r=t(58520);async function i(e,a,t,s){let i,o,n=(0,l.i)(),d=s.name.split(".").pop(),c=d?`${t}.${d}`:t,p=(o=(i=a.replace(/\/+$/g,"").replace(/^\/+/g,""))?`${i}`:"")?`${o}/${c}`:c,{data:u,error:m}=await n.storage.from(e).upload(p,s,{cacheControl:"3600",upsert:!0});if(m)throw m;return(0,r.WZ)(u.path,e)}async function o({file:e,key:a,page:t,subPath:i,bucket:o="site-assets"}){let n=(0,l.i)(),d=function({page:e,key:a,subPath:t,extension:l}){let r=[e&&e.trim().length>0?e.trim():"global"];t&&r.push(t.trim().replace(/^\/+|\/+$/g,""));let i=a.trim().toLowerCase().replace(/\s+/g,"_").replace(s,""),o=l.toLowerCase().replace(/^\.+/,"")||"bin",n=`${i}.${o}`;return`${r.join("/")}/${n}`}({page:t,key:a,subPath:i,extension:e.name.split(".").pop()??"bin"}),{data:c,error:p}=await n.storage.from(o).upload(d,e,{cacheControl:"3600",upsert:!0});if(p)throw p;return(0,r.WZ)(c.path,o)}}}]);