"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7817],{3091:(e,a,l)=>{l.d(a,{_8:()=>s,nJ:()=>r,rK:()=>t});let t="legacy-blocks",s="master-project-v1",r="master-project-v2"},27817:(e,a,l)=>{l.d(a,{A:()=>ee});var t=l(95155),s=l(12115),r=l(73321),i=l(28160),o=l(28713),n=l(91010),c=l(80723),d=l(55243),p=l(68459),m=l(17243),u=l(51914),g=l(24338),h=l(45005),x=l(8434),j=l(83931),v=l(9921),b=l(66088),_=l(85580),f=l(98500),N=l.n(f),y=l(5772),w=l(47834);function C({label:e,type:a,value:l,previewUrl:r,onFileSelect:i,onUrlChange:o,onClear:n}){let c,[d,u]=(0,s.useState)("upload");(0,s.useEffect)(()=>{l&&(l.startsWith("http")||l.startsWith("www"))&&!l.includes("supabase.co")&&u("url")},[l]);let g="url"===d&&l&&(c=l.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/))&&11===c[2].length?c[2]:null,x=!!r||!!l&&"url"===d,j=r||l;return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium",children:e}),(0,t.jsxs)("div",{className:"flex bg-slate-800 p-1 rounded-lg",children:[(0,t.jsx)("button",{onClick:()=>u("upload"),className:`px-2 py-1 text-xs rounded-md transition-all ${"upload"===d?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"Upload"}),(0,t.jsx)("button",{onClick:()=>u("url"),className:`px-2 py-1 text-xs rounded-md transition-all ${"url"===d?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`,children:"Link"})]})]}),x?(0,t.jsxs)("div",{className:"relative rounded-xl overflow-hidden border border-white/10 group bg-black/20",children:[g?(0,t.jsx)("div",{className:"aspect-video w-full bg-black",children:(0,t.jsx)("iframe",{src:`https://www.youtube.com/embed/${g}?autoplay=0&mute=1&modestbranding=1`,title:"YouTube preview",className:"w-full h-full border-none",allowFullScreen:!0})}):"image"===a?(0,t.jsx)("div",{className:"relative min-h-[12.5rem] max-h-[25rem] w-full flex justify-center bg-black/40",children:(0,t.jsx)("img",{src:j,alt:"Preview",className:"h-full w-auto max-h-[25rem] object-contain"})}):(0,t.jsx)("video",{src:j,className:"w-full max-h-[25rem] object-contain",controls:!0,muted:!0,loop:!0,autoPlay:!0}),(0,t.jsx)("div",{className:"absolute top-2 right-2 flex gap-2",children:(0,t.jsx)("button",{onClick:n,className:"bg-red-500 p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",title:"Remover m\xeddia",children:(0,t.jsx)(p.A,{size:16})})})]}):"upload"===d?(0,t.jsxs)("label",{className:"flex flex-col items-center justify-center py-12 rounded-xl border-2 border-dashed border-white/10 hover:border-blue-500 hover:bg-blue-500/5 cursor-pointer transition-all group",children:["image"===a?(0,t.jsx)(m.A,{className:"text-slate-600 mb-2 group-hover:text-blue-400 transition-colors",size:32}):(0,t.jsx)(h.A,{className:"text-slate-600 mb-2 group-hover:text-blue-400 transition-colors",size:32}),(0,t.jsx)("span",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest group-hover:text-blue-300",children:"Escolher Arquivo"}),(0,t.jsx)("input",{type:"file",accept:"image"===a?"image/*":"video/*",onChange:e=>{let a=e.target.files?.[0];a&&i(a)},className:"hidden"})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-slate-950 border border-white/10 rounded-xl px-4 py-3 focus-within:border-blue-500 transition-colors",children:[(0,t.jsx)(w.A,{className:"text-slate-500",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"image"===a?"https://exemplo.com/imagem.jpg":"Pinte aqui o link do YouTube ou .mp4",className:"bg-transparent border-none outline-none w-full text-sm text-white placeholder-slate-600",onChange:e=>o(e.target.value),value:l||""})]})]})}function k({block:e,onChange:a}){let l=l=>{a({content:{...e.content,...l}})},s=(a,s)=>{let r="text"===a?"textConfig":"textConfig2",i=e.content[r]||{},o=e=>{l({[r]:{...i,...e}})};return(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("label",{className:"text-xs uppercase tracking-widest text-slate-500 font-medium flex items-center gap-2",children:[(0,t.jsx)(g.A,{size:14})," ",s]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 bg-slate-900/50 p-3 rounded-xl border border-white/5",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Tamanho"}),(0,t.jsxs)("select",{value:i.fontSize||"",onChange:e=>o({fontSize:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Tamanho do Texto",children:[(0,t.jsx)("option",{value:"",children:"Padr\xe3o"}),(0,t.jsx)("option",{value:"text-xs",children:"Extra Small"}),(0,t.jsx)("option",{value:"text-sm",children:"Small"}),(0,t.jsx)("option",{value:"text-base",children:"Base"}),(0,t.jsx)("option",{value:"text-lg",children:"Large"}),(0,t.jsx)("option",{value:"text-xl",children:"Extra Large"}),(0,t.jsx)("option",{value:"text-2xl",children:"2XL"}),(0,t.jsx)("option",{value:"text-3xl",children:"3XL"}),(0,t.jsx)("option",{value:"text-4xl",children:"4XL"}),(0,t.jsx)("option",{value:"text-5xl",children:"5XL"}),(0,t.jsx)("option",{value:"text-6xl",children:"6XL"}),(0,t.jsx)("option",{value:"text-7xl",children:"7XL"}),(0,t.jsx)("option",{value:"text-8xl",children:"8XL"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Peso"}),(0,t.jsxs)("select",{value:i.fontWeight||"",onChange:e=>o({fontWeight:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Peso da Fonte",children:[(0,t.jsx)("option",{value:"",children:"Padr\xe3o"}),(0,t.jsx)("option",{value:"font-thin",children:"Thin"}),(0,t.jsx)("option",{value:"font-light",children:"Light"}),(0,t.jsx)("option",{value:"font-normal",children:"Normal"}),(0,t.jsx)("option",{value:"font-medium",children:"Medium"}),(0,t.jsx)("option",{value:"font-semibold",children:"SemiBold"}),(0,t.jsx)("option",{value:"font-bold",children:"Bold"}),(0,t.jsx)("option",{value:"font-extrabold",children:"ExtraBold"}),(0,t.jsx)("option",{value:"font-black",children:"Black"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Alinhamento"}),(0,t.jsxs)("select",{value:i.textAlign||"",onChange:e=>o({textAlign:e.target.value}),className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white",title:"Alinhamento do Texto",children:[(0,t.jsx)("option",{value:"",children:"Padr\xe3o"}),(0,t.jsx)("option",{value:"text-left",children:"Esquerda"}),(0,t.jsx)("option",{value:"text-center",children:"Centralizado"}),(0,t.jsx)("option",{value:"text-right",children:"Direita"}),(0,t.jsx)("option",{value:"text-justify",children:"Justificado"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase text-slate-500 block",children:"Cor (Hex)"}),(0,t.jsx)("input",{type:"text",value:i.color||"",onChange:e=>o({color:e.target.value}),placeholder:"#FFFFFF",className:"w-full bg-slate-800 text-[11px] rounded p-1 outline-none border border-white/10 text-white placeholder-slate-600"})]})]}),(0,t.jsx)("textarea",{value:e.content[a]||"",onChange:e=>l({[a]:e.target.value}),className:"w-full h-full min-h-[200px] bg-slate-950/50 border border-white/10 rounded-xl p-4 outline-none focus:border-blue-500/50 transition-all resize-none font-sans",placeholder:"# T\xedtulo... \\n\\nPar\xe1grafo com conte\xfado..."})]})},r=(l,s,r,i,o)=>(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(C,{label:o,type:s,value:e.content[l],previewUrl:e[i],onFileSelect:l=>{a({[r]:l,["file"===r?"previewUrl":"previewUrl2"]:URL.createObjectURL(l),content:{...e.content,["file"===r?"media":"media2"]:""}})},onUrlChange:t=>{a({["media"===l?"file":"file2"]:null,["media"===l?"previewUrl":"previewUrl2"]:"",content:{...e.content,[l]:t}})},onClear:()=>{a({[r]:null,[i]:"",content:{...e.content,[l]:""}})}})});switch(e.type){case"text":return(0,t.jsx)("div",{className:"p-4",children:s("text","Conte\xfado de Texto")});case"image":return(0,t.jsx)("div",{className:"p-4",children:r("media","image","file","previewUrl","Imagem Full")});case"video":case"video-autoplay":return(0,t.jsx)("div",{className:"p-4",children:r("media","video","file","previewUrl","V\xeddeo Full")});case"image-text":return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","image","file","previewUrl","Imagem (Esquerda)"),s("text","Texto (Direita)")]});case"text-image":return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[s("text","Texto (Esquerda)"),r("media","image","file","previewUrl","Imagem (Direita)")]});case"image-image":return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","image","file","previewUrl","Imagem 01"),r("media2","image","file2","previewUrl2","Imagem 02")]});case"image-video":return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","image","file","previewUrl","Imagem"),r("media2","video","file2","previewUrl2","V\xeddeo")]});case"video-text":return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4",children:[r("media","video","file","previewUrl","V\xeddeo (Esquerda)"),s("text","Texto (Direita)")]});default:return(0,t.jsx)("div",{className:"p-4 text-red-500",children:"Tipo de bloco desconhecido"})}}var A=l(15638),U=l(21362),$=l(94514),L=l(16950),S=l(40980);let z=A.bL,P=A.l9;A.YJ,A.ZL,A.Pb,A.z6,s.forwardRef(({className:e,inset:a,children:l,...s},r)=>(0,t.jsxs)(A.ZP,{ref:r,className:(0,S.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...s,children:[l,(0,t.jsx)(U.A,{className:"ml-auto"})]})).displayName=A.ZP.displayName,s.forwardRef(({className:e,...a},l)=>(0,t.jsx)(A.G5,{ref:l,className:(0,S.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=A.G5.displayName;let T=s.forwardRef(({className:e,sideOffset:a=4,...l},s)=>(0,t.jsx)(A.ZL,{children:(0,t.jsx)(A.UC,{ref:s,sideOffset:a,className:(0,S.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...l})}));T.displayName=A.UC.displayName;let E=s.forwardRef(({className:e,inset:a,...l},s)=>(0,t.jsx)(A.q7,{ref:s,className:(0,S.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...l}));E.displayName=A.q7.displayName,s.forwardRef(({className:e,children:a,checked:l,...s},r)=>(0,t.jsxs)(A.H_,{ref:r,className:(0,S.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:l,...s,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(A.VF,{children:(0,t.jsx)($.A,{className:"h-4 w-4"})})}),a]})).displayName=A.H_.displayName,s.forwardRef(({className:e,children:a,...l},s)=>(0,t.jsxs)(A.hN,{ref:s,className:(0,S.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(A.VF,{children:(0,t.jsx)(L.A,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=A.hN.displayName;let R=s.forwardRef(({className:e,inset:a,...l},s)=>(0,t.jsx)(A.JU,{ref:s,className:(0,S.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...l}));R.displayName=A.JU.displayName;let I=s.forwardRef(({className:e,...a},l)=>(0,t.jsx)(A.wv,{ref:l,className:(0,S.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));I.displayName=A.wv.displayName;var q=l(3091),B=l(32956),F=l(72055),V=l(56842);let J=e=>e.split(",").map(e=>e.trim()).filter(Boolean),O="w-full rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",W="text-[11px] uppercase tracking-[0.15em] text-slate-400";function H({label:e,value:a,onChange:l}){let s="video"===a.kind,r=a.previewUrl||a.src;return(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[(0,t.jsx)("p",{className:W,children:e}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Tipo"}),(0,t.jsxs)("select",{className:O,value:a.kind||"image",onChange:e=>l({...a,kind:"video"===e.target.value?"video":"image"}),children:[(0,t.jsx)("option",{value:"image",children:"Imagem"}),(0,t.jsx)("option",{value:"video",children:"V\xeddeo"})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Upload"}),(0,t.jsx)("input",{className:`${O} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:s?"video/*":"image/*",onChange:e=>{let t=e.target.files?.[0];t&&l({...a,file:t,previewUrl:URL.createObjectURL(t)})}})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"URL / Caminho"}),(0,t.jsx)("input",{className:O,placeholder:s?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:a.src||"",onChange:e=>l({...a,src:e.target.value,file:null,previewUrl:""})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Texto alternativo"}),(0,t.jsx)("input",{className:O,value:a.alt||"",onChange:e=>l({...a,alt:e.target.value})})]}),s?(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Poster (opcional)"}),(0,t.jsx)("input",{className:O,placeholder:"landing-pages/meu-projeto/poster.webp",value:a.poster||"",onChange:e=>l({...a,poster:e.target.value})})]}):null,r?(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/40",children:s?(0,t.jsx)("video",{src:r,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,t.jsx)("img",{src:r,alt:a.alt||"Pr\xe9-visualiza\xe7\xe3o",className:"h-56 w-full object-cover"})}):null]})}function M({value:e,onChange:a}){let l=l=>{a({...e,...l})},s=(a,t)=>{l({gallery_grid:e.gallery_grid.map(e=>e.id===a?{...e,...t}:e)})},r=(a,t)=>{let s="up"===t?a-1:a+1;if(s<0||s>=e.gallery_grid.length)return;let r=[...e.gallery_grid];[r[a],r[s]]=[r[s],r[a]],l({gallery_grid:r})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"T\xedtulo do projeto"}),(0,t.jsx)("input",{className:O,value:e.project_title,onChange:e=>l({project_title:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Subt\xedtulo"}),(0,t.jsx)("input",{className:O,value:e.project_subtitle||"",onChange:e=>l({project_subtitle:e.target.value||""})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Slug do projeto"}),(0,t.jsx)("input",{className:O,value:e.project_slug,onChange:e=>l({project_slug:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Cor de destaque"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.highlight_color||"#0048ff",onChange:e=>l({highlight_color:e.target.value}),title:"Cor de destaque"}),(0,t.jsx)("input",{className:O,value:e.highlight_color||"#0048ff",onChange:e=>l({highlight_color:e.target.value||"#0048ff"})})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Cliente"}),(0,t.jsx)("input",{className:O,value:e.project_client||"",onChange:e=>l({project_client:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Ano"}),(0,t.jsx)("input",{className:O,type:"number",value:e.project_year||"",onChange:e=>l({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Tags (separadas por v\xedrgula)"}),(0,t.jsx)("input",{className:O,value:e.project_tags.join(", "),onChange:e=>l({project_tags:J(e.target.value)})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Servi\xe7os (separados por v\xedrgula)"}),(0,t.jsx)("input",{className:O,value:(e.project_services||[]).join(", "),onChange:e=>l({project_services:J(e.target.value)})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Resumo do projeto"}),(0,t.jsx)("textarea",{className:`${O} min-h-28`,value:e.project_summary||"",onChange:e=>l({project_summary:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Headline da intro"}),(0,t.jsx)("input",{className:O,value:e.intro_headline||"",onChange:e=>l({intro_headline:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Par\xe1grafos da intro (1 por linha)"}),(0,t.jsx)("textarea",{className:`${O} min-h-32`,value:(e.intro_body||[]).join("\n"),onChange:e=>l({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})}),(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero"}),(0,t.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,t.jsx)(H,{label:"Hero Cover",value:e.hero_cover_image,onChange:e=>l({hero_cover_image:e})}),(0,t.jsx)(H,{label:"Logo Hero (opcional)",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>l({hero_logo_image:e})})]})]}),(0,t.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navega\xe7\xe3o e SEO"}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Texto bot\xe3o voltar"}),(0,t.jsx)("input",{className:O,value:e.navigation?.back_label||"",onChange:a=>l({navigation:{...e.navigation,back_label:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Texto pr\xf3ximo projeto"}),(0,t.jsx)("input",{className:O,value:e.navigation?.next_label||"",onChange:a=>l({navigation:{...e.navigation,next_label:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Slug pr\xf3ximo projeto"}),(0,t.jsx)("input",{className:O,value:e.navigation?.next_project_slug||"",onChange:a=>l({navigation:{...e.navigation,next_project_slug:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"CTA"}),(0,t.jsx)("input",{className:O,value:e.cta?.label||"",onChange:a=>l({cta:{...e.cta,label:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Link CTA"}),(0,t.jsx)("input",{className:O,value:e.cta?.href||"",onChange:a=>l({cta:{...e.cta,href:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"SEO descri\xe7\xe3o"}),(0,t.jsx)("textarea",{className:`${O} min-h-24`,value:e.seo?.description||"",onChange:a=>l({seo:{...e.seo,description:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"SEO og:image"}),(0,t.jsx)("input",{className:O,value:e.seo?.og_image||"",onChange:a=>l({seo:{...e.seo,og_image:a.target.value}})})]})]})]}),(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Gallery Grid"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{let a;return l({gallery_grid:[...e.gallery_grid,(a=e.gallery_grid.length,{id:`grid-item-${a+1}`,kind:"image",layout:"grid",src:"",alt:"",title:"",eyebrow:"",description:"",quote:""})]})},className:"inline-flex min-h-11 items-center gap-2 rounded-full bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,t.jsx)(u.A,{size:14}),"Adicionar item"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum item na galeria. Adicione o primeiro bloco de m\xeddia."}):null,e.gallery_grid.map((a,i)=>{let o=a.previewUrl||a.src;return(0,t.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Item ",i+1]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{type:"button",onClick:()=>r(i,"up"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,t.jsx)(F.A,{size:14})}),(0,t.jsx)("button",{type:"button",onClick:()=>r(i,"down"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,t.jsx)(V.A,{size:14})}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=a.id,void l({gallery_grid:e.gallery_grid.filter(e=>e.id!==t)})},className:"rounded-md border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover item",children:(0,t.jsx)(p.A,{size:14})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Layout"}),(0,t.jsxs)("select",{className:O,value:a.layout,onChange:e=>s(a.id,{layout:e.target.value}),children:[(0,t.jsx)("option",{value:"grid",children:"Grid"}),(0,t.jsx)("option",{value:"full-highlight",children:"Full Highlight"}),(0,t.jsx)("option",{value:"full",children:"Full Width"}),(0,t.jsx)("option",{value:"feature",children:"Feature Banner"}),(0,t.jsx)("option",{value:"quote-band",children:"Quote Band"}),(0,t.jsx)("option",{value:"split-left",children:"Split Left"}),(0,t.jsx)("option",{value:"split-right",children:"Split Right"})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Tipo de m\xeddia"}),(0,t.jsxs)("select",{className:O,value:a.kind,onChange:e=>s(a.id,{kind:"video"===e.target.value?"video":"image"}),children:[(0,t.jsx)("option",{value:"image",children:"Imagem"}),(0,t.jsx)("option",{value:"video",children:"V\xeddeo"})]})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"URL / Caminho"}),(0,t.jsx)("input",{className:O,value:a.src,onChange:e=>s(a.id,{src:e.target.value,file:null,previewUrl:""})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Upload"}),(0,t.jsx)("input",{type:"file",className:`${O} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:"video"===a.kind?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&s(a.id,{file:l,previewUrl:URL.createObjectURL(l)})}})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Poster (v\xeddeo)"}),(0,t.jsx)("input",{className:O,value:a.poster||"",onChange:e=>s(a.id,{poster:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Alt"}),(0,t.jsx)("input",{className:O,value:a.alt,onChange:e=>s(a.id,{alt:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"Eyebrow"}),(0,t.jsx)("input",{className:O,value:a.eyebrow||"",onChange:e=>s(a.id,{eyebrow:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:W,children:"T\xedtulo"}),(0,t.jsx)("input",{className:O,value:a.title||"",onChange:e=>s(a.id,{title:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{className:`${O} min-h-24`,value:a.description||"",onChange:e=>s(a.id,{description:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:W,children:"Quote (quote band)"}),(0,t.jsx)("input",{className:O,value:a.quote||"",onChange:e=>s(a.id,{quote:e.target.value})})]})]}),o?(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/50",children:"video"===a.kind?(0,t.jsx)("video",{src:o,className:"h-48 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,t.jsx)("img",{src:o,alt:a.alt||"Preview",className:"h-48 w-full object-cover"})}):(0,t.jsxs)("div",{className:"flex h-24 items-center justify-center rounded-xl border border-dashed border-white/10 text-xs text-slate-500",children:["video"===a.kind?(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}):(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Sem pr\xe9-visualiza\xe7\xe3o"]})]},a.id)})]})]})]})}let X=e=>e.split(",").map(e=>e.trim()).filter(Boolean),D="w-full rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-sm text-white outline-none transition-colors focus:border-blue-500",G="text-[11px] uppercase tracking-[0.15em] text-slate-400";function Y({label:e,value:a,onChange:l}){let s="video"===a.kind,r=a.previewUrl||a.src,i=!s&&!a.alt?.trim();return(0,t.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-slate-950/40 p-4",children:[(0,t.jsx)("p",{className:G,children:e}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Tipo"}),(0,t.jsxs)("select",{className:D,value:a.kind||"image",onChange:e=>l({...a,kind:"video"===e.target.value?"video":"image"}),children:[(0,t.jsx)("option",{value:"image",children:"Imagem"}),(0,t.jsx)("option",{value:"video",children:"V\xeddeo"})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Upload"}),(0,t.jsx)("input",{className:`${D} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,type:"file",accept:s?"video/*":"image/*",onChange:e=>{let t=e.target.files?.[0];t&&l({...a,file:t,previewUrl:URL.createObjectURL(t)})}})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"URL / Caminho"}),(0,t.jsx)("input",{className:D,placeholder:s?"landing-pages/meu-projeto/hero-video.mp4":"landing-pages/meu-projeto/hero.webp",value:a.src||"",onChange:e=>l({...a,src:e.target.value,file:null,previewUrl:""})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Texto alternativo (obrigat\xf3rio para imagem)"}),(0,t.jsx)("input",{className:D,value:a.alt||"",onChange:e=>l({...a,alt:e.target.value})})]}),i?(0,t.jsx)("p",{className:"text-xs text-red-300",children:"Alt text obrigat\xf3rio para m\xeddia de imagem."}):null,s?(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Poster (opcional)"}),(0,t.jsx)("input",{className:D,placeholder:"landing-pages/meu-projeto/poster.webp",value:a.poster||"",onChange:e=>l({...a,poster:e.target.value})})]}):null,r?(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/40",children:s?(0,t.jsx)("video",{src:r,className:"h-56 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,t.jsx)("img",{src:r,alt:a.alt||"Pr\xe9-visualiza\xe7\xe3o",className:"h-56 w-full object-cover"})}):null]})}function Z({value:e,onChange:a}){let l=l=>{a({...e,...l})},s=(a,t)=>{l({gallery_grid:e.gallery_grid.map(e=>e.id===a?{...e,...t}:e)})},r=(a,t)=>{let s="up"===t?a-1:a+1;if(s<0||s>=e.gallery_grid.length)return;let r=[...e.gallery_grid];[r[a],r[s]]=[r[s],r[a]],l({gallery_grid:r})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Base da P\xe1gina (V2)"}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"T\xedtulo do projeto"}),(0,t.jsx)("input",{className:D,value:e.project_title,onChange:e=>l({project_title:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Subt\xedtulo"}),(0,t.jsx)("input",{className:D,value:e.project_subtitle||"",onChange:e=>l({project_subtitle:e.target.value||""})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Slug do projeto"}),(0,t.jsx)("input",{className:D,value:e.project_slug,onChange:e=>l({project_slug:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Cor de destaque"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.highlight_color||"#0048ff",onChange:e=>l({highlight_color:e.target.value}),title:"Cor de destaque"}),(0,t.jsx)("input",{className:D,value:e.highlight_color||"#0048ff",onChange:e=>l({highlight_color:e.target.value||"#0048ff"})})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Theme color (Liquid Ether)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",className:"h-10 w-12 rounded border border-white/10 bg-transparent",value:e.theme_color||"#0048ff",onChange:e=>l({theme_color:e.target.value}),title:"Theme color"}),(0,t.jsx)("input",{className:D,value:e.theme_color||"#0048ff",onChange:e=>l({theme_color:e.target.value||"#0048ff"})})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Cliente"}),(0,t.jsx)("input",{className:D,value:e.project_client||"",onChange:e=>l({project_client:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Ano"}),(0,t.jsx)("input",{className:D,type:"number",value:e.project_year||"",onChange:e=>l({project_year:e.target.value?Number(e.target.value):void 0})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Tags (separadas por v\xedrgula)"}),(0,t.jsx)("input",{className:D,value:e.project_tags.join(", "),onChange:e=>l({project_tags:X(e.target.value)})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Servi\xe7os (separados por v\xedrgula)"}),(0,t.jsx)("input",{className:D,value:(e.project_services||[]).join(", "),onChange:e=>l({project_services:X(e.target.value)})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Resumo (summary)"}),(0,t.jsx)("textarea",{className:`${D} min-h-28`,value:e.project_summary||"",onChange:e=>l({project_summary:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Headline da intro"}),(0,t.jsx)("input",{className:D,value:e.intro_headline||"",onChange:e=>l({intro_headline:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Par\xe1grafos da intro (1 por linha)"}),(0,t.jsx)("textarea",{className:`${D} min-h-32`,value:(e.intro_body||[]).join("\n"),onChange:e=>l({intro_body:e.target.value.split("\n").map(e=>e.trim()).filter(Boolean)})})]})]})]}),(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Hero"}),(0,t.jsxs)("div",{className:"grid gap-4 xl:grid-cols-2",children:[(0,t.jsx)(Y,{label:"Hero Cover",value:e.hero_cover_image,onChange:e=>l({hero_cover_image:e})}),(0,t.jsx)(Y,{label:"Logo Hero (opcional)",value:e.hero_logo_image||{src:"",alt:"",kind:"image",poster:""},onChange:e=>l({hero_logo_image:e})})]})]}),(0,t.jsxs)("section",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Navega\xe7\xe3o e SEO"}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Texto bot\xe3o voltar"}),(0,t.jsx)("input",{className:D,value:e.navigation?.back_label||"",onChange:a=>l({navigation:{...e.navigation,back_label:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Texto pr\xf3ximo projeto"}),(0,t.jsx)("input",{className:D,value:e.navigation?.next_label||"",onChange:a=>l({navigation:{...e.navigation,next_label:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Slug pr\xf3ximo projeto"}),(0,t.jsx)("input",{className:D,value:e.navigation?.next_project_slug||"",onChange:a=>l({navigation:{...e.navigation,next_project_slug:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"CTA"}),(0,t.jsx)("input",{className:D,value:e.cta?.label||"",onChange:a=>l({cta:{...e.cta,label:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Link CTA"}),(0,t.jsx)("input",{className:D,value:e.cta?.href||"",onChange:a=>l({cta:{...e.cta,href:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"SEO descri\xe7\xe3o"}),(0,t.jsx)("textarea",{className:`${D} min-h-24`,value:e.seo?.description||"",onChange:a=>l({seo:{...e.seo,description:a.target.value}})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"SEO og:image"}),(0,t.jsx)("input",{className:D,value:e.seo?.og_image||"",onChange:a=>l({seo:{...e.seo,og_image:a.target.value}})})]})]})]}),(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xs font-bold uppercase tracking-[0.2em] text-blue-300",children:"Conte\xfado Din\xe2mico (gallery_grid)"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{let a;return l({gallery_grid:[...e.gallery_grid,(a=e.gallery_grid.length,{id:`grid-item-${a+1}`,kind:"image",layout_type:"grid_2_col",media_align:"left",src:"",alt:"",title:"",eyebrow:"",description:"",quote:"",features:[]})]})},className:"inline-flex min-h-11 items-center gap-2 rounded-full bg-blue-600 px-4 text-xs font-semibold uppercase tracking-[0.1em] text-white hover:bg-blue-500",children:[(0,t.jsx)(u.A,{size:14}),"Adicionar bloco"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[0===e.gallery_grid.length?(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-slate-950/30 px-4 py-12 text-center text-sm text-slate-400",children:"Nenhum bloco no gallery_grid. Adicione o primeiro bloco."}):null,e.gallery_grid.map((a,i)=>{let o=a.previewUrl||a.src,n="video"!==a.kind&&!a.alt?.trim(),c="grid_quote"===a.layout_type,d="grid_split"===a.layout_type,u="grid_features_3"===a.layout_type;return(0,t.jsxs)("div",{className:"space-y-4 rounded-2xl border border-white/10 bg-slate-900/35 p-5",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsxs)("p",{className:"text-xs uppercase tracking-[0.14em] text-slate-300",children:["Bloco ",i+1]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("button",{type:"button",onClick:()=>r(i,"up"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para cima",children:(0,t.jsx)(F.A,{size:14})}),(0,t.jsx)("button",{type:"button",onClick:()=>r(i,"down"),className:"rounded-md border border-white/10 bg-black/40 p-2 text-slate-300 hover:text-white","aria-label":"Mover para baixo",children:(0,t.jsx)(V.A,{size:14})}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=a.id,void l({gallery_grid:e.gallery_grid.filter(e=>e.id!==t)})},className:"rounded-md border border-red-400/30 bg-red-500/10 p-2 text-red-300 hover:text-red-200","aria-label":"Remover bloco",children:(0,t.jsx)(p.A,{size:14})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Layout type"}),(0,t.jsxs)("select",{className:D,value:a.layout_type,onChange:e=>s(a.id,{layout_type:e.target.value}),children:[(0,t.jsx)("option",{value:"grid_2_col",children:"Grid 2 col"}),(0,t.jsx)("option",{value:"grid_1_col",children:"Grid 1 col"}),(0,t.jsx)("option",{value:"grid_feat",children:"Full Highlight"}),(0,t.jsx)("option",{value:"grid_features_3",children:"Features 3"}),(0,t.jsx)("option",{value:"grid_quote",children:"Quote"}),(0,t.jsx)("option",{value:"grid_split",children:"Split"})]})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Tipo de m\xeddia"}),(0,t.jsxs)("select",{className:D,value:a.kind,onChange:e=>s(a.id,{kind:"video"===e.target.value?"video":"image"}),children:[(0,t.jsx)("option",{value:"image",children:"Imagem"}),(0,t.jsx)("option",{value:"video",children:"V\xeddeo"})]})]}),d?(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Posi\xe7\xe3o da m\xeddia"}),(0,t.jsxs)("select",{className:D,value:a.media_align||"left",onChange:e=>s(a.id,{media_align:"right"===e.target.value?"right":"left"}),children:[(0,t.jsx)("option",{value:"left",children:"Esquerda"}),(0,t.jsx)("option",{value:"right",children:"Direita"})]})]}):null,c?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"URL / Caminho"}),(0,t.jsx)("input",{className:D,value:a.src,onChange:e=>s(a.id,{src:e.target.value,file:null,previewUrl:""})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Upload"}),(0,t.jsx)("input",{type:"file",className:`${D} file:mr-3 file:rounded-md file:border-0 file:bg-blue-600 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-white`,accept:"video"===a.kind?"video/*":"image/*",onChange:e=>{let l=e.target.files?.[0];l&&s(a.id,{file:l,previewUrl:URL.createObjectURL(l)})}})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Poster (v\xeddeo)"}),(0,t.jsx)("input",{className:D,value:a.poster||"",onChange:e=>s(a.id,{poster:e.target.value})})]})]}),"video"!==a.kind?(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Alt (obrigat\xf3rio)"}),(0,t.jsx)("input",{className:D,value:a.alt,onChange:e=>s(a.id,{alt:e.target.value})})]}):null,n?(0,t.jsx)("p",{className:"md:col-span-2 text-xs text-red-300",children:"Alt text obrigat\xf3rio para blocos de imagem."}):null,(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"Eyebrow"}),(0,t.jsx)("input",{className:D,value:a.eyebrow||"",onChange:e=>s(a.id,{eyebrow:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1",children:[(0,t.jsx)("span",{className:G,children:"T\xedtulo"}),(0,t.jsx)("input",{className:D,value:a.title||"",onChange:e=>s(a.id,{title:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{className:`${D} min-h-24`,value:a.description||"",onChange:e=>s(a.id,{description:e.target.value})})]}),(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Quote"}),(0,t.jsx)("input",{className:D,value:a.quote||"",onChange:e=>s(a.id,{quote:e.target.value})})]}),u?(0,t.jsxs)("label",{className:"space-y-1 md:col-span-2",children:[(0,t.jsx)("span",{className:G,children:"Features (1 por linha: t\xedtulo | descri\xe7\xe3o)"}),(0,t.jsx)("textarea",{className:`${D} min-h-24`,value:(a.features??[]).map(e=>`${e.title}${e.description?` | ${e.description}`:""}`).join("\n"),onChange:e=>s(a.id,{features:e.target.value.split("\n").reduce((e,a,l)=>{let[t,s]=a.split("|"),r=t?.trim();return r&&e.push({id:`feature-${l+1}`,title:r,description:s?.trim()||void 0}),e},[])})})]}):null]}),o?(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/50",children:"video"===a.kind?(0,t.jsx)("video",{src:o,className:"h-48 w-full object-cover",controls:!0,muted:!0,playsInline:!0}):(0,t.jsx)("img",{src:o,alt:a.alt||"Preview",className:"h-48 w-full object-cover"})}):(0,t.jsxs)("div",{className:"flex h-24 items-center justify-center rounded-xl border border-dashed border-white/10 text-xs text-slate-500",children:["video"===a.kind?(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}):(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Sem pr\xe9-visualiza\xe7\xe3o"]})]},a.id)})]})]})]})}let K="/site-assets/",Q=e=>e?e.includes(K)?e.split(K).pop()||"":e.replace(/^\/?storage\/v1\/object\/public\/site-assets\//,"").replace(/^\/?site-assets\//,"").replace(/^\//,""):"";function ee({initialData:e}){let a,l,f=(0,r.useRouter)(),w=(0,o.i)(),C=(0,s.useMemo)(()=>(0,B.hw)(e?.content,{slug:e?.slug,title:e?.title,cover:e?.cover}),[e]),[A,U]=(0,s.useState)(e?.title||""),[$,L]=(0,s.useState)(e?.slug||""),[S,F]=(0,s.useState)(e?C.template:q.nJ),[V,J]=(0,s.useState)(null),[O,W]=(0,s.useState)(e?.cover?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.cover}`:""),[H,X]=(0,s.useState)(C.template===q.rK?C.blocks.map(e=>({...e,id:e.id||(0,n.A)(),content:{...e.content,media:e.content.media?.startsWith("http")?e.content.media:e.content.media?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.content.media}`:void 0,media2:e.content.media2?.startsWith("http")?e.content.media2:e.content.media2?`https://umkmwbkwvulxtdodzmzf.supabase.co/storage/v1/object/public/site-assets/${e.content.media2}`:void 0}})):[]),[D,G]=(0,s.useState)({...a=C.template===q._8?C.data:(0,B.bw)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:{...a.hero_cover_image,file:null,previewUrl:""},hero_logo_image:a.hero_logo_image?{...a.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:a.gallery_grid.map(e=>({...e,file:null,previewUrl:""}))}),[Y,K]=(0,s.useState)({...l=C.template===q.nJ?C.data:(0,B.XS)({slug:e?.slug,title:e?.title,cover:e?.cover}),hero_cover_image:{...l.hero_cover_image,file:null,previewUrl:""},hero_logo_image:l.hero_logo_image?{...l.hero_logo_image,file:null,previewUrl:""}:void 0,gallery_grid:l.gallery_grid.map(e=>({...e,file:null,previewUrl:""}))}),[ee,ea]=(0,s.useState)(!1),el=e=>{X([...H,{id:(0,n.A)(),type:e,content:{},file:null,file2:null}])},et=(e,a)=>{let l=[...H],t="up"===a?e-1:e+1;t<0||t>=H.length||([l[e],l[t]]=[l[t],l[e]],X(l))},es=async(e,a)=>await (0,_.h)({file:e,key:a,page:"landing-pages",subPath:$||"general",bucket:"site-assets"}),er=async()=>{let a=e?.cover||"";if(V){let e=await es(V,`cover-${(0,n.A)()}`);e&&(a=e)}return{coverPath:a,content:await Promise.all(H.map(async e=>{let a=e.content.media,l=e.content.media2;if(e.file){let l=await es(e.file,`block-${e.id}-media1`);l&&(a=l)}else a&&(a=Q(a));if(e.file2){let a=await es(e.file2,`block-${e.id}-media2`);a&&(l=a)}else l&&(l=Q(l));return{id:e.id,type:e.type,content:{...e.content,media:a,media2:l}}}))}},ei=async()=>{let e,a={...D,project_slug:$,project_title:D.project_title||A},l=a.hero_cover_image.src;if(a.hero_cover_image.file){let e=await es(a.hero_cover_image.file,`master-hero-${(0,n.A)()}`);e&&(l=e)}else l=Q(l);let t=a.hero_logo_image;if(t?.file){let e=await es(t.file,`master-logo-${(0,n.A)()}`);e&&(t={...t,src:e,file:null,previewUrl:""})}else t?.src&&(t={...t,src:Q(t.src)});let s=await Promise.all(a.gallery_grid.map(async e=>{let a=e.src;if(e.file){let l=await es(e.file,`master-grid-${e.id}`);l&&(a=l)}else a=Q(a);return{...e,src:a,poster:e.poster?Q(e.poster):e.poster,file:null,previewUrl:""}})),r={...e={...a,hero_cover_image:{...a.hero_cover_image,src:l,file:null,previewUrl:""},hero_logo_image:t,gallery_grid:s,seo:{...a.seo,og_image:a.seo?.og_image?Q(a.seo.og_image):l}},hero_cover_image:{src:e.hero_cover_image.src,alt:e.hero_cover_image.alt,kind:e.hero_cover_image.kind,poster:e.hero_cover_image.poster},hero_logo_image:e.hero_logo_image?{src:e.hero_logo_image.src,alt:e.hero_logo_image.alt,kind:e.hero_logo_image.kind,poster:e.hero_logo_image.poster}:void 0,gallery_grid:e.gallery_grid.map(e=>({id:e.id,src:e.src,alt:e.alt,kind:e.kind,layout:e.layout,poster:e.poster,title:e.title,eyebrow:e.eyebrow,description:e.description,quote:e.quote}))};return{coverPath:l,content:r}},eo=async()=>{let e,a={...Y,project_slug:$,project_title:Y.project_title||A};if("video"!==a.hero_cover_image.kind&&!a.hero_cover_image.alt.trim())throw Error("Hero cover precisa de alt text quando for imagem.");let l=a.gallery_grid.find(e=>"video"!==e.kind&&"grid_quote"!==e.layout_type&&!e.alt.trim());if(l)throw Error(`Alt text obrigat\xf3rio no bloco "${l.id}" (imagem).`);let t=a.hero_cover_image.src;if(a.hero_cover_image.file){let e=await es(a.hero_cover_image.file,`master-v2-hero-${(0,n.A)()}`);e&&(t=e)}else t=Q(t);let s=a.hero_logo_image;if(s?.file){let e=await es(s.file,`master-v2-logo-${(0,n.A)()}`);e&&(s={...s,src:e,file:null,previewUrl:""})}else s?.src&&(s={...s,src:Q(s.src)});let r=await Promise.all(a.gallery_grid.map(async e=>{let a=e.src;if(e.file){let l=await es(e.file,`master-v2-grid-${e.id}`);l&&(a=l)}else a=Q(a);return{...e,src:a,poster:e.poster?Q(e.poster):e.poster,file:null,previewUrl:""}})),i={...e={...a,hero_cover_image:{...a.hero_cover_image,src:t,file:null,previewUrl:""},hero_logo_image:s,gallery_grid:r,seo:{...a.seo,og_image:a.seo?.og_image?Q(a.seo.og_image):t}},hero_cover_image:{src:e.hero_cover_image.src,alt:e.hero_cover_image.alt,kind:e.hero_cover_image.kind,poster:e.hero_cover_image.poster},hero_logo_image:e.hero_logo_image?{src:e.hero_logo_image.src,alt:e.hero_logo_image.alt,kind:e.hero_logo_image.kind,poster:e.hero_logo_image.poster}:void 0,gallery_grid:e.gallery_grid.map(e=>({id:e.id,src:e.src,alt:e.alt,kind:e.kind,layout_type:e.layout_type,poster:e.poster,title:e.title,eyebrow:e.eyebrow,description:e.description,quote:e.quote,media_align:e.media_align,features:e.features?.map((a,l)=>({id:a.id||`${e.id}-feature-${l+1}`,title:a.title,description:a.description}))}))};return{coverPath:t,content:i}},en=async()=>{if(!A||!$)return void alert("T\xedtulo e Slug s\xe3o obrigat\xf3rios.");try{ea(!0);let a=S===q._8?await ei():S===q.nJ?await eo():await er(),l={title:A,slug:$,cover:a.coverPath,content:a.content};if(e?.id){let{error:a}=await w.from("landing_pages").update(l).eq("id",e.id);if(a)throw a}else{let{error:e}=await w.from("landing_pages").insert({...l,created_at:new Date().toISOString()});if(e)throw e}f.push("/admin/landing-pages"),f.refresh()}catch(a){let e=a instanceof Error?a.message:"Erro desconhecido";console.error(a),alert(`Erro ao salvar p\xe1gina: ${e}`)}finally{ea(!1)}};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-12 pb-48",children:[(0,t.jsxs)("div",{className:"sticky top-4 z-50 flex items-center justify-between rounded-full border border-white/10 bg-black/50 p-4 shadow-2xl backdrop-blur-md",children:[(0,t.jsxs)(N(),{href:"/admin/landing-pages",className:"flex items-center gap-2 px-4 text-slate-400 transition-colors hover:text-white",children:[(0,t.jsx)(c.A,{size:20}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Voltar"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[$?(0,t.jsx)(N(),{href:`/projects/${$}`,target:"_blank",rel:"noopener noreferrer",className:"hidden rounded-full border border-white/15 px-5 py-2 text-xs font-semibold uppercase tracking-[0.1em] text-slate-200 transition-colors hover:border-blue-400 hover:text-white md:inline-flex",children:"Preview"}):null,(0,t.jsx)("span",{className:"hidden text-sm text-slate-500 lg:inline",children:S===q._8?`${D.gallery_grid.length} itens no gallery_grid`:S===q.nJ?`${Y.gallery_grid.length} blocos no gallery_grid`:`${H.length} blocos adicionados`}),(0,t.jsxs)("button",{onClick:en,disabled:ee,className:"flex items-center gap-2 rounded-full bg-blue-600 px-8 py-2.5 text-sm font-bold tracking-wide text-white shadow-lg shadow-blue-600/20 transition-all hover:bg-blue-500 disabled:opacity-50",children:[(0,t.jsx)(d.A,{size:18}),ee?"PUBLICANDO...":"SALVAR P\xc1GINA"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,t.jsx)("div",{className:"space-y-6 lg:col-span-1",children:(0,t.jsxs)("div",{className:"sticky top-28 space-y-6 rounded-3xl border border-white/5 bg-slate-900/40 p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-xs font-bold uppercase tracking-[0.2em] text-blue-400",children:"Configura\xe7\xf5es"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Tipo de Template"}),(0,t.jsxs)("select",{className:"w-full rounded-xl border border-white/10 bg-slate-950 px-4 py-3 text-sm outline-none focus:border-blue-500",value:S,onChange:e=>F(e.target.value),children:[(0,t.jsx)("option",{value:q.nJ,children:"Template Mestre V2 (MLPE)"}),(0,t.jsx)("option",{value:q._8,children:"Template Mestre V1"}),(0,t.jsx)("option",{value:q.rK,children:"Legacy Blocks"})]}),(0,t.jsx)("p",{className:"text-[11px] leading-relaxed text-slate-500",children:"O V2 usa `layout_type` + renderer modular (MLPE). O V1 mant\xe9m o template anterior e o Legacy mant\xe9m o builder antigo por blocos."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"T\xedtulo"}),(0,t.jsx)("input",{type:"text",value:A,onChange:e=>{let a=e.target.value;U(a),S!==q._8||D.project_title||G(e=>({...e,project_title:a})),S!==q.nJ||Y.project_title||K(e=>({...e,project_title:a}))},className:"w-full rounded-xl border border-white/10 bg-slate-950 px-4 py-3 text-lg font-medium outline-none focus:border-blue-500",placeholder:"Nome do Projeto"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Slug URL"}),(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-xl border border-white/10 bg-slate-950 px-3 py-2 text-slate-500",children:[(0,t.jsx)("span",{className:"text-xs",children:"/projects/"}),(0,t.jsx)("input",{type:"text",value:$,onChange:e=>{let a=e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-");L(a),S===q._8&&G(e=>({...e,project_slug:a})),S===q.nJ&&K(e=>({...e,project_slug:a}))},className:"w-full bg-transparent text-sm font-mono text-white outline-none",placeholder:"my-project"})]})]}),S===q.rK?(0,t.jsxs)("div",{className:"space-y-3 border-t border-white/5 pt-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-widest text-slate-500",children:["Header Hero Image"," ",(0,t.jsx)("span",{className:"text-[10px] text-blue-500",children:"(Cover)"})]}),(0,t.jsx)("div",{className:"group relative aspect-4/3 overflow-hidden rounded-xl border border-white/10 bg-slate-950",children:O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.default,{src:O,alt:"Cover",fill:!0,className:"object-cover"}),(0,t.jsx)("button",{onClick:()=>{J(null),W("")},className:"absolute top-2 right-2 rounded-full bg-red-600 p-2 opacity-0 transition-opacity group-hover:opacity-100",title:"Remover Capa","aria-label":"Remover Capa",type:"button",children:(0,t.jsx)(p.A,{size:16})})]}):(0,t.jsxs)("label",{className:"absolute inset-0 flex cursor-pointer flex-col items-center justify-center transition-colors hover:bg-white/5",children:[(0,t.jsx)(m.A,{className:"mb-2 text-slate-600"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500",children:"Upload Capa"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];a&&(J(a),W(URL.createObjectURL(a)))}})]})})]}):null]})}),(0,t.jsx)("div",{className:"space-y-8 lg:col-span-2",children:S===q._8?(0,t.jsx)(M,{value:D,onChange:G}):S===q.nJ?(0,t.jsx)(Z,{value:Y,onChange:K}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xs font-bold uppercase tracking-[0.2em] text-white",children:"Builder"}),(0,t.jsxs)(z,{children:[(0,t.jsx)(P,{asChild:!0,children:(0,t.jsxs)("button",{className:"flex items-center gap-2 rounded-full bg-blue-600 px-4 py-2 text-xs font-bold uppercase tracking-wide text-white shadow-lg transition-all hover:bg-blue-500 hover:shadow-blue-500/25",children:[(0,t.jsx)(u.A,{size:16})," Adicionar Bloco"]})}),(0,t.jsxs)(T,{align:"end",className:"w-56 border-slate-800 bg-slate-900 text-slate-200",children:[(0,t.jsx)(R,{className:"text-xs uppercase tracking-widest text-slate-500",children:"Layouts B\xe1sicos"}),(0,t.jsxs)(E,{onClick:()=>el("text"),children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"})," Texto Puro"]}),(0,t.jsxs)(E,{onClick:()=>el("image"),children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"})," Imagem Full"]}),(0,t.jsxs)(E,{onClick:()=>el("video"),children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"})," V\xeddeo Full"]}),(0,t.jsxs)(E,{onClick:()=>el("video-autoplay"),children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4 text-blue-400"})," V\xeddeo Autoplay (Loop)"]}),(0,t.jsx)(I,{className:"bg-slate-800"}),(0,t.jsx)(R,{className:"text-xs uppercase tracking-widest text-slate-500",children:"Composi\xe7\xf5es"}),(0,t.jsxs)(E,{onClick:()=>el("image-text"),children:[(0,t.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,t.jsx)(m.A,{className:"h-3 w-3"}),(0,t.jsx)(g.A,{className:"h-3 w-3"})]})," ","Imagem + Texto"]}),(0,t.jsxs)(E,{onClick:()=>el("text-image"),children:[(0,t.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,t.jsx)(g.A,{className:"h-3 w-3"}),(0,t.jsx)(m.A,{className:"h-3 w-3"})]})," ","Texto + Imagem"]}),(0,t.jsxs)(E,{onClick:()=>el("image-image"),children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Imagem Dupla (Grid)"]}),(0,t.jsxs)(E,{onClick:()=>el("image-video"),children:[(0,t.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,t.jsx)(m.A,{className:"h-3 w-3"}),(0,t.jsx)(h.A,{className:"h-3 w-3"})]})," ","Imagem + V\xeddeo"]}),(0,t.jsxs)(E,{onClick:()=>el("video-text"),children:[(0,t.jsxs)("div",{className:"mr-2 flex items-center",children:[(0,t.jsx)(h.A,{className:"h-3 w-3"}),(0,t.jsx)(g.A,{className:"h-3 w-3"})]})," ","V\xeddeo + Texto"]})]})]})]}),(0,t.jsxs)("div",{className:"min-h-[500px] space-y-8",children:[0===H.length&&(0,t.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border-2 border-dashed border-white/5 bg-slate-900/20 text-slate-500",children:[(0,t.jsx)(j.A,{className:"mb-4 opacity-20",size:64}),(0,t.jsx)("p",{className:"text-sm",children:"Comece adicionando um bloco via menu acima."})]}),H.map((e,a)=>(0,t.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"group relative overflow-hidden rounded-3xl border border-white/5 bg-[#0a0a0a] shadow-xl transition-all hover:border-blue-500/30",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-white/5 bg-white/5 px-6 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"rounded border border-blue-500/20 bg-blue-500/10 px-2 py-1 text-[10px] font-bold text-blue-400",children:(a+1).toString().padStart(2,"0")}),(0,t.jsx)("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:e.type.replace("-"," & ")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 opacity-50 transition-opacity group-hover:opacity-100",children:[(0,t.jsx)("button",{onClick:()=>et(a,"up"),disabled:0===a,className:"rounded-lg p-2 hover:bg-white/10 disabled:opacity-20",title:"Mover para cima","aria-label":"Mover para cima",type:"button",children:(0,t.jsx)(v.A,{size:14})}),(0,t.jsx)("button",{onClick:()=>et(a,"down"),disabled:a===H.length-1,className:"rounded-lg p-2 hover:bg-white/10 disabled:opacity-20",title:"Mover para baixo","aria-label":"Mover para baixo",type:"button",children:(0,t.jsx)(b.A,{size:14})}),(0,t.jsx)("div",{className:"mx-2 h-4 w-px bg-white/10"}),(0,t.jsx)("button",{onClick:()=>{var a;return a=e.id,void(confirm("Tem certeza que deseja remover este bloco?")&&X(H.filter(e=>e.id!==a)))},className:"rounded-lg p-2 text-slate-500 hover:bg-red-500/20 hover:text-red-400",title:"Remover bloco","aria-label":"Remover bloco",type:"button",children:(0,t.jsx)(p.A,{size:14})})]})]}),(0,t.jsx)(k,{block:e,onChange:a=>{var l;return l=e.id,void X(H.map(e=>e.id===l?{...e,...a}:e))}})]},e.id))]})]})})]})]})}},28713:(e,a,l)=>{l.d(a,{i:()=>i});var t=l(57716),s=l(87358);let r=null;function i(){if(s.env.PLAYWRIGHT_TEST){let e={eq:()=>e,order:()=>e,limit:()=>e,returns:()=>Promise.resolve({data:[],error:null}),select:()=>e,single:()=>Promise.resolve({data:null,error:null})};return{from:()=>e,auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},storage:{from:()=>({getPublicUrl:()=>({data:{publicUrl:""}})})}}}if(r)return r;let e="https://umkmwbkwvulxtdodzmzf.supabase.co",a=s.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY??"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVta213Ymt3dnVseHRkb2R6bXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzNDE4MzcsImV4cCI6MjA4MzkxNzgzN30.wssvD9W-yzRyLpq8aMCw57E4wNz7OnQ58ujLzYmF6CA";if(!e)throw Error("NEXT_PUBLIC_SUPABASE_URL n\xe3o est\xe1 definida.");if(!a)throw Error("Defina NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY ou NEXT_PUBLIC_SUPABASE_ANON_KEY.");return r=(0,t.createBrowserClient)(e,a,{cookieOptions:{name:"__session",sameSite:"lax",secure:!0}})}},32956:(e,a,l)=>{l.d(a,{XS:()=>g,bw:()=>u,f5:()=>m,hw:()=>h});var t=l(3091);let s="#0048ff",r=e=>!e||"object"!=typeof e||Array.isArray(e)?null:e,i=e=>{if("string"!=typeof e)return;let a=e.trim();return a.length>0?a:void 0},o=e=>{if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){let a=Number(e);if(Number.isFinite(a))return a}},n=e=>Array.isArray(e)?e.map(e=>i(e)).filter(e=>!!e):[],c=e=>{if(Array.isArray(e))return n(e);let a=i(e);return a?a.split("\n").map(e=>e.trim()).filter(Boolean):[]},d=e=>"video"===e?"video":"image",p=(e,a,l)=>{let t=r(e);return{src:i(t?.src)??l??"",alt:i(t?.alt)??a,kind:d(t?.kind),poster:i(t?.poster)}};function m(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;let a="https://umkmwbkwvulxtdodzmzf.supabase.co".replace(/\/$/,"");if(!a)return e;let l=e.replace(/^\/?storage\/v1\/object\/public\/site-assets\//,"").replace(/^\/?site-assets\//,"").replace(/^\//,"");return`${a}/storage/v1/object/public/site-assets/${l}`}function u(e={}){let a=e.title??"Novo Projeto";return{schema_version:"1.0",template:t._8,project_slug:e.slug??"",hero_cover_image:{src:e.cover??"",alt:`Capa do projeto ${a}`,kind:"image"},project_title:a,project_subtitle:"",project_client:"",project_year:void 0,project_tags:[],project_services:[],project_summary:"",intro_headline:"",intro_body:[],highlight_color:s,gallery_grid:[],navigation:{back_label:"voltar",next_label:"pr\xf3ximo projeto",next_project_slug:""},cta:{label:"vamos trabalhar juntos ",href:"/#contact"},seo:{description:"",og_image:e.cover??""}}}function g(e={}){let a=e.title??"Novo Projeto";return{schema_version:"2.0",template:t.nJ,project_slug:e.slug??"",hero_cover_image:{src:e.cover??"",alt:`Capa do projeto ${a}`,kind:"image"},project_title:a,project_subtitle:"",project_client:"",project_year:void 0,project_tags:[],project_services:[],project_summary:"",intro_headline:"",intro_body:[],highlight_color:s,theme_color:s,gallery_grid:[],navigation:{back_label:"voltar",next_label:"pr\xf3ximo projeto",next_project_slug:""},cta:{label:"vamos trabalhar juntos ",href:"/#contact"},seo:{description:"",og_image:e.cover??""}}}function h(e,a={}){var l;let s=r(e),m=i(s?.template);if(m===t.nJ||m!==t._8&&Array.isArray(l=s?.gallery_grid)&&l.some(e=>!!i(r(e)?.layout_type))){let l=function(e,a={}){let l=r(e);if(!l||!(i(l.template)===t.nJ||Array.isArray(l.gallery_grid)))return null;let s=g(a),m=`Capa do projeto ${a.title??s.project_title}`,u=Array.isArray(l.gallery_grid)?l.gallery_grid.map((e,a)=>((e,a,l)=>{let t=r(e);if(!t)return null;let s=i(t.layout),o=(e=>{switch(e){case"grid_2_col":case"grid_1_col":case"grid_feat":case"grid_features_3":case"grid_quote":case"grid_split":return e;default:switch(e){case"grid":return"grid_2_col";case"full":default:return"grid_1_col";case"full-highlight":case"feature":return"grid_feat";case"quote-band":return"grid_quote";case"split-left":case"split-right":return"grid_split"}}})(t.layout_type??s),n=i(t.src)??"";if("grid_quote"!==o&&!n)return null;let c="split-right"===s?"right":"split-left"===s?"left":"right"===t.media_align?"right":"left";return{id:i(t.id)??`grid-item-${a+1}`,layout_type:o,src:n,alt:i(t.alt)??("grid_quote"===o?"":l),kind:d(t.kind),poster:i(t.poster),title:i(t.title),eyebrow:i(t.eyebrow),description:i(t.description),quote:i(t.quote),media_align:c,features:(e=>{if(!Array.isArray(e))return;let a=e.reduce((e,a,l)=>{let t=r(a);if(!t)return e;let s=i(t.title);return s&&e.push({id:i(t.id)??`feature-${l+1}`,title:s,description:i(t.description)}),e},[]);return a.length>0?a:void 0})(t.features)}})(e,a,m)).filter(e=>null!==e):s.gallery_grid,h=r(l.navigation),x=r(l.cta),j=r(l.seo);return{schema_version:"2.0",template:t.nJ,project_slug:i(l.project_slug)??a.slug??s.project_slug,hero_cover_image:p(l.hero_cover_image,m,a.cover??s.hero_cover_image.src),hero_logo_image:r(l.hero_logo_image)?p(l.hero_logo_image,`${s.project_title} logo`):void 0,project_title:i(l.project_title)??a.title??s.project_title,project_subtitle:i(l.project_subtitle)??s.project_subtitle,project_client:i(l.project_client)??s.project_client,project_year:o(l.project_year)??s.project_year,project_tags:n(l.project_tags),project_services:n(l.project_services),project_summary:i(l.project_summary)??i(l.summary)??s.project_summary,intro_headline:i(l.intro_headline)??s.intro_headline,intro_body:c(l.intro_body??l.intro_paragraphs),highlight_color:i(l.highlight_color)??s.highlight_color,theme_color:i(l.theme_color)??s.theme_color,gallery_grid:u,navigation:{back_label:i(h?.back_label)??s.navigation?.back_label,next_label:i(h?.next_label)??s.navigation?.next_label,next_project_slug:i(h?.next_project_slug)??s.navigation?.next_project_slug},cta:{label:i(x?.label)??s.cta?.label,href:i(x?.href)??s.cta?.href},seo:{description:i(j?.description)??s.seo?.description,og_image:i(j?.og_image)??s.seo?.og_image}}}(e,a);if(l)return{template:t.nJ,data:l}}let x=function(e,a={}){let l=r(e);if(!l||!(i(l.template)===t._8||Array.isArray(l.gallery_grid)))return null;let s=u(a),m=`Capa do projeto ${a.title??s.project_title}`,g=Array.isArray(l.gallery_grid)?l.gallery_grid.map((e,a)=>((e,a,l)=>{let t=r(e);if(!t)return null;let s=(e=>{switch(e){case"grid":case"full-highlight":case"full":case"quote-band":case"feature":case"split-left":case"split-right":return e;default:return"full"}})(t.layout),o=i(t.src)??"";return"quote-band"===s||o?{id:i(t.id)??`grid-item-${a+1}`,src:o,alt:i(t.alt)??l,kind:d(t.kind),layout:s,poster:i(t.poster),title:i(t.title),eyebrow:i(t.eyebrow),description:i(t.description),quote:i(t.quote)}:null})(e,a,m)).filter(e=>null!==e):s.gallery_grid,h=r(l.navigation),x=r(l.cta),j=r(l.seo);return{schema_version:"1.0",template:t._8,project_slug:i(l.project_slug)??a.slug??s.project_slug,hero_cover_image:p(l.hero_cover_image,m,a.cover??s.hero_cover_image.src),hero_logo_image:r(l.hero_logo_image)?p(l.hero_logo_image,`${s.project_title} logo`):void 0,project_title:i(l.project_title)??a.title??s.project_title,project_subtitle:i(l.project_subtitle)??s.project_subtitle,project_client:i(l.project_client)??s.project_client,project_year:o(l.project_year)??s.project_year,project_tags:n(l.project_tags),project_services:n(l.project_services),project_summary:i(l.project_summary)??i(l.summary)??s.project_summary,intro_headline:i(l.intro_headline)??s.intro_headline,intro_body:c(l.intro_body??l.intro_paragraphs),highlight_color:i(l.highlight_color)??s.highlight_color,gallery_grid:g,navigation:{back_label:i(h?.back_label)??s.navigation?.back_label,next_label:i(h?.next_label)??s.navigation?.next_label,next_project_slug:i(h?.next_project_slug)??s.navigation?.next_project_slug},cta:{label:i(x?.label)??s.cta?.label,href:i(x?.href)??s.cta?.href},seo:{description:i(j?.description)??s.seo?.description,og_image:i(j?.og_image)??s.seo?.og_image}}}(e,a);if(x)return{template:t._8,data:x};let j=Array.isArray(e)?e:[];return{template:t.rK,blocks:j}}},40980:(e,a,l)=>{l.d(a,{cn:()=>r,t:()=>i});var t=l(29722),s=l(622);function r(...e){return(0,s.QP)((0,t.$)(e))}function i(e){if(!e)return"";let a=e.replace(/[!]/g,"").replace(/\.{2,}/g,".").replace(/[^a-zA-Z0-9_\-#%.()[\]]/g,"");return!a||function(e){let a,l=/\[([^\]]*)\]/g;for(;null!==(a=l.exec(e));){let e=a[1].trim();if(!e||/^[.\d]/.test(e)||/^[0-9A-Fa-f]+$/.test(e)&&!e.startsWith("#"))return!0}return!1}(a)?"":a}},58520:(e,a,l)=>{function t(e,a){if(!e)return null;let l=a?.replace(/^\/+|\/+$/g,""),t=e.trim();return t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/^file_path:\s*/i,"")).replace(/^key:\s*/i,"")).replace(/^"+|"+$/g,"")).replace(/^'+|'+$/g,"")).replace(/,+$/g,"")).replace(/\s+$/g,"")).replace(/^https?:\/\/[^/]+\/storage\/v1\/(?:render\/image|object)\/public\//,"")).replace(/^\/?storage\/v1\/(?:render\/image|object)\/public\//,"")).replace(/^\/+/,""),l&&t.startsWith(`${l}/`)&&(t=t.slice(l.length+1)),t}function s(e,a){if(!a)return null;let l=a.startsWith("http://")||a.startsWith("https://"),s=a.includes("/storage/v1/");if(l&&!s)try{let e=new URL(a);if("https:"!==e.protocol)return console.warn(`Protocolo inseguro detectado: ${a}`),null;return a}catch{return console.error(`URL inv\xe1lida: ${a}`),null}let r=e.replace(/^\/+|\/+$/g,""),i=t(a,r);if(!i)return a.startsWith("http")?a:null;if(l&&s)try{let e=new URL(a),l=`${e.protocol}//${e.host}`;return`${l}/storage/v1/object/public/${r}/${i}`}catch{}let o=function(){let e="https://umkmwbkwvulxtdodzmzf.supabase.co";if(!e)throw Error("Supabase URL n\xe3o definida. Configure NEXT_PUBLIC_SUPABASE_URL ou SUPABASE_URL.");try{return e.replace(/\/+$/,"")}catch{return e}}();return o?`${o}/storage/v1/object/public/${r}/${i}`:a.startsWith("http")?a:null}function r(e){if(!e)return null;let a=e.trim();if(!a)return null;try{let l=new URL(a);if(["https:","http:"].includes(l.protocol))return l.toString();return console.warn(`Link externo inseguro bloqueado: ${e}`),null}catch{if(a.startsWith("/")||a.startsWith("#"))return a;if(a.startsWith("//"))try{return new URL(`https:${a}`).toString()}catch{}return console.error(`URL externa inv\xe1lida: ${e}`),null}}l.d(a,{VV:()=>s,WZ:()=>t,j7:()=>r})},85580:(e,a,l)=>{l.d(a,{h:()=>o,b:()=>i});var t=l(28713);let s=/[^a-z0-9._-]/g;var r=l(58520);async function i(e,a,l,s){let i,o,n=(0,t.i)(),c=s.name.split(".").pop(),d=c?`${l}.${c}`:l,p=(o=(i=a.replace(/\/+$/g,"").replace(/^\/+/g,""))?`${i}`:"")?`${o}/${d}`:d,{data:m,error:u}=await n.storage.from(e).upload(p,s,{cacheControl:"3600",upsert:!0});if(u)throw u;return(0,r.WZ)(m.path,e)}async function o({file:e,key:a,page:l,subPath:i,bucket:o="site-assets"}){let n=(0,t.i)(),c=function({page:e,key:a,subPath:l,extension:t}){let r=[e&&e.trim().length>0?e.trim():"global"];l&&r.push(l.trim().replace(/^\/+|\/+$/g,""));let i=a.trim().toLowerCase().replace(/\s+/g,"_").replace(s,""),o=t.toLowerCase().replace(/^\.+/,"")||"bin",n=`${i}.${o}`;return`${r.join("/")}/${n}`}({page:l,key:a,subPath:i,extension:e.name.split(".").pop()??"bin"}),{data:d,error:p}=await n.storage.from(o).upload(c,e,{cacheControl:"3600",upsert:!0});if(p)throw p;return(0,r.WZ)(d.path,o)}}}]);