(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40104,e=>{"use strict";var t=e.i(43476),s=e.i(71645);async function i(){let e=await fetch(`/build-info.json?t=${Date.now()}`,{cache:"no-store"});return e.ok?await e.json():{}}function a(){var e;let[a,n]=s.useState(null),[l,c]=s.useState(null);return s.useEffect(()=>{let e=!0;return i().then(t=>{e&&n(t)}).catch(t=>{e&&c(t instanceof Error?t.message:"Falha ao carregar build-info.json")}),()=>{e=!1}},[]),(0,t.jsxs)("section",{className:"mx-auto max-w-3xl px-4 py-10",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:"Build / Deploy stamp"}),(0,t.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-white/70",children:"Esta página confirma objetivamente se o Firebase está servindo o build mais recente (sem depender de cache no browser)."}),(0,t.jsx)("div",{className:"mt-6 rounded-2xl border border-white/10 bg-white/5 p-5",children:l?(0,t.jsxs)("div",{className:"text-sm text-red-200",children:[(0,t.jsx)("p",{className:"font-medium",children:"Falha ao carregar build-info.json"}),(0,t.jsx)("p",{className:"mt-1 opacity-80",children:l})]}):a?(0,t.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-xs uppercase tracking-widest text-white/50",children:"buildTime (local)"}),(0,t.jsx)("dd",{className:"mt-1 font-mono text-sm text-white",children:(e=a.buildTimeISO)?new Date(e).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-xs uppercase tracking-widest text-white/50",children:"buildTime (ISO)"}),(0,t.jsx)("dd",{className:"mt-1 font-mono text-sm text-white",children:a.buildTimeISO??"—"})]}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("dt",{className:"text-xs uppercase tracking-widest text-white/50",children:"git sha"}),(0,t.jsxs)("dd",{className:"mt-1 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-sm text-white",children:a.gitSha??"—"}),a.gitSha?(0,t.jsx)("button",{type:"button",className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30",onClick:async()=>{await navigator.clipboard.writeText(a.gitSha??"")},children:"copiar"}):null]})]})]}):(0,t.jsx)("div",{className:"text-sm text-white/70",children:"Carregando…"})}),(0,t.jsxs)("div",{className:"mt-6 rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,t.jsx)("h2",{className:"text-sm font-medium text-white",children:"Checklist rápido"}),(0,t.jsxs)("ul",{className:"mt-3 list-disc space-y-2 pl-5 text-sm text-white/70",children:[(0,t.jsxs)("li",{children:["O campo ",(0,t.jsx)("span",{className:"font-mono",children:"buildTime"})," deve mudar a cada deploy."]}),(0,t.jsxs)("li",{children:["HTML responde com ",(0,t.jsx)("span",{className:"font-mono",children:"Cache-Control: max-age=0, must-revalidate"}),"."]}),(0,t.jsxs)("li",{children:["Assets em ",(0,t.jsx)("span",{className:"font-mono",children:"/_next/static/"})," podem (e devem) ficar em cache longo."]})]})]})]})}e.s(["default",()=>a])}]);