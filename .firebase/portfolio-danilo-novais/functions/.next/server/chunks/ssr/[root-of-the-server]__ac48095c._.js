module.exports=[62562,(a,b,c)=>{b.exports=a.x("module",()=>require("module"))},31479,a=>{"use strict";let b,c;var d,e,f=a.i(87924),g=a.i(72131),h=a.i(46271),i=a.i(14906),j=a.i(95180),k=a.i(1299),l=a.i(87072),m=a.i(66110),n=a.i(35258);a.s(["ACESFilmicToneMapping",()=>n.ACESFilmicToneMapping,"AddEquation",()=>n.AddEquation,"AddOperation",()=>n.AddOperation,"AdditiveAnimationBlendMode",()=>n.AdditiveAnimationBlendMode,"AdditiveBlending",()=>n.AdditiveBlending,"AgXToneMapping",()=>n.AgXToneMapping,"AlphaFormat",()=>n.AlphaFormat,"AlwaysCompare",()=>n.AlwaysCompare,"AlwaysDepth",()=>n.AlwaysDepth,"AlwaysStencilFunc",()=>n.AlwaysStencilFunc,"AmbientLight",()=>n.AmbientLight,"AnimationAction",()=>n.AnimationAction,"AnimationClip",()=>n.AnimationClip,"AnimationLoader",()=>n.AnimationLoader,"AnimationMixer",()=>n.AnimationMixer,"AnimationObjectGroup",()=>n.AnimationObjectGroup,"AnimationUtils",()=>n.AnimationUtils,"ArcCurve",()=>n.ArcCurve,"ArrayCamera",()=>n.ArrayCamera,"ArrowHelper",()=>n.ArrowHelper,"AttachedBindMode",()=>n.AttachedBindMode,"Audio",()=>n.Audio,"AudioAnalyser",()=>n.AudioAnalyser,"AudioContext",()=>n.AudioContext,"AudioListener",()=>n.AudioListener,"AudioLoader",()=>n.AudioLoader,"AxesHelper",()=>n.AxesHelper,"BackSide",()=>n.BackSide,"BasicDepthPacking",()=>n.BasicDepthPacking,"BasicShadowMap",()=>n.BasicShadowMap,"BatchedMesh",()=>n.BatchedMesh,"Bone",()=>n.Bone,"BooleanKeyframeTrack",()=>n.BooleanKeyframeTrack,"Box2",()=>n.Box2,"Box3",()=>n.Box3,"Box3Helper",()=>n.Box3Helper,"BoxGeometry",()=>n.BoxGeometry,"BoxHelper",()=>n.BoxHelper,"BufferAttribute",()=>n.BufferAttribute,"BufferGeometry",()=>n.BufferGeometry,"BufferGeometryLoader",()=>n.BufferGeometryLoader,"ByteType",()=>n.ByteType,"Cache",()=>n.Cache,"Camera",()=>n.Camera,"CameraHelper",()=>n.CameraHelper,"CanvasTexture",()=>n.CanvasTexture,"CapsuleGeometry",()=>n.CapsuleGeometry,"CatmullRomCurve3",()=>n.CatmullRomCurve3,"CineonToneMapping",()=>n.CineonToneMapping,"CircleGeometry",()=>n.CircleGeometry,"ClampToEdgeWrapping",()=>n.ClampToEdgeWrapping,"Clock",()=>n.Clock,"Color",()=>n.Color,"ColorKeyframeTrack",()=>n.ColorKeyframeTrack,"ColorManagement",()=>n.ColorManagement,"CompressedArrayTexture",()=>n.CompressedArrayTexture,"CompressedCubeTexture",()=>n.CompressedCubeTexture,"CompressedTexture",()=>n.CompressedTexture,"CompressedTextureLoader",()=>n.CompressedTextureLoader,"ConeGeometry",()=>n.ConeGeometry,"ConstantAlphaFactor",()=>n.ConstantAlphaFactor,"ConstantColorFactor",()=>n.ConstantColorFactor,"Controls",()=>n.Controls,"CubeCamera",()=>n.CubeCamera,"CubeDepthTexture",()=>n.CubeDepthTexture,"CubeReflectionMapping",()=>n.CubeReflectionMapping,"CubeRefractionMapping",()=>n.CubeRefractionMapping,"CubeTexture",()=>n.CubeTexture,"CubeTextureLoader",()=>n.CubeTextureLoader,"CubeUVReflectionMapping",()=>n.CubeUVReflectionMapping,"CubicBezierCurve",()=>n.CubicBezierCurve,"CubicBezierCurve3",()=>n.CubicBezierCurve3,"CubicInterpolant",()=>n.CubicInterpolant,"CullFaceBack",()=>n.CullFaceBack,"CullFaceFront",()=>n.CullFaceFront,"CullFaceFrontBack",()=>n.CullFaceFrontBack,"CullFaceNone",()=>n.CullFaceNone,"Curve",()=>n.Curve,"CurvePath",()=>n.CurvePath,"CustomBlending",()=>n.CustomBlending,"CustomToneMapping",()=>n.CustomToneMapping,"CylinderGeometry",()=>n.CylinderGeometry,"Cylindrical",()=>n.Cylindrical,"Data3DTexture",()=>n.Data3DTexture,"DataArrayTexture",()=>n.DataArrayTexture,"DataTexture",()=>n.DataTexture,"DataTextureLoader",()=>n.DataTextureLoader,"DataUtils",()=>n.DataUtils,"DecrementStencilOp",()=>n.DecrementStencilOp,"DecrementWrapStencilOp",()=>n.DecrementWrapStencilOp,"DefaultLoadingManager",()=>n.DefaultLoadingManager,"DepthFormat",()=>n.DepthFormat,"DepthStencilFormat",()=>n.DepthStencilFormat,"DepthTexture",()=>n.DepthTexture,"DetachedBindMode",()=>n.DetachedBindMode,"DirectionalLight",()=>n.DirectionalLight,"DirectionalLightHelper",()=>n.DirectionalLightHelper,"DiscreteInterpolant",()=>n.DiscreteInterpolant,"DodecahedronGeometry",()=>n.DodecahedronGeometry,"DoubleSide",()=>n.DoubleSide,"DstAlphaFactor",()=>n.DstAlphaFactor,"DstColorFactor",()=>n.DstColorFactor,"DynamicCopyUsage",()=>n.DynamicCopyUsage,"DynamicDrawUsage",()=>n.DynamicDrawUsage,"DynamicReadUsage",()=>n.DynamicReadUsage,"EdgesGeometry",()=>n.EdgesGeometry,"EllipseCurve",()=>n.EllipseCurve,"EqualCompare",()=>n.EqualCompare,"EqualDepth",()=>n.EqualDepth,"EqualStencilFunc",()=>n.EqualStencilFunc,"EquirectangularReflectionMapping",()=>n.EquirectangularReflectionMapping,"EquirectangularRefractionMapping",()=>n.EquirectangularRefractionMapping,"Euler",()=>n.Euler,"EventDispatcher",()=>n.EventDispatcher,"ExternalTexture",()=>n.ExternalTexture,"ExtrudeGeometry",()=>n.ExtrudeGeometry,"FileLoader",()=>n.FileLoader,"Float16BufferAttribute",()=>n.Float16BufferAttribute,"Float32BufferAttribute",()=>n.Float32BufferAttribute,"FloatType",()=>n.FloatType,"Fog",()=>n.Fog,"FogExp2",()=>n.FogExp2,"FramebufferTexture",()=>n.FramebufferTexture,"FrontSide",()=>n.FrontSide,"Frustum",()=>n.Frustum,"FrustumArray",()=>n.FrustumArray,"GLBufferAttribute",()=>n.GLBufferAttribute,"GLSL1",()=>n.GLSL1,"GLSL3",()=>n.GLSL3,"GreaterCompare",()=>n.GreaterCompare,"GreaterDepth",()=>n.GreaterDepth,"GreaterEqualCompare",()=>n.GreaterEqualCompare,"GreaterEqualDepth",()=>n.GreaterEqualDepth,"GreaterEqualStencilFunc",()=>n.GreaterEqualStencilFunc,"GreaterStencilFunc",()=>n.GreaterStencilFunc,"GridHelper",()=>n.GridHelper,"Group",()=>n.Group,"HalfFloatType",()=>n.HalfFloatType,"HemisphereLight",()=>n.HemisphereLight,"HemisphereLightHelper",()=>n.HemisphereLightHelper,"IcosahedronGeometry",()=>n.IcosahedronGeometry,"ImageBitmapLoader",()=>n.ImageBitmapLoader,"ImageLoader",()=>n.ImageLoader,"ImageUtils",()=>n.ImageUtils,"IncrementStencilOp",()=>n.IncrementStencilOp,"IncrementWrapStencilOp",()=>n.IncrementWrapStencilOp,"InstancedBufferAttribute",()=>n.InstancedBufferAttribute,"InstancedBufferGeometry",()=>n.InstancedBufferGeometry,"InstancedInterleavedBuffer",()=>n.InstancedInterleavedBuffer,"InstancedMesh",()=>n.InstancedMesh,"Int16BufferAttribute",()=>n.Int16BufferAttribute,"Int32BufferAttribute",()=>n.Int32BufferAttribute,"Int8BufferAttribute",()=>n.Int8BufferAttribute,"IntType",()=>n.IntType,"InterleavedBuffer",()=>n.InterleavedBuffer,"InterleavedBufferAttribute",()=>n.InterleavedBufferAttribute,"Interpolant",()=>n.Interpolant,"InterpolateDiscrete",()=>n.InterpolateDiscrete,"InterpolateLinear",()=>n.InterpolateLinear,"InterpolateSmooth",()=>n.InterpolateSmooth,"InterpolationSamplingMode",()=>n.InterpolationSamplingMode,"InterpolationSamplingType",()=>n.InterpolationSamplingType,"InvertStencilOp",()=>n.InvertStencilOp,"KeepStencilOp",()=>n.KeepStencilOp,"KeyframeTrack",()=>n.KeyframeTrack,"LOD",()=>n.LOD,"LatheGeometry",()=>n.LatheGeometry,"Layers",()=>n.Layers,"LessCompare",()=>n.LessCompare,"LessDepth",()=>n.LessDepth,"LessEqualCompare",()=>n.LessEqualCompare,"LessEqualDepth",()=>n.LessEqualDepth,"LessEqualStencilFunc",()=>n.LessEqualStencilFunc,"LessStencilFunc",()=>n.LessStencilFunc,"Light",()=>n.Light,"LightProbe",()=>n.LightProbe,"Line",()=>n.Line,"Line3",()=>n.Line3,"LineBasicMaterial",()=>n.LineBasicMaterial,"LineCurve",()=>n.LineCurve,"LineCurve3",()=>n.LineCurve3,"LineDashedMaterial",()=>n.LineDashedMaterial,"LineLoop",()=>n.LineLoop,"LineSegments",()=>n.LineSegments,"LinearFilter",()=>n.LinearFilter,"LinearInterpolant",()=>n.LinearInterpolant,"LinearMipMapLinearFilter",()=>n.LinearMipMapLinearFilter,"LinearMipMapNearestFilter",()=>n.LinearMipMapNearestFilter,"LinearMipmapLinearFilter",()=>n.LinearMipmapLinearFilter,"LinearMipmapNearestFilter",()=>n.LinearMipmapNearestFilter,"LinearSRGBColorSpace",()=>n.LinearSRGBColorSpace,"LinearToneMapping",()=>n.LinearToneMapping,"LinearTransfer",()=>n.LinearTransfer,"Loader",()=>n.Loader,"LoaderUtils",()=>n.LoaderUtils,"LoadingManager",()=>n.LoadingManager,"LoopOnce",()=>n.LoopOnce,"LoopPingPong",()=>n.LoopPingPong,"LoopRepeat",()=>n.LoopRepeat,"MOUSE",()=>n.MOUSE,"Material",()=>n.Material,"MaterialLoader",()=>n.MaterialLoader,"MathUtils",()=>n.MathUtils,"Matrix2",()=>n.Matrix2,"Matrix3",()=>n.Matrix3,"Matrix4",()=>n.Matrix4,"MaxEquation",()=>n.MaxEquation,"Mesh",()=>n.Mesh,"MeshBasicMaterial",()=>n.MeshBasicMaterial,"MeshDepthMaterial",()=>n.MeshDepthMaterial,"MeshDistanceMaterial",()=>n.MeshDistanceMaterial,"MeshLambertMaterial",()=>n.MeshLambertMaterial,"MeshMatcapMaterial",()=>n.MeshMatcapMaterial,"MeshNormalMaterial",()=>n.MeshNormalMaterial,"MeshPhongMaterial",()=>n.MeshPhongMaterial,"MeshPhysicalMaterial",()=>n.MeshPhysicalMaterial,"MeshStandardMaterial",()=>n.MeshStandardMaterial,"MeshToonMaterial",()=>n.MeshToonMaterial,"MinEquation",()=>n.MinEquation,"MirroredRepeatWrapping",()=>n.MirroredRepeatWrapping,"MixOperation",()=>n.MixOperation,"MultiplyBlending",()=>n.MultiplyBlending,"MultiplyOperation",()=>n.MultiplyOperation,"NearestFilter",()=>n.NearestFilter,"NearestMipMapLinearFilter",()=>n.NearestMipMapLinearFilter,"NearestMipMapNearestFilter",()=>n.NearestMipMapNearestFilter,"NearestMipmapLinearFilter",()=>n.NearestMipmapLinearFilter,"NearestMipmapNearestFilter",()=>n.NearestMipmapNearestFilter,"NeutralToneMapping",()=>n.NeutralToneMapping,"NeverCompare",()=>n.NeverCompare,"NeverDepth",()=>n.NeverDepth,"NeverStencilFunc",()=>n.NeverStencilFunc,"NoBlending",()=>n.NoBlending,"NoColorSpace",()=>n.NoColorSpace,"NoNormalPacking",()=>n.NoNormalPacking,"NoToneMapping",()=>n.NoToneMapping,"NormalAnimationBlendMode",()=>n.NormalAnimationBlendMode,"NormalBlending",()=>n.NormalBlending,"NormalGAPacking",()=>n.NormalGAPacking,"NormalRGPacking",()=>n.NormalRGPacking,"NotEqualCompare",()=>n.NotEqualCompare,"NotEqualDepth",()=>n.NotEqualDepth,"NotEqualStencilFunc",()=>n.NotEqualStencilFunc,"NumberKeyframeTrack",()=>n.NumberKeyframeTrack,"Object3D",()=>n.Object3D,"ObjectLoader",()=>n.ObjectLoader,"ObjectSpaceNormalMap",()=>n.ObjectSpaceNormalMap,"OctahedronGeometry",()=>n.OctahedronGeometry,"OneFactor",()=>n.OneFactor,"OneMinusConstantAlphaFactor",()=>n.OneMinusConstantAlphaFactor,"OneMinusConstantColorFactor",()=>n.OneMinusConstantColorFactor,"OneMinusDstAlphaFactor",()=>n.OneMinusDstAlphaFactor,"OneMinusDstColorFactor",()=>n.OneMinusDstColorFactor,"OneMinusSrcAlphaFactor",()=>n.OneMinusSrcAlphaFactor,"OneMinusSrcColorFactor",()=>n.OneMinusSrcColorFactor,"OrthographicCamera",()=>n.OrthographicCamera,"PCFShadowMap",()=>n.PCFShadowMap,"PCFSoftShadowMap",()=>n.PCFSoftShadowMap,"PMREMGenerator",()=>m.PMREMGenerator,"Path",()=>n.Path,"PerspectiveCamera",()=>n.PerspectiveCamera,"Plane",()=>n.Plane,"PlaneGeometry",()=>n.PlaneGeometry,"PlaneHelper",()=>n.PlaneHelper,"PointLight",()=>n.PointLight,"PointLightHelper",()=>n.PointLightHelper,"Points",()=>n.Points,"PointsMaterial",()=>n.PointsMaterial,"PolarGridHelper",()=>n.PolarGridHelper,"PolyhedronGeometry",()=>n.PolyhedronGeometry,"PositionalAudio",()=>n.PositionalAudio,"PropertyBinding",()=>n.PropertyBinding,"PropertyMixer",()=>n.PropertyMixer,"QuadraticBezierCurve",()=>n.QuadraticBezierCurve,"QuadraticBezierCurve3",()=>n.QuadraticBezierCurve3,"Quaternion",()=>n.Quaternion,"QuaternionKeyframeTrack",()=>n.QuaternionKeyframeTrack,"QuaternionLinearInterpolant",()=>n.QuaternionLinearInterpolant,"R11_EAC_Format",()=>n.R11_EAC_Format,"RED_GREEN_RGTC2_Format",()=>n.RED_GREEN_RGTC2_Format,"RED_RGTC1_Format",()=>n.RED_RGTC1_Format,"REVISION",()=>n.REVISION,"RG11_EAC_Format",()=>n.RG11_EAC_Format,"RGBADepthPacking",()=>n.RGBADepthPacking,"RGBAFormat",()=>n.RGBAFormat,"RGBAIntegerFormat",()=>n.RGBAIntegerFormat,"RGBA_ASTC_10x10_Format",()=>n.RGBA_ASTC_10x10_Format,"RGBA_ASTC_10x5_Format",()=>n.RGBA_ASTC_10x5_Format,"RGBA_ASTC_10x6_Format",()=>n.RGBA_ASTC_10x6_Format,"RGBA_ASTC_10x8_Format",()=>n.RGBA_ASTC_10x8_Format,"RGBA_ASTC_12x10_Format",()=>n.RGBA_ASTC_12x10_Format,"RGBA_ASTC_12x12_Format",()=>n.RGBA_ASTC_12x12_Format,"RGBA_ASTC_4x4_Format",()=>n.RGBA_ASTC_4x4_Format,"RGBA_ASTC_5x4_Format",()=>n.RGBA_ASTC_5x4_Format,"RGBA_ASTC_5x5_Format",()=>n.RGBA_ASTC_5x5_Format,"RGBA_ASTC_6x5_Format",()=>n.RGBA_ASTC_6x5_Format,"RGBA_ASTC_6x6_Format",()=>n.RGBA_ASTC_6x6_Format,"RGBA_ASTC_8x5_Format",()=>n.RGBA_ASTC_8x5_Format,"RGBA_ASTC_8x6_Format",()=>n.RGBA_ASTC_8x6_Format,"RGBA_ASTC_8x8_Format",()=>n.RGBA_ASTC_8x8_Format,"RGBA_BPTC_Format",()=>n.RGBA_BPTC_Format,"RGBA_ETC2_EAC_Format",()=>n.RGBA_ETC2_EAC_Format,"RGBA_PVRTC_2BPPV1_Format",()=>n.RGBA_PVRTC_2BPPV1_Format,"RGBA_PVRTC_4BPPV1_Format",()=>n.RGBA_PVRTC_4BPPV1_Format,"RGBA_S3TC_DXT1_Format",()=>n.RGBA_S3TC_DXT1_Format,"RGBA_S3TC_DXT3_Format",()=>n.RGBA_S3TC_DXT3_Format,"RGBA_S3TC_DXT5_Format",()=>n.RGBA_S3TC_DXT5_Format,"RGBDepthPacking",()=>n.RGBDepthPacking,"RGBFormat",()=>n.RGBFormat,"RGBIntegerFormat",()=>n.RGBIntegerFormat,"RGB_BPTC_SIGNED_Format",()=>n.RGB_BPTC_SIGNED_Format,"RGB_BPTC_UNSIGNED_Format",()=>n.RGB_BPTC_UNSIGNED_Format,"RGB_ETC1_Format",()=>n.RGB_ETC1_Format,"RGB_ETC2_Format",()=>n.RGB_ETC2_Format,"RGB_PVRTC_2BPPV1_Format",()=>n.RGB_PVRTC_2BPPV1_Format,"RGB_PVRTC_4BPPV1_Format",()=>n.RGB_PVRTC_4BPPV1_Format,"RGB_S3TC_DXT1_Format",()=>n.RGB_S3TC_DXT1_Format,"RGDepthPacking",()=>n.RGDepthPacking,"RGFormat",()=>n.RGFormat,"RGIntegerFormat",()=>n.RGIntegerFormat,"RawShaderMaterial",()=>n.RawShaderMaterial,"Ray",()=>n.Ray,"Raycaster",()=>n.Raycaster,"RectAreaLight",()=>n.RectAreaLight,"RedFormat",()=>n.RedFormat,"RedIntegerFormat",()=>n.RedIntegerFormat,"ReinhardToneMapping",()=>n.ReinhardToneMapping,"RenderTarget",()=>n.RenderTarget,"RenderTarget3D",()=>n.RenderTarget3D,"RepeatWrapping",()=>n.RepeatWrapping,"ReplaceStencilOp",()=>n.ReplaceStencilOp,"ReverseSubtractEquation",()=>n.ReverseSubtractEquation,"RingGeometry",()=>n.RingGeometry,"SIGNED_R11_EAC_Format",()=>n.SIGNED_R11_EAC_Format,"SIGNED_RED_GREEN_RGTC2_Format",()=>n.SIGNED_RED_GREEN_RGTC2_Format,"SIGNED_RED_RGTC1_Format",()=>n.SIGNED_RED_RGTC1_Format,"SIGNED_RG11_EAC_Format",()=>n.SIGNED_RG11_EAC_Format,"SRGBColorSpace",()=>n.SRGBColorSpace,"SRGBTransfer",()=>n.SRGBTransfer,"Scene",()=>n.Scene,"ShaderChunk",()=>m.ShaderChunk,"ShaderLib",()=>m.ShaderLib,"ShaderMaterial",()=>n.ShaderMaterial,"ShadowMaterial",()=>n.ShadowMaterial,"Shape",()=>n.Shape,"ShapeGeometry",()=>n.ShapeGeometry,"ShapePath",()=>n.ShapePath,"ShapeUtils",()=>n.ShapeUtils,"ShortType",()=>n.ShortType,"Skeleton",()=>n.Skeleton,"SkeletonHelper",()=>n.SkeletonHelper,"SkinnedMesh",()=>n.SkinnedMesh,"Source",()=>n.Source,"Sphere",()=>n.Sphere,"SphereGeometry",()=>n.SphereGeometry,"Spherical",()=>n.Spherical,"SphericalHarmonics3",()=>n.SphericalHarmonics3,"SplineCurve",()=>n.SplineCurve,"SpotLight",()=>n.SpotLight,"SpotLightHelper",()=>n.SpotLightHelper,"Sprite",()=>n.Sprite,"SpriteMaterial",()=>n.SpriteMaterial,"SrcAlphaFactor",()=>n.SrcAlphaFactor,"SrcAlphaSaturateFactor",()=>n.SrcAlphaSaturateFactor,"SrcColorFactor",()=>n.SrcColorFactor,"StaticCopyUsage",()=>n.StaticCopyUsage,"StaticDrawUsage",()=>n.StaticDrawUsage,"StaticReadUsage",()=>n.StaticReadUsage,"StereoCamera",()=>n.StereoCamera,"StreamCopyUsage",()=>n.StreamCopyUsage,"StreamDrawUsage",()=>n.StreamDrawUsage,"StreamReadUsage",()=>n.StreamReadUsage,"StringKeyframeTrack",()=>n.StringKeyframeTrack,"SubtractEquation",()=>n.SubtractEquation,"SubtractiveBlending",()=>n.SubtractiveBlending,"TOUCH",()=>n.TOUCH,"TangentSpaceNormalMap",()=>n.TangentSpaceNormalMap,"TetrahedronGeometry",()=>n.TetrahedronGeometry,"Texture",()=>n.Texture,"TextureLoader",()=>n.TextureLoader,"TextureUtils",()=>n.TextureUtils,"Timer",()=>n.Timer,"TimestampQuery",()=>n.TimestampQuery,"TorusGeometry",()=>n.TorusGeometry,"TorusKnotGeometry",()=>n.TorusKnotGeometry,"Triangle",()=>n.Triangle,"TriangleFanDrawMode",()=>n.TriangleFanDrawMode,"TriangleStripDrawMode",()=>n.TriangleStripDrawMode,"TrianglesDrawMode",()=>n.TrianglesDrawMode,"TubeGeometry",()=>n.TubeGeometry,"UVMapping",()=>n.UVMapping,"Uint16BufferAttribute",()=>n.Uint16BufferAttribute,"Uint32BufferAttribute",()=>n.Uint32BufferAttribute,"Uint8BufferAttribute",()=>n.Uint8BufferAttribute,"Uint8ClampedBufferAttribute",()=>n.Uint8ClampedBufferAttribute,"Uniform",()=>n.Uniform,"UniformsGroup",()=>n.UniformsGroup,"UniformsLib",()=>m.UniformsLib,"UniformsUtils",()=>n.UniformsUtils,"UnsignedByteType",()=>n.UnsignedByteType,"UnsignedInt101111Type",()=>n.UnsignedInt101111Type,"UnsignedInt248Type",()=>n.UnsignedInt248Type,"UnsignedInt5999Type",()=>n.UnsignedInt5999Type,"UnsignedIntType",()=>n.UnsignedIntType,"UnsignedShort4444Type",()=>n.UnsignedShort4444Type,"UnsignedShort5551Type",()=>n.UnsignedShort5551Type,"UnsignedShortType",()=>n.UnsignedShortType,"VSMShadowMap",()=>n.VSMShadowMap,"Vector2",()=>n.Vector2,"Vector3",()=>n.Vector3,"Vector4",()=>n.Vector4,"VectorKeyframeTrack",()=>n.VectorKeyframeTrack,"VideoFrameTexture",()=>n.VideoFrameTexture,"VideoTexture",()=>n.VideoTexture,"WebGL3DRenderTarget",()=>n.WebGL3DRenderTarget,"WebGLArrayRenderTarget",()=>n.WebGLArrayRenderTarget,"WebGLCoordinateSystem",()=>n.WebGLCoordinateSystem,"WebGLCubeRenderTarget",()=>n.WebGLCubeRenderTarget,"WebGLRenderTarget",()=>n.WebGLRenderTarget,"WebGLRenderer",()=>m.WebGLRenderer,"WebGLUtils",()=>m.WebGLUtils,"WebGPUCoordinateSystem",()=>n.WebGPUCoordinateSystem,"WebXRController",()=>n.WebXRController,"WireframeGeometry",()=>n.WireframeGeometry,"WrapAroundEnding",()=>n.WrapAroundEnding,"ZeroCurvatureEnding",()=>n.ZeroCurvatureEnding,"ZeroFactor",()=>n.ZeroFactor,"ZeroSlopeEnding",()=>n.ZeroSlopeEnding,"ZeroStencilOp",()=>n.ZeroStencilOp,"createCanvasElement",()=>n.createCanvasElement,"error",()=>n.error,"getConsoleFunction",()=>n.getConsoleFunction,"log",()=>n.log,"setConsoleFunction",()=>n.setConsoleFunction,"warn",()=>n.warn,"warnOnce",()=>n.warnOnce],98167);var o=a.i(98167);function p(a,b){let c;return(...d)=>{window.clearTimeout(c),c=window.setTimeout(()=>a(...d),b)}}let q=["x","y","top","bottom","left","right","width","height"];var r=a.i(63701);function s({ref:a,children:b,fallback:c,resize:d,style:e,gl:h,events:i=l.f,eventSource:j,eventPrefix:k,shadows:m,linear:n,flat:r,legacy:s,orthographic:t,frameloop:u,dpr:v,performance:w,raycaster:x,camera:y,scene:z,onPointerMissed:A,onCreated:B,...C}){g.useMemo(()=>(0,l.e)(o),[]);let D=(0,l.u)(),[E,F]=function({debounce:a,scroll:b,polyfill:c,offsetSize:d}={debounce:0,scroll:!1,offsetSize:!1}){var e,f,h;let i=c||class{};if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[j,k]=(0,g.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,g.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:j,orientationHandler:null}),m=a?"number"==typeof a?a:a.scroll:null,n=a?"number"==typeof a?a:a.resize:null,o=(0,g.useRef)(!1);(0,g.useEffect)(()=>(o.current=!0,()=>void(o.current=!1)));let[r,s,t]=(0,g.useMemo)(()=>{let a=()=>{let a,b;if(!l.current.element)return;let{left:c,top:e,width:f,height:g,bottom:h,right:i,x:j,y:m}=l.current.element.getBoundingClientRect(),n={left:c,top:e,width:f,height:g,bottom:h,right:i,x:j,y:m};l.current.element instanceof HTMLElement&&d&&(n.height=l.current.element.offsetHeight,n.width=l.current.element.offsetWidth),Object.freeze(n),o.current&&(a=l.current.lastBounds,b=n,!q.every(c=>a[c]===b[c]))&&k(l.current.lastBounds=n)};return[a,n?p(a,n):a,m?p(a,m):a]},[k,d,m,n]);function u(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(a=>a.removeEventListener("scroll",t,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function v(){l.current.element&&(l.current.resizeObserver=new i(t),l.current.resizeObserver.observe(l.current.element),b&&l.current.scrollContainers&&l.current.scrollContainers.forEach(a=>a.addEventListener("scroll",t,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{t()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}return e=t,f=!!b,(0,g.useEffect)(()=>{if(f)return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)},[e,f]),h=s,(0,g.useEffect)(()=>(window.addEventListener("resize",h),()=>void window.removeEventListener("resize",h)),[h]),(0,g.useEffect)(()=>{u(),v()},[b,t,s]),(0,g.useEffect)(()=>u,[]),[a=>{a&&a!==l.current.element&&(u(),l.current.element=a,l.current.scrollContainers=function a(b){let c=[];if(!b||b===document.body)return c;let{overflow:d,overflowX:e,overflowY:f}=window.getComputedStyle(b);return[d,e,f].some(a=>"auto"===a||"scroll"===a)&&c.push(b),[...c,...a(b.parentElement)]}(a),v())},j,r]}({scroll:!0,debounce:{scroll:50,resize:0},...d}),G=g.useRef(null),H=g.useRef(null);g.useImperativeHandle(a,()=>G.current);let I=(0,l.a)(A),[J,K]=g.useState(!1),[L,M]=g.useState(!1);if(J)throw J;if(L)throw L;let N=g.useRef(null);(0,l.b)(()=>{let a=G.current;F.width>0&&F.height>0&&a&&(N.current||(N.current=(0,l.c)(a)),async function(){await N.current.configure({gl:h,scene:z,events:i,shadows:m,linear:n,flat:r,legacy:s,orthographic:t,frameloop:u,dpr:v,performance:w,raycaster:x,camera:y,size:F,onPointerMissed:(...a)=>null==I.current?void 0:I.current(...a),onCreated:a=>{null==a.events.connect||a.events.connect(j?(0,l.i)(j)?j.current:j:H.current),k&&a.setEvents({compute:(a,b)=>{let c=a[k+"X"],d=a[k+"Y"];b.pointer.set(c/b.size.width*2-1,-(2*(d/b.size.height))+1),b.raycaster.setFromCamera(b.pointer,b.camera)}}),null==B||B(a)}}),N.current.render((0,f.jsx)(D,{children:(0,f.jsx)(l.E,{set:M,children:(0,f.jsx)(g.Suspense,{fallback:(0,f.jsx)(l.B,{set:K}),children:null!=b?b:null})})}))}())}),g.useEffect(()=>{let a=G.current;if(a)return()=>(0,l.d)(a)},[]);let O=j?"none":"auto";return(0,f.jsx)("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...e},...C,children:(0,f.jsx)("div",{ref:E,style:{width:"100%",height:"100%"},children:(0,f.jsx)("canvas",{ref:G,style:{display:"block"},children:c})})})}function t(a){return(0,f.jsx)(r.FiberProvider,{children:(0,f.jsx)(s,{...a})})}a.i(55791),a.i(63491),a.i(90693);var u=a.i(39705),v=a.i(5457),w=a.i(99777),x=l,y=a.i(3885),z=n,A=a.i(60554);class B extends z.Mesh{constructor(a,b){var c,d;const e=(a=>a&&a.isCubeTexture)(a),f=Math.floor(Math.log2((null!=(d=e?null==(c=a.image[0])?void 0:c.width:a.image.width)?d:1024)/4)),g=Math.pow(2,f),h=3*Math.max(g,112),i=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,j=[e?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/h}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*g)}`,`#define CUBEUV_MAX_MIP ${f}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${A.version>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,k={map:{value:a},height:{value:(null==b?void 0:b.height)||15},radius:{value:(null==b?void 0:b.radius)||100}};super(new z.IcosahedronGeometry(1,16),new z.ShaderMaterial({uniforms:k,fragmentShader:j,vertexShader:i,side:z.DoubleSide}))}set radius(a){this.material.uniforms.radius.value=a}get radius(){return this.material.uniforms.radius.value}set height(a){this.material.uniforms.height.value=a}get height(){return this.material.uniforms.height.value}}var C=a.i(32698),D=n;class E extends D.DataTextureLoader{constructor(a){super(a),this.type=D.HalfFloatType}parse(a){let b,c,d,e=function(a,b){switch(a){case 1:throw Error("THREE.RGBELoader: Read Error: "+(b||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(b||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(b||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(b||""))}},f=function(a,b,c){b=b||1024;let d=a.pos,e=-1,f=0,g="",h=String.fromCharCode.apply(null,new Uint16Array(a.subarray(d,d+128)));for(;0>(e=h.indexOf("\n"))&&f<b&&d<a.byteLength;)g+=h,f+=h.length,d+=128,h+=String.fromCharCode.apply(null,new Uint16Array(a.subarray(d,d+128)));return -1<e&&(!1!==c&&(a.pos+=f+e+1),g+h.slice(0,e))},g=new Uint8Array(a);g.pos=0;let h=function(a){let b,c,d=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,g=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,h=/^\s*FORMAT=(\S+)\s*$/,i=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,j={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(a.pos>=a.byteLength)&&(b=f(a))||e(1,"no header found"),(c=b.match(/^#\?(\S+)/))||e(3,"bad initial token"),j.valid|=1,j.programtype=c[1],j.string+=b+"\n";!1!==(b=f(a));){if(j.string+=b+"\n","#"===b.charAt(0)){j.comments+=b+"\n";continue}if((c=b.match(d))&&(j.gamma=parseFloat(c[1])),(c=b.match(g))&&(j.exposure=parseFloat(c[1])),(c=b.match(h))&&(j.valid|=2,j.format=c[1]),(c=b.match(i))&&(j.valid|=4,j.height=parseInt(c[1],10),j.width=parseInt(c[2],10)),2&j.valid&&4&j.valid)break}return 2&j.valid||e(3,"missing format specifier"),4&j.valid||e(3,"missing image size specifier"),j}(g),i=h.width,j=h.height,k=function(a,b,c){if(b<8||b>32767||2!==a[0]||2!==a[1]||128&a[2])return new Uint8Array(a);b!==(a[2]<<8|a[3])&&e(3,"wrong scanline width");let d=new Uint8Array(4*b*c);d.length||e(4,"unable to allocate buffer space");let f=0,g=0,h=4*b,i=new Uint8Array(4),j=new Uint8Array(h),k=c;for(;k>0&&g<a.byteLength;){g+4>a.byteLength&&e(1),i[0]=a[g++],i[1]=a[g++],i[2]=a[g++],i[3]=a[g++],(2!=i[0]||2!=i[1]||(i[2]<<8|i[3])!=b)&&e(3,"bad rgbe scanline format");let c=0,l;for(;c<h&&g<a.byteLength;){let b=(l=a[g++])>128;if(b&&(l-=128),(0===l||c+l>h)&&e(3,"bad scanline data"),b){let b=a[g++];for(let a=0;a<l;a++)j[c++]=b}else j.set(a.subarray(g,g+l),c),c+=l,g+=l}for(let a=0;a<b;a++){let c=0;d[f]=j[a+c],c+=b,d[f+1]=j[a+c],c+=b,d[f+2]=j[a+c],c+=b,d[f+3]=j[a+c],f+=4}k--}return d}(g.subarray(g.pos),i,j);switch(this.type){case D.FloatType:let l=new Float32Array(4*(d=k.length/4));for(let a=0;a<d;a++)!function(a,b,c,d){let e=Math.pow(2,a[b+3]-128)/255;c[d+0]=a[b+0]*e,c[d+1]=a[b+1]*e,c[d+2]=a[b+2]*e,c[d+3]=1}(k,4*a,l,4*a);b=l,c=D.FloatType;break;case D.HalfFloatType:let m=new Uint16Array(4*(d=k.length/4));for(let a=0;a<d;a++)!function(a,b,c,d){let e=Math.pow(2,a[b+3]-128)/255;c[d+0]=D.DataUtils.toHalfFloat(Math.min(a[b+0]*e,65504)),c[d+1]=D.DataUtils.toHalfFloat(Math.min(a[b+1]*e,65504)),c[d+2]=D.DataUtils.toHalfFloat(Math.min(a[b+2]*e,65504)),c[d+3]=D.DataUtils.toHalfFloat(1)}(k,4*a,m,4*a);b=m,c=D.HalfFloatType;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:i,height:j,data:b,header:h.string,gamma:h.gamma,exposure:h.exposure,type:c}}setDataType(a){return this.type=a,this}load(a,b,c,d){return super.load(a,function(a,c){switch(a.type){case D.FloatType:case D.HalfFloatType:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=D.LinearFilter,a.magFilter=D.LinearFilter,a.generateMipmaps=!1,a.flipY=!0}b&&b(a,c)},c,d)}}var F=n,G=(0,a.i(62562).createRequire)("/");try{e=G("worker_threads").Worker}catch(a){}var H=e?function(a,b,c,d,f){var g=!1,h=new e(a+";var __w=require('worker_threads');__w.parentPort.on('message',function(m){onmessage({data:m})}),postMessage=function(m,t){__w.parentPort.postMessage(m,t)},close=process.exit;self=global",{eval:!0}).on("error",function(a){return f(a,null)}).on("message",function(a){return f(null,a)}).on("exit",function(a){a&&!g&&f(Error("exited with code "+a),null)});return h.postMessage(c,d),h.terminate=function(){return g=!0,e.prototype.terminate.call(h)},h}:function(a,b,c,d,e){setImmediate(function(){return e(Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var f=function(){};return{terminate:f,postMessage:f}},I=Uint8Array,J=Uint16Array,K=Uint32Array,L=new I([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M=new I([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N=new I([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=function(a,b){for(var c=new J(31),d=0;d<31;++d)c[d]=b+=1<<a[d-1];for(var e=new K(c[30]),d=1;d<30;++d)for(var f=c[d];f<c[d+1];++f)e[f]=f-c[d]<<5|d;return[c,e]},P=O(L,2),Q=P[0],R=P[1];Q[28]=258,R[258]=28;for(var S=O(M,0),T=S[0],U=S[1],V=new J(32768),W=0;W<32768;++W){var X=(43690&W)>>>1|(21845&W)<<1;X=(61680&(X=(52428&X)>>>2|(13107&X)<<2))>>>4|(3855&X)<<4,V[W]=((65280&X)>>>8|(255&X)<<8)>>>1}for(var Y=function(a,b,c){for(var d,e=a.length,f=0,g=new J(b);f<e;++f)++g[a[f]-1];var h=new J(b);for(f=0;f<b;++f)h[f]=h[f-1]+g[f-1]<<1;if(c){d=new J(1<<b);var i=15-b;for(f=0;f<e;++f)if(a[f])for(var j=f<<4|a[f],k=b-a[f],l=h[a[f]-1]++<<k,m=l|(1<<k)-1;l<=m;++l)d[V[l]>>>i]=j}else for(f=0,d=new J(e);f<e;++f)a[f]&&(d[f]=V[h[a[f]-1]++]>>>15-a[f]);return d},Z=new I(288),W=0;W<144;++W)Z[W]=8;for(var W=144;W<256;++W)Z[W]=9;for(var W=256;W<280;++W)Z[W]=7;for(var W=280;W<288;++W)Z[W]=8;for(var $=new I(32),W=0;W<32;++W)$[W]=5;var _=Y(Z,9,0),aa=Y(Z,9,1),ab=Y($,5,0),ac=Y($,5,1),ad=function(a){for(var b=a[0],c=1;c<a.length;++c)a[c]>b&&(b=a[c]);return b},ae=function(a,b,c){var d=b/8|0;return(a[d]|a[d+1]<<8)>>(7&b)&c},af=function(a,b){var c=b/8|0;return(a[c]|a[c+1]<<8|a[c+2]<<16)>>(7&b)},ag=function(a){return(a/8|0)+(7&a&&1)},ah=function(a,b,c){(null==b||b<0)&&(b=0),(null==c||c>a.length)&&(c=a.length);var d=new(a instanceof J?J:a instanceof K?K:I)(c-b);return d.set(a.subarray(b,c)),d},ai=function(a,b,c){var d=a.length;if(!d||c&&!c.l&&d<5)return b||new I(0);var e=!b||c,f=!c||c.i;c||(c={}),b||(b=new I(3*d));var g=function(a){var c=b.length;if(a>c){var d=new I(Math.max(2*c,a));d.set(b),b=d}},h=c.f||0,i=c.p||0,j=c.b||0,k=c.l,l=c.d,m=c.m,n=c.n,o=8*d;do{if(!k){c.f=h=ae(a,i,1);var p=ae(a,i+1,3);if(i+=3,p)if(1==p)k=aa,l=ac,m=9,n=5;else if(2==p){var q=ae(a,i,31)+257,r=ae(a,i+10,15)+4,s=q+ae(a,i+5,31)+1;i+=14;for(var t=new I(s),u=new I(19),v=0;v<r;++v)u[N[v]]=ae(a,i+3*v,7);i+=3*r;for(var w=ad(u),x=(1<<w)-1,y=Y(u,w,1),v=0;v<s;){var z=y[ae(a,i,x)];i+=15&z;var A=z>>>4;if(A<16)t[v++]=A;else{var B=0,C=0;for(16==A?(C=3+ae(a,i,3),i+=2,B=t[v-1]):17==A?(C=3+ae(a,i,7),i+=3):18==A&&(C=11+ae(a,i,127),i+=7);C--;)t[v++]=B}}var D=t.subarray(0,q),E=t.subarray(q);m=ad(D),n=ad(E),k=Y(D,m,1),l=Y(E,n,1)}else throw"invalid block type";else{var A=ag(i)+4,F=a[A-4]|a[A-3]<<8,G=A+F;if(G>d){if(f)throw"unexpected EOF";break}e&&g(j+F),b.set(a.subarray(A,G),j),c.b=j+=F,c.p=i=8*G;continue}if(i>o){if(f)throw"unexpected EOF";break}}e&&g(j+131072);for(var H=(1<<m)-1,J=(1<<n)-1,K=i;;K=i){var B=k[af(a,i)&H],O=B>>>4;if((i+=15&B)>o){if(f)throw"unexpected EOF";break}if(!B)throw"invalid length/literal";if(O<256)b[j++]=O;else if(256==O){K=i,k=null;break}else{var P=O-254;if(O>264){var v=O-257,R=L[v];P=ae(a,i,(1<<R)-1)+Q[v],i+=R}var S=l[af(a,i)&J],U=S>>>4;if(!S)throw"invalid distance";i+=15&S;var E=T[U];if(U>3){var R=M[U];E+=af(a,i)&(1<<R)-1,i+=R}if(i>o){if(f)throw"unexpected EOF";break}e&&g(j+131072);for(var V=j+P;j<V;j+=4)b[j]=b[j-E],b[j+1]=b[j+1-E],b[j+2]=b[j+2-E],b[j+3]=b[j+3-E];j=V}}c.l=k,c.p=K,c.b=j,k&&(h=1,c.m=m,c.d=l,c.n=n)}while(!h)return j==b.length?b:ah(b,0,j)},aj=function(a,b,c){c<<=7&b;var d=b/8|0;a[d]|=c,a[d+1]|=c>>>8},ak=function(a,b,c){c<<=7&b;var d=b/8|0;a[d]|=c,a[d+1]|=c>>>8,a[d+2]|=c>>>16},al=function(a,b){for(var c=[],d=0;d<a.length;++d)a[d]&&c.push({s:d,f:a[d]});var e=c.length,f=c.slice();if(!e)return[as,0];if(1==e){var g=new I(c[0].s+1);return g[c[0].s]=1,[g,1]}c.sort(function(a,b){return a.f-b.f}),c.push({s:-1,f:25001});var h=c[0],i=c[1],j=0,k=1,l=2;for(c[0]={s:-1,f:h.f+i.f,l:h,r:i};k!=e-1;)h=c[c[j].f<c[l].f?j++:l++],i=c[j!=k&&c[j].f<c[l].f?j++:l++],c[k++]={s:-1,f:h.f+i.f,l:h,r:i};for(var m=f[0].s,d=1;d<e;++d)f[d].s>m&&(m=f[d].s);var n=new J(m+1),o=am(c[k-1],n,0);if(o>b){var d=0,p=0,q=o-b,r=1<<q;for(f.sort(function(a,b){return n[b.s]-n[a.s]||a.f-b.f});d<e;++d){var s=f[d].s;if(n[s]>b)p+=r-(1<<o-n[s]),n[s]=b;else break}for(p>>>=q;p>0;){var t=f[d].s;n[t]<b?p-=1<<b-n[t]++-1:++d}for(;d>=0&&p;--d){var u=f[d].s;n[u]==b&&(--n[u],++p)}o=b}return[new I(n),o]},am=function(a,b,c){return -1==a.s?Math.max(am(a.l,b,c+1),am(a.r,b,c+1)):b[a.s]=c},an=function(a){for(var b=a.length;b&&!a[--b];);for(var c=new J(++b),d=0,e=a[0],f=1,g=function(a){c[d++]=a},h=1;h<=b;++h)if(a[h]==e&&h!=b)++f;else{if(!e&&f>2){for(;f>138;f-=138)g(32754);f>2&&(g(f>10?f-11<<5|28690:f-3<<5|12305),f=0)}else if(f>3){for(g(e),--f;f>6;f-=6)g(8304);f>2&&(g(f-3<<5|8208),f=0)}for(;f--;)g(e);f=1,e=a[h]}return[c.subarray(0,d),b]},ao=function(a,b){for(var c=0,d=0;d<b.length;++d)c+=a[d]*b[d];return c},ap=function(a,b,c){var d=c.length,e=ag(b+2);a[e]=255&d,a[e+1]=d>>>8,a[e+2]=255^a[e],a[e+3]=255^a[e+1];for(var f=0;f<d;++f)a[e+f+4]=c[f];return(e+4+d)*8},aq=function(a,b,c,d,e,f,g,h,i,j,k){aj(b,k++,c),++e[256];for(var l,m,n,o,p=al(e,15),q=p[0],r=p[1],s=al(f,15),t=s[0],u=s[1],v=an(q),w=v[0],x=v[1],y=an(t),z=y[0],A=y[1],B=new J(19),C=0;C<w.length;++C)B[31&w[C]]++;for(var C=0;C<z.length;++C)B[31&z[C]]++;for(var D=al(B,7),E=D[0],F=D[1],G=19;G>4&&!E[N[G-1]];--G);var H=j+5<<3,I=ao(e,Z)+ao(f,$)+g,K=ao(e,q)+ao(f,t)+g+14+3*G+ao(B,E)+(2*B[16]+3*B[17]+7*B[18]);if(H<=I&&H<=K)return ap(b,k,a.subarray(i,i+j));if(aj(b,k,1+(K<I)),k+=2,K<I){l=Y(q,r,0),m=q,n=Y(t,u,0),o=t;var O=Y(E,F,0);aj(b,k,x-257),aj(b,k+5,A-1),aj(b,k+10,G-4),k+=14;for(var C=0;C<G;++C)aj(b,k+3*C,E[N[C]]);k+=3*G;for(var P=[w,z],Q=0;Q<2;++Q)for(var R=P[Q],C=0;C<R.length;++C){var S=31&R[C];aj(b,k,O[S]),k+=E[S],S>15&&(aj(b,k,R[C]>>>5&127),k+=R[C]>>>12)}}else l=_,m=Z,n=ab,o=$;for(var C=0;C<h;++C)if(d[C]>255){var S=d[C]>>>18&31;ak(b,k,l[S+257]),k+=m[S+257],S>7&&(aj(b,k,d[C]>>>23&31),k+=L[S]);var T=31&d[C];ak(b,k,n[T]),k+=o[T],T>3&&(ak(b,k,d[C]>>>5&8191),k+=M[T])}else ak(b,k,l[d[C]]),k+=m[d[C]];return ak(b,k,l[256]),k+m[256]},ar=new K([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),as=new I(0),at=function(a,b,c,d,e,f){var g=a.length,h=new I(d+g+5*(1+Math.ceil(g/7e3))+e),i=h.subarray(d,h.length-e),j=0;if(!b||g<8)for(var k=0;k<=g;k+=65535){var l=k+65535;l<g?j=ap(i,j,a.subarray(k,l)):(i[k]=f,j=ap(i,j,a.subarray(k,g)))}else{for(var m=ar[b-1],n=m>>>13,o=8191&m,p=(1<<c)-1,q=new J(32768),r=new J(p+1),s=Math.ceil(c/3),t=2*s,u=function(b){return(a[b]^a[b+1]<<s^a[b+2]<<t)&p},v=new K(25e3),w=new J(288),x=new J(32),y=0,z=0,k=0,A=0,B=0,C=0;k<g;++k){var D=u(k),E=32767&k,F=r[D];if(q[E]=F,r[D]=E,B<=k){var G=g-k;if((y>7e3||A>24576)&&G>423){j=aq(a,i,0,v,w,x,z,A,C,k-C,j),A=y=z=0,C=k;for(var H=0;H<286;++H)w[H]=0;for(var H=0;H<30;++H)x[H]=0}var N=2,O=0,P=o,Q=E-F&32767;if(G>2&&D==u(k-Q))for(var S=Math.min(n,G)-1,T=Math.min(32767,k),V=Math.min(258,G);Q<=T&&--P&&E!=F;){if(a[k+N]==a[k+N-Q]){for(var W=0;W<V&&a[k+W]==a[k+W-Q];++W);if(W>N){if(N=W,O=Q,W>S)break;for(var X=Math.min(Q,W-2),Y=0,H=0;H<X;++H){var Z=k-Q+H+32768&32767,$=q[Z],_=Z-$+32768&32767;_>Y&&(Y=_,F=Z)}}}F=q[E=F],Q+=E-F+32768&32767}if(O){v[A++]=0x10000000|R[N]<<18|U[O];var aa=31&R[N],ab=31&U[O];z+=L[aa]+M[ab],++w[257+aa],++x[ab],B=k+N,++y}else v[A++]=a[k],++w[a[k]]}}j=aq(a,i,f,v,w,x,z,A,C,k-C,j),!f&&7&j&&(j=ap(i,j+1,as))}return ah(h,0,d+ag(j)+e)},au=function(){for(var a=new Int32Array(256),b=0;b<256;++b){for(var c=b,d=9;--d;)c=(1&c&&-0x12477ce0)^c>>>1;a[b]=c}return a}(),av=function(){var a=-1;return{p:function(b){for(var c=a,d=0;d<b.length;++d)c=au[255&c^b[d]]^c>>>8;a=c},d:function(){return~a}}},aw=function(){var a=1,b=0;return{p:function(c){for(var d=a,e=b,f=c.length,g=0;g!=f;){for(var h=Math.min(g+2655,f);g<h;++g)e+=d+=c[g];d=(65535&d)+15*(d>>16),e=(65535&e)+15*(e>>16)}a=d,b=e},d:function(){return a%=65521,b%=65521,(255&a)<<24|a>>>8<<16|(255&b)<<8|b>>>8}}},ax=function(a,b,c,d,e){return at(a,null==b.level?6:b.level,null==b.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+b.mem,c,d,!e)},ay=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},az=function(a,b,c){for(var d=a(),e=a.toString(),f=e.slice(e.indexOf("[")+1,e.lastIndexOf("]")).replace(/ /g,"").split(","),g=0;g<d.length;++g){var h=d[g],i=f[g];if("function"==typeof h){b+=";"+i+"=";var j=h.toString();if(h.prototype)if(-1!=j.indexOf("[native code]")){var k=j.indexOf(" ",8)+1;b+=j.slice(k,j.indexOf("(",k))}else for(var l in b+=j,h.prototype)b+=";"+i+".prototype."+l+"="+h.prototype[l].toString();else b+=j}else c[i]=h}return[b,c]},aA=[],aB=function(a){var b=[];for(var c in a)(a[c]instanceof I||a[c]instanceof J||a[c]instanceof K)&&b.push((a[c]=new a[c].constructor(a[c])).buffer);return b},aC=function(a,b,c,d){if(!aA[c]){for(var e,f="",g={},h=a.length-1,i=0;i<h;++i)f=(e=az(a[i],f,g))[0],g=e[1];aA[c]=az(a[h],f,g)}var j=ay({},aA[c][1]);return H(aA[c][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+b.toString()+"}",c,j,aB(j),d)},aD=function(){return[I,J,K,L,M,N,Q,T,aa,ac,V,Y,ad,ae,af,ag,ah,ai,a_,aH,aI]},aE=function(){return[I,J,K,L,M,N,R,U,_,Z,ab,$,V,ar,as,Y,aj,ak,al,am,an,ao,ap,aq,ag,ah,at,ax,aY,aH]},aF=function(){return[aQ,aR]},aG=function(){return[aU]},aH=function(a){return postMessage(a,[a.buffer])},aI=function(a){return a&&a.size&&new I(a.size)},aJ=function(a){return a.ondata=function(a,b){return postMessage([a,b],[a.buffer])},function(b){return a.push(b.data[0],b.data[1])}},aK=function(a,b,c,d,e){var f,g=aC(a,d,e,function(a,c){a?(g.terminate(),b.ondata.call(b,a)):(c[1]&&g.terminate(),b.ondata.call(b,a,c[0],c[1]))});g.postMessage(c),b.push=function(a,c){if(f)throw"stream finished";if(!b.ondata)throw"no stream handler";g.postMessage([a,f=c],[a.buffer])},b.terminate=function(){g.terminate()}},aL=function(a,b){return a[b]|a[b+1]<<8},aM=function(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0},aN=function(a,b){return aM(a,b)+0x100000000*aM(a,b+4)},aO=function(a,b,c){for(;c;++b)a[b]=c,c>>>=8},aP=function(a,b){var c=b.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=b.level<2?4:2*(9==b.level),a[9]=3,0!=b.mtime&&aO(a,4,Math.floor(new Date(b.mtime||Date.now())/1e3)),c){a[3]=8;for(var d=0;d<=c.length;++d)a[d+10]=c.charCodeAt(d)}},aQ=function(a){if(31!=a[0]||139!=a[1]||8!=a[2])throw"invalid gzip data";var b=a[3],c=10;4&b&&(c+=a[10]|(a[11]<<8)+2);for(var d=(b>>3&1)+(b>>4&1);d>0;d-=!a[c++]);return c+(2&b)},aR=function(a){var b=a.length;return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0},aS=function(a){return 10+(a.filename&&a.filename.length+1||0)},aT=function(a,b){var c=b.level,d=0==c?0:c<6?1:9==c?3:2;a[0]=120,a[1]=d<<6|(d?32-2*d:1)},aU=function(a){if((15&a[0])!=8||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(32&a[1])throw"invalid zlib data: preset dictionaries not supported"};function aV(a,b){return b||"function"!=typeof a||(b=a,a={}),this.ondata=b,a}var aW=function(){function a(a,b){b||"function"!=typeof a||(b=a,a={}),this.ondata=b,this.o=a||{}}return a.prototype.p=function(a,b){this.ondata(ax(a,this.o,0,0,!b),b)},a.prototype.push=function(a,b){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=b,this.p(a,b||!1)},a}(),aX=function(a,b){aK([aE,function(){return[aJ,aW]}],this,aV.call(this,a,b),function(a){onmessage=aJ(new aW(a.data))},6)};function aY(a,b){return ax(a,b||{},0,0)}var aZ=function(){function a(a){this.s={},this.p=new I(0),this.ondata=a}return a.prototype.e=function(a){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var b=this.p.length,c=new I(b+a.length);c.set(this.p),c.set(a,b),this.p=c},a.prototype.c=function(a){this.d=this.s.i=a||!1;var b=this.s.b,c=ai(this.p,this.o,this.s);this.ondata(ah(c,b,this.s.b),this.d),this.o=ah(c,this.s.b-32768),this.s.b=this.o.length,this.p=ah(this.p,this.s.p/8|0),this.s.p&=7},a.prototype.push=function(a,b){this.e(a),this.c(b)},a}(),a$=function(a){this.ondata=a,aK([aD,function(){return[aJ,aZ]}],this,0,function(){onmessage=aJ(new aZ)},7)};function a_(a,b){return ai(a,b)}(function(){function a(a,b){this.c=av(),this.l=0,this.v=1,aW.call(this,a,b)}a.prototype.push=function(a,b){aW.prototype.push.call(this,a,b)},a.prototype.p=function(a,b){this.c.p(a),this.l+=a.length;var c=ax(a,this.o,this.v&&aS(this.o),b&&8,!b);this.v&&(aP(c,this.o),this.v=0),b&&(aO(c,c.length-8,this.c.d()),aO(c,c.length-4,this.l)),this.ondata(c,b)}})();var a0=function(){function a(a){this.v=1,aZ.call(this,a)}return a.prototype.push=function(a,b){if(aZ.prototype.e.call(this,a),this.v){var c=this.p.length>3?aQ(this.p):4;if(c>=this.p.length&&!b)return;this.p=this.p.subarray(c),this.v=0}if(b){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}aZ.prototype.c.call(this,b)},a}(),a1=function(a){this.ondata=a,aK([aD,aF,function(){return[aJ,aZ,a0]}],this,0,function(){onmessage=aJ(new a0)},9)},a2=(function(){function a(a,b){this.c=aw(),this.v=1,aW.call(this,a,b)}a.prototype.push=function(a,b){aW.prototype.push.call(this,a,b)},a.prototype.p=function(a,b){this.c.p(a);var c=ax(a,this.o,this.v&&2,b&&4,!b);this.v&&(aT(c,this.o),this.v=0),b&&aO(c,c.length-4,this.c.d()),this.ondata(c,b)}}(),function(){function a(a){this.v=1,aZ.call(this,a)}return a.prototype.push=function(a,b){if(aZ.prototype.e.call(this,a),this.v){if(this.p.length<2&&!b)return;this.p=this.p.subarray(2),this.v=0}if(b){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}aZ.prototype.c.call(this,b)},a}()),a3=function(a){this.ondata=a,aK([aD,aG,function(){return[aJ,aZ,a2]}],this,0,function(){onmessage=aJ(new a2)},11)};function a4(a,b){return ai((aU(a),a.subarray(2,-4)),b)}var a5=function(){function a(a){this.G=a0,this.I=aZ,this.Z=a2,this.ondata=a}return a.prototype.push=function(a,b){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(a,b);else{if(this.p&&this.p.length){var c=new I(this.p.length+a.length);c.set(this.p),c.set(a,this.p.length)}else this.p=a;if(this.p.length>2){var d=this,e=function(){d.ondata.apply(d,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(e):(15&this.p[0])!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(e):new this.Z(e),this.s.push(this.p,b),this.p=null}}},a}();(function(a){this.G=a1,this.I=a$,this.Z=a3,this.ondata=a}).prototype.push=function(a,b){a5.prototype.push.call(this,a,b)};var a6="undefined"!=typeof TextEncoder&&new TextEncoder,a7="undefined"!=typeof TextDecoder&&new TextDecoder,a8=0;try{a7.decode(as,{stream:!0}),a8=1}catch(a){}var a9=function(a){for(var b="",c=0;;){var d=a[c++],e=(d>127)+(d>223)+(d>239);if(c+e>a.length)return[b,ah(a,c-1)];e?3==e?b+=String.fromCharCode(55296|(d=((15&d)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536)>>10,56320|1023&d):1&e?b+=String.fromCharCode((31&d)<<6|63&a[c++]):b+=String.fromCharCode((15&d)<<12|(63&a[c++])<<6|63&a[c++]):b+=String.fromCharCode(d)}};function ba(a,b){if(b){for(var c=new I(a.length),d=0;d<a.length;++d)c[d]=a.charCodeAt(d);return c}if(a6)return a6.encode(a);for(var e=a.length,f=new I(a.length+(a.length>>1)),g=0,h=function(a){f[g++]=a},d=0;d<e;++d){if(g+5>f.length){var i=new I(g+8+(e-d<<1));i.set(f),f=i}var j=a.charCodeAt(d);j<128||b?h(j):(j<2048?h(192|j>>6):(j>55295&&j<57344?(h(240|(j=65536+(1047552&j)|1023&a.charCodeAt(++d))>>18),h(128|j>>12&63)):h(224|j>>12),h(128|j>>6&63)),h(128|63&j))}return ah(f,0,g)}(function(a){this.ondata=a,a8?this.t=new TextDecoder:this.p=as}).prototype.push=function(a,b){if(!this.ondata)throw"no callback";if(b=!!b,this.t){if(this.ondata(this.t.decode(a,{stream:!0}),b),b){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var c=new I(this.p.length+a.length);c.set(this.p),c.set(a,this.p.length);var d=a9(c),e=d[0],f=d[1];if(b){if(f.length)throw"invalid utf-8 data";this.p=null}else this.p=f;this.ondata(e,b)},(function(a){this.ondata=a}).prototype.push=function(a,b){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(ba(a),this.d=b||!1)};var bb=function(a){return 1==a?3:a<6?2:+(9==a)},bc=function(a,b){for(;1!=aL(a,b);b+=4+aL(a,b+2));return[aN(a,b+12),aN(a,b+4),aN(a,b+20)]},bd=function(a){var b=0;if(a)for(var c in a){var d=a[c].length;if(d>65535)throw"extra field too long";b+=d+4}return b},be=function(a,b,c,d,e,f,g,h){var i=d.length,j=c.extra,k=h&&h.length,l=bd(j);aO(a,b,null!=g?0x2014b50:0x4034b50),b+=4,null!=g&&(a[b++]=20,a[b++]=c.os),a[b]=20,b+=2,a[b++]=c.flag<<1|(null==f&&8),a[b++]=e&&8,a[b++]=255&c.compression,a[b++]=c.compression>>8;var m=new Date(null==c.mtime?Date.now():c.mtime),n=m.getFullYear()-1980;if(n<0||n>119)throw"date not in range 1980-2099";if(aO(a,b,n<<25|m.getMonth()+1<<21|m.getDate()<<16|m.getHours()<<11|m.getMinutes()<<5|m.getSeconds()>>>1),b+=4,null!=f&&(aO(a,b,c.crc),aO(a,b+4,f),aO(a,b+8,c.size)),aO(a,b+12,i),aO(a,b+14,l),b+=16,null!=g&&(aO(a,b,k),aO(a,b+6,c.attrs),aO(a,b+10,g),b+=14),a.set(d,b),b+=i,l)for(var o in j){var p=j[o],q=p.length;aO(a,b,+o),aO(a,b+2,q),a.set(p,b+4),b+=4+q}return k&&(a.set(h,b),b+=k),b},bf=function(a,b,c,d,e){aO(a,b,0x6054b50),aO(a,b+8,c),aO(a,b+10,c),aO(a,b+12,d),aO(a,b+16,e)},bg=function(){function a(a){this.filename=a,this.c=av(),this.size=0,this.compression=0}return a.prototype.process=function(a,b){this.ondata(null,a,b)},a.prototype.push=function(a,b){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(a),this.size+=a.length,b&&(this.crc=this.c.d()),this.process(a,b||!1)},a}();function bh(a,b){var c=this;b||(b={}),bg.call(this,a),this.d=new aW(b,function(a,b){c.ondata(null,a,b)}),this.compression=8,this.flag=bb(b.level)}function bi(a,b){var c=this;b||(b={}),bg.call(this,a),this.d=new aX(b,function(a,b,d){c.ondata(a,b,d)}),this.compression=8,this.flag=bb(b.level),this.terminate=this.d.terminate}function bj(a){this.ondata=a,this.u=[],this.d=1}bh.prototype.process=function(a,b){try{this.d.push(a,b)}catch(a){this.ondata(a,null,b)}},bh.prototype.push=function(a,b){bg.prototype.push.call(this,a,b)},bi.prototype.process=function(a,b){this.d.push(a,b)},bi.prototype.push=function(a,b){bg.prototype.push.call(this,a,b)},bj.prototype.add=function(a){var b=this;if(2&this.d)throw"stream finished";var c=ba(a.filename),d=c.length,e=a.comment,f=e&&ba(e),g=d!=a.filename.length||f&&e.length!=f.length,h=d+bd(a.extra)+30;if(d>65535)throw"filename too long";var i=new I(h);be(i,0,a,c,g);var j=[i],k=function(){for(var a=0,c=j;a<c.length;a++){var d=c[a];b.ondata(null,d,!1)}j=[]},l=this.d;this.d=0;var m=this.u.length,n=ay(a,{f:c,u:g,o:f,t:function(){a.terminate&&a.terminate()},r:function(){if(k(),l){var a=b.u[m+1];a?a.r():b.d=1}l=1}}),o=0;a.ondata=function(c,d,e){if(c)b.ondata(c,d,e),b.terminate();else if(o+=d.length,j.push(d),e){var f=new I(16);aO(f,0,0x8074b50),aO(f,4,a.crc),aO(f,8,o),aO(f,12,a.size),j.push(f),n.c=o,n.b=h+o+16,n.crc=a.crc,n.size=a.size,l&&n.r(),l=1}else l&&k()},this.u.push(n)},bj.prototype.end=function(){var a=this;if(2&this.d){if(1&this.d)throw"stream finishing";throw"stream finished"}this.d?this.e():this.u.push({r:function(){1&a.d&&(a.u.splice(-1,1),a.e())},t:function(){}}),this.d=3},bj.prototype.e=function(){for(var a=0,b=0,c=0,d=0,e=this.u;d<e.length;d++){var f=e[d];c+=46+f.f.length+bd(f.extra)+(f.o?f.o.length:0)}for(var g=new I(c+22),h=0,i=this.u;h<i.length;h++){var f=i[h];be(g,a,f,f.f,f.u,f.c,b,f.o),a+=46+f.f.length+bd(f.extra)+(f.o?f.o.length:0),b+=f.b}bf(g,a,this.u.length,c,b),this.ondata(null,g,!0),this.d=2},bj.prototype.terminate=function(){for(var a=0,b=this.u;a<b.length;a++)b[a].t();this.d=2};var bk=function(){function a(){}return a.prototype.push=function(a,b){this.ondata(null,a,b)},a.compression=0,a}();function bl(){var a=this;this.i=new aZ(function(b,c){a.ondata(null,b,c)})}function bm(a,b){var c=this;b<32e4?this.i=new aZ(function(a,b){c.ondata(null,a,b)}):(this.i=new a$(function(a,b,d){c.ondata(a,b,d)}),this.terminate=this.i.terminate)}function bn(a){this.onfile=a,this.k=[],this.o={0:bk},this.p=as}bl.prototype.push=function(a,b){try{this.i.push(a,b)}catch(c){this.ondata(c,a,b)}},bl.compression=8,bm.prototype.push=function(a,b){this.i.terminate&&(a=ah(a,0)),this.i.push(a,b)},bm.compression=8,bn.prototype.push=function(a,b){var c=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var d=Math.min(this.c,a.length),e=a.subarray(0,d);if(this.c-=d,this.d?this.d.push(e,!this.c):this.k[0].push(e),(a=a.subarray(d)).length)return this.push(a,b)}else{var f=0,g=0,h=void 0,i=void 0;this.p.length?a.length?((i=new I(this.p.length+a.length)).set(this.p),i.set(a,this.p.length)):i=this.p:i=a;for(var j=i.length,k=this.c,l=k&&this.d,m=this;g<j-4&&"break"!==function(){var a=aM(i,g);if(0x4034b50==a){f=1,h=g,m.d=null,m.c=0;var b=aL(i,g+6),d=aL(i,g+8),e=8&b,l=aL(i,g+26),n=aL(i,g+28);if(j>g+30+l+n){var o,p,q=[];m.k.unshift(q),f=2;var r=aM(i,g+18),s=aM(i,g+22),t=function(a,b){if(b){for(var c="",d=0;d<a.length;d+=16384)c+=String.fromCharCode.apply(null,a.subarray(d,d+16384));return c}if(a7)return a7.decode(a);var e=a9(a),f=e[0];if(e[1].length)throw"invalid utf-8 data";return f}(i.subarray(g+30,g+=30+l),!(2048&b));0xffffffff==r?(r=(o=e?[-2]:bc(i,g))[0],s=o[1]):e&&(r=-1),g+=n,m.c=r;var u={name:t,compression:d,start:function(){if(!u.ondata)throw"no callback";if(r){var a=c.o[d];if(!a)throw"unknown compression type "+d;(p=r<0?new a(t):new a(t,r,s)).ondata=function(a,b,c){u.ondata(a,b,c)};for(var b=0;b<q.length;b++){var e=q[b];p.push(e,!1)}c.k[0]==q&&c.c?c.d=p:p.push(as,!0)}else u.ondata(null,as,!0)},terminate:function(){p&&p.terminate&&p.terminate()}};r>=0&&(u.size=r,u.originalSize=s),m.onfile(u)}return"break"}if(k){if(0x8074b50==a)return h=g+=12+(-2==k&&8),f=3,m.c=0,"break";else if(0x2014b50==a)return h=g-=4,f=3,m.c=0,"break"}}();++g);if(this.p=as,k<0){var n=f?i.subarray(0,h-12-(-2==k&&8)-(0x8074b50==aM(i,h-16)&&4)):i.subarray(0,g);l?l.push(n,!!f):this.k[+(2==f)].push(n)}if(2&f)return this.push(i.subarray(g),b);this.p=i.subarray(g)}if(b){if(this.c)throw"invalid zip file";this.p=null}},bn.prototype.register=function(a){this.o[a.compression]=a};let bo=A.version>=152;class bp extends F.DataTextureLoader{constructor(a){super(a),this.type=F.HalfFloatType}parse(a){let b={l:0,c:0,lc:0};function c(a,c,d,e,f){for(;d<a;)c=c<<8|z(e,f),d+=8;b.l=c>>(d-=a)&(1<<a)-1,b.c=c,b.lc=d}let d=Array(59),e={c:0,lc:0};function f(a,b,c,d){a=a<<8|z(c,d),b+=8,e.c=a,e.lc=b}let g={c:0,lc:0};function h(a,b,c,d,h,i,j,k,l,m){if(a==b){d<8&&(f(c,d,h,j),c=e.c,d=e.lc);var n=c>>(d-=8),n=new Uint8Array([n])[0];if(l.value+n>m)return!1;for(var o=k[l.value-1];n-- >0;)k[l.value++]=o}else{if(!(l.value<m))return!1;k[l.value++]=a}g.c=c,g.lc=d}function i(a){var b=65535&a;return b>32767?b-65536:b}let j={a:0,b:0};function k(a,b){var c=i(a),d=i(b),e=c+(1&d)+(d>>1),f=e-d;j.a=e,j.b=f}function l(a,b){var c=65535&b,d=(65535&a)-(c>>1)&65535;j.a=c+d-32768&65535,j.b=d}function m(a,i,j,k,l,m){var n=j.value,o=y(i,j),p=y(i,j);j.value+=4;var q=y(i,j);if(j.value+=4,o<0||o>=65537||p<0||p>=65537)throw"Something wrong with HUF_ENCSIZE";for(var r=Array(65537),s=Array(16384),t=0;t<16384;t++)s[t]={},s[t].len=0,s[t].lit=0,s[t].p=null;var u=k-(j.value-n);if(!function(a,e,f,g,h,i,j){for(var k=0,l=0;h<=i;h++){if(f.value-f.value>g)return!1;c(6,k,l,a,f);var m=b.l;if(k=b.c,l=b.lc,j[h]=m,63==m){if(f.value-f.value>g)throw"Something wrong with hufUnpackEncTable";c(8,k,l,a,f);var n=b.l+6;if(k=b.c,l=b.lc,h+n>i+1)throw"Something wrong with hufUnpackEncTable";for(;n--;)j[h++]=0;h--}else if(m>=59){var n=m-59+2;if(h+n>i+1)throw"Something wrong with hufUnpackEncTable";for(;n--;)j[h++]=0;h--}}!function(a){for(var b=0;b<=58;++b)d[b]=0;for(var b=0;b<65537;++b)d[a[b]]+=1;for(var c=0,b=58;b>0;--b){var e=c+d[b]>>1;d[b]=c,c=e}for(var b=0;b<65537;++b){var f=a[b];f>0&&(a[b]=f|d[f]++<<6)}}(j)}(a,0,j,u,o,p,r),q>8*(k-(j.value-n)))throw"Something wrong with hufUncompress";!function(a,b,c,d){for(;b<=c;b++){var e=a[b]>>6,f=63&a[b];if(e>>f)throw"Invalid table entry";if(f>14){var g=d[e>>f-14];if(g.len)throw"Invalid table entry";if(g.lit++,g.p){var h=g.p;g.p=Array(g.lit);for(var i=0;i<g.lit-1;++i)g.p[i]=h[i]}else g.p=[,];g.p[g.lit-1]=b}else if(f)for(var j=0,i=1<<14-f;i>0;i--){var g=d[(e<<14-f)+j];if(g.len||g.p)throw"Invalid table entry";g.len=f,g.lit=b,j++}}}(r,o,p,s),function(a,b,c,d,i,j,k,l,m,n){for(var o=0,p=0,q=Math.trunc(i.value+(j+7)/8);i.value<q;)for(f(o,p,c,i),o=e.c,p=e.lc;p>=14;){var r=b[o>>p-14&16383];if(r.len)p-=r.len,h(r.lit,k,o,p,c,d,i,m,n,l),o=g.c,p=g.lc;else{if(!r.p)throw"hufDecode issues";for(s=0;s<r.lit;s++){for(var s,t=63&a[r.p[s]];p<t&&i.value<q;)f(o,p,c,i),o=e.c,p=e.lc;if(p>=t&&a[r.p[s]]>>6==(o>>p-t&(1<<t)-1)){p-=t,h(r.p[s],k,o,p,c,d,i,m,n,l),o=g.c,p=g.lc;break}}if(s==r.lit)throw"hufDecode issues"}}var u=8-j&7;for(o>>=u,p-=u;p>0;){var r=b[o<<14-p&16383];if(r.len)p-=r.len,h(r.lit,k,o,p,c,d,i,m,n,l),o=g.c,p=g.lc;else throw"hufDecode issues"}}(r,s,a,i,j,q,p,m,l,{value:0})}function n(a){for(var b=1;b<a.length;b++){var c=a[b-1]+a[b]-128;a[b]=c}}function o(a,b){for(var c=0,d=Math.floor((a.length+1)/2),e=0,f=a.length-1;!(e>f)&&(b[e++]=a[c++],!(e>f));){;b[e++]=a[d++]}}function p(a){for(var b=a.byteLength,c=[],d=0,e=new DataView(a);b>0;){var f=e.getInt8(d++);if(f<0){var g=-f;b-=g+1;for(var h=0;h<g;h++)c.push(e.getUint8(d++))}else{var g=f;b-=2;for(var i=e.getUint8(d++),h=0;h<g+1;h++)c.push(i)}}return c}function q(a){return new DataView(a.array.buffer,a.offset.value,a.size)}function r(a){var b=new Uint8Array(p(a.viewer.buffer.slice(a.offset.value,a.offset.value+a.size))),c=new Uint8Array(b.length);return n(b),o(b,c),new DataView(c.buffer)}function s(a){var b=a4(a.array.slice(a.offset.value,a.offset.value+a.size)),c=new Uint8Array(b.length);return n(b),o(b,c),new DataView(c.buffer)}function t(a){for(var b=a.viewer,c={value:a.offset.value},d=new Uint16Array(a.width*a.scanlineBlockSize*(a.channels*a.type)),e=new Uint8Array(8192),f=0,g=Array(a.channels),h=0;h<a.channels;h++)g[h]={},g[h].start=f,g[h].end=g[h].start,g[h].nx=a.width,g[h].ny=a.lines,g[h].size=a.type,f+=g[h].nx*g[h].ny*g[h].size;var i=G(b,c),n=G(b,c);if(n>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(i<=n)for(var h=0;h<n-i+1;h++)e[h+i]=A(b,c);var o=new Uint16Array(65536),p=function(a,b){for(var c=0,d=0;d<65536;++d)(0==d||a[d>>3]&1<<(7&d))&&(b[c++]=d);for(var e=c-1;c<65536;)b[c++]=0;return e}(e,o),q=y(b,c);m(a.array,b,c,q,d,f);for(var h=0;h<a.channels;++h)for(var r=g[h],s=0;s<g[h].size;++s)!function(a,b,c,d,e,f,g){for(var h=g<16384,i=c>e?e:c,m=1;m<=i;)m<<=1;for(m>>=1,n=m,m>>=1;m>=1;){for(var n,o,p,q,r,s=0,t=0+f*(e-n),u=f*m,v=f*n,w=d*m,x=d*n;s<=t;s+=v){for(var y=s,z=s+d*(c-n);y<=z;y+=x){var A=y+w,B=y+u,C=B+w;h?(k(a[y+b],a[B+b]),o=j.a,q=j.b,k(a[A+b],a[C+b]),p=j.a,r=j.b,k(o,p),a[y+b]=j.a,a[A+b]=j.b,k(q,r)):(l(a[y+b],a[B+b]),o=j.a,q=j.b,l(a[A+b],a[C+b]),p=j.a,r=j.b,l(o,p),a[y+b]=j.a,a[A+b]=j.b,l(q,r)),a[B+b]=j.a,a[C+b]=j.b}if(c&m){var B=y+u;h?k(a[y+b],a[B+b]):l(a[y+b],a[B+b]),o=j.a,a[B+b]=j.b,a[y+b]=o}}if(e&m)for(var y=s,z=s+d*(c-n);y<=z;y+=x){var A=y+w;h?k(a[y+b],a[A+b]):l(a[y+b],a[A+b]),o=j.a,a[A+b]=j.b,a[y+b]=o}n=m,m>>=1}}(d,r.start+s,r.nx,r.size,r.ny,r.nx*r.size,p);for(var t=f,u=0;u<t;++u)d[u]=o[d[u]];for(var v=0,w=new Uint8Array(d.buffer.byteLength),x=0;x<a.lines;x++)for(var z=0;z<a.channels;z++){var r=g[z],B=r.nx*r.size,C=new Uint8Array(d.buffer,2*r.end,2*B);w.set(C,v),v+=2*B,r.end+=B}return new DataView(w.buffer)}function u(a){var b=a4(a.array.slice(a.offset.value,a.offset.value+a.size));let c=a.lines*a.channels*a.width,d=1==a.type?new Uint16Array(c):new Uint32Array(c),e=0,f=0,g=[,,,,];for(let c=0;c<a.lines;c++)for(let c=0;c<a.channels;c++){let c=0;switch(a.type){case 1:g[0]=e,g[1]=g[0]+a.width,e=g[1]+a.width;for(let e=0;e<a.width;++e)c+=b[g[0]++]<<8|b[g[1]++],d[f]=c,f++;break;case 2:g[0]=e,g[1]=g[0]+a.width,g[2]=g[1]+a.width,e=g[2]+a.width;for(let e=0;e<a.width;++e)c+=b[g[0]++]<<24|b[g[1]++]<<16|b[g[2]++]<<8,d[f]=c,f++}}return new DataView(d.buffer)}function v(a){var b=a.viewer,c={value:a.offset.value},d=new Uint8Array(a.width*a.lines*(a.channels*a.type*2)),e={version:B(b,c),unknownUncompressedSize:B(b,c),unknownCompressedSize:B(b,c),acCompressedSize:B(b,c),dcCompressedSize:B(b,c),rleCompressedSize:B(b,c),rleUncompressedSize:B(b,c),rleRawSize:B(b,c),totalAcUncompressedCount:B(b,c),totalDcUncompressedCount:B(b,c),acCompression:B(b,c)};if(e.version<2)throw"EXRLoader.parse: "+L.compression+" version "+e.version+" is unsupported";for(var f=[],g=G(b,c)-2;g>0;){var h=w(b.buffer,c),i=A(b,c),j=i>>2&3,k=new Int8Array([(i>>4)-1])[0],l=A(b,c);f.push({name:h,index:k,type:l,compression:j}),g-=h.length+3}for(var n=L.channels,o=Array(a.channels),q=0;q<a.channels;++q){var r=o[q]={},t=n[q];r.name=t.name,r.compression=0,r.decoded=!1,r.type=t.pixelType,r.pLinear=t.pLinear,r.width=a.width,r.height=a.lines}for(var u={idx:[,,,]},v=0;v<a.channels;++v)for(var r=o[v],q=0;q<f.length;++q){var x=f[q];r.name==x.name&&(r.compression=x.compression,x.index>=0&&(u.idx[x.index]=v),r.offset=v)}if(e.acCompressedSize>0)switch(e.acCompression){case 0:var y=new Uint16Array(e.totalAcUncompressedCount);m(a.array,b,c,e.acCompressedSize,y,e.totalAcUncompressedCount);break;case 1:var z=a.array.slice(c.value,c.value+e.totalAcUncompressedCount),C=a4(z),y=new Uint16Array(C.buffer);c.value+=e.totalAcUncompressedCount}if(e.dcCompressedSize>0){var D=new Uint16Array(s({array:a.array,offset:c,size:e.dcCompressedSize}).buffer);c.value+=e.dcCompressedSize}if(e.rleRawSize>0){var z=a.array.slice(c.value,c.value+e.rleCompressedSize),C=a4(z),H=p(C.buffer);c.value+=e.rleCompressedSize}for(var I=0,J=Array(o.length),q=0;q<J.length;++q)J[q]=[];for(var K=0;K<a.lines;++K)for(var M=0;M<o.length;++M)J[M].push(I),I+=o[M].width*a.type*2;!function(a,b,c,d,e,f){var g=new DataView(f.buffer),h=c[a.idx[0]].width,i=c[a.idx[0]].height,j=Math.floor(h/8),k=Math.ceil(h/8),l=Math.ceil(i/8),m=h-(k-1)*8,n=i-(l-1)*8,o={value:0},p=[,,,],q=[,,,],r=[,,,],s=[,,,],t=[,,,];for(let c=0;c<3;++c)t[c]=b[a.idx[c]],p[c]=c<1?0:p[c-1]+k*l,q[c]=new Float32Array(64),r[c]=new Uint16Array(64),s[c]=new Uint16Array(64*k);for(let b=0;b<l;++b){var u,v,w=8;b==l-1&&(w=n);var x=8;for(let a=0;a<k;++a){a==k-1&&(x=m);for(let a=0;a<3;++a){r[a].fill(0),r[a][0]=e[p[a]++],function(a,b,c){for(var d,e=1;e<64;)65280==(d=b[a.value])?e=64:d>>8==255?e+=255&d:(c[e]=d,e++),a.value++}(o,d,r[a]),u=r[a],(v=q[a])[0]=E(u[0]),v[1]=E(u[1]),v[2]=E(u[5]),v[3]=E(u[6]),v[4]=E(u[14]),v[5]=E(u[15]),v[6]=E(u[27]),v[7]=E(u[28]),v[8]=E(u[2]),v[9]=E(u[4]),v[10]=E(u[7]),v[11]=E(u[13]),v[12]=E(u[16]),v[13]=E(u[26]),v[14]=E(u[29]),v[15]=E(u[42]),v[16]=E(u[3]),v[17]=E(u[8]),v[18]=E(u[12]),v[19]=E(u[17]),v[20]=E(u[25]),v[21]=E(u[30]),v[22]=E(u[41]),v[23]=E(u[43]),v[24]=E(u[9]),v[25]=E(u[11]),v[26]=E(u[18]),v[27]=E(u[24]),v[28]=E(u[31]),v[29]=E(u[40]),v[30]=E(u[44]),v[31]=E(u[53]),v[32]=E(u[10]),v[33]=E(u[19]),v[34]=E(u[23]),v[35]=E(u[32]),v[36]=E(u[39]),v[37]=E(u[45]),v[38]=E(u[52]),v[39]=E(u[54]),v[40]=E(u[20]),v[41]=E(u[22]),v[42]=E(u[33]),v[43]=E(u[38]),v[44]=E(u[46]),v[45]=E(u[51]),v[46]=E(u[55]),v[47]=E(u[60]),v[48]=E(u[21]),v[49]=E(u[34]),v[50]=E(u[37]),v[51]=E(u[47]),v[52]=E(u[50]),v[53]=E(u[56]),v[54]=E(u[59]),v[55]=E(u[61]),v[56]=E(u[35]),v[57]=E(u[36]),v[58]=E(u[48]),v[59]=E(u[49]),v[60]=E(u[57]),v[61]=E(u[58]),v[62]=E(u[62]),v[63]=E(u[63]),function(a){let b=.5*Math.cos(3.14159/16),c=.5*Math.cos(3.14159/8),d=.5*Math.cos(3*3.14159/16),e=.5*Math.cos(3*3.14159/8);for(var f=[,,,,],g=[,,,,],h=[,,,,],i=[,,,,],j=0;j<8;++j){var k=8*j;f[0]=c*a[k+2],f[1]=e*a[k+2],f[2]=c*a[k+6],f[3]=e*a[k+6],g[0]=b*a[k+1]+d*a[k+3]+.2777854612564676*a[k+5]+.09754573032714427*a[k+7],g[1]=d*a[k+1]-.09754573032714427*a[k+3]-b*a[k+5]-.2777854612564676*a[k+7],g[2]=.2777854612564676*a[k+1]-b*a[k+3]+.09754573032714427*a[k+5]+d*a[k+7],g[3]=.09754573032714427*a[k+1]-.2777854612564676*a[k+3]+d*a[k+5]-b*a[k+7],h[0]=.35355362513961314*(a[k+0]+a[k+4]),h[3]=.35355362513961314*(a[k+0]-a[k+4]),h[1]=f[0]+f[3],h[2]=f[1]-f[2],i[0]=h[0]+h[1],i[1]=h[3]+h[2],i[2]=h[3]-h[2],i[3]=h[0]-h[1],a[k+0]=i[0]+g[0],a[k+1]=i[1]+g[1],a[k+2]=i[2]+g[2],a[k+3]=i[3]+g[3],a[k+4]=i[3]-g[3],a[k+5]=i[2]-g[2],a[k+6]=i[1]-g[1],a[k+7]=i[0]-g[0]}for(var l=0;l<8;++l)f[0]=c*a[16+l],f[1]=e*a[16+l],f[2]=c*a[48+l],f[3]=e*a[48+l],g[0]=b*a[8+l]+d*a[24+l]+.2777854612564676*a[40+l]+.09754573032714427*a[56+l],g[1]=d*a[8+l]-.09754573032714427*a[24+l]-b*a[40+l]-.2777854612564676*a[56+l],g[2]=.2777854612564676*a[8+l]-b*a[24+l]+.09754573032714427*a[40+l]+d*a[56+l],g[3]=.09754573032714427*a[8+l]-.2777854612564676*a[24+l]+d*a[40+l]-b*a[56+l],h[0]=.35355362513961314*(a[l]+a[32+l]),h[3]=.35355362513961314*(a[l]-a[32+l]),h[1]=f[0]+f[3],h[2]=f[1]-f[2],i[0]=h[0]+h[1],i[1]=h[3]+h[2],i[2]=h[3]-h[2],i[3]=h[0]-h[1],a[0+l]=i[0]+g[0],a[8+l]=i[1]+g[1],a[16+l]=i[2]+g[2],a[24+l]=i[3]+g[3],a[32+l]=i[3]-g[3],a[40+l]=i[2]-g[2],a[48+l]=i[1]-g[1],a[56+l]=i[0]-g[0]}(q[a])}for(var y=q,z=0;z<64;++z){var A=y[0][z],B=y[1][z],C=y[2][z];y[0][z]=A+1.5747*C,y[1][z]=A-.1873*B-.4682*C,y[2][z]=A+1.8556*B}for(let b=0;b<3;++b)!function(a,b,c){for(var d,e=0;e<64;++e){b[c+e]=F.DataUtils.toHalfFloat((d=a[e])<=1?Math.sign(d)*Math.pow(Math.abs(d),2.2):Math.sign(d)*Math.pow(9.025013291561939,Math.abs(d)-1))}}(q[b],s[b],64*a)}let f=0;for(let d=0;d<3;++d){let e=c[a.idx[d]].type;for(let a=8*b;a<8*b+w;++a){f=t[d][a];for(let b=0;b<j;++b){let c=64*b+(7&a)*8;g.setUint16(f+0*e,s[d][c+0],!0),g.setUint16(f+2*e,s[d][c+1],!0),g.setUint16(f+4*e,s[d][c+2],!0),g.setUint16(f+6*e,s[d][c+3],!0),g.setUint16(f+8*e,s[d][c+4],!0),g.setUint16(f+10*e,s[d][c+5],!0),g.setUint16(f+12*e,s[d][c+6],!0),g.setUint16(f+14*e,s[d][c+7],!0),f+=16*e}}if(j!=k)for(let a=8*b;a<8*b+w;++a){let b=t[d][a]+8*j*2*e,c=64*j+(7&a)*8;for(let a=0;a<x;++a)g.setUint16(b+2*a*e,s[d][c+a],!0)}}}for(var D=new Uint16Array(h),g=new DataView(f.buffer),G=0;G<3;++G){c[a.idx[G]].decoded=!0;var H=c[a.idx[G]].type;if(2==c[G].type)for(var I=0;I<i;++I){let a=t[G][I];for(var J=0;J<h;++J)D[J]=g.getUint16(a+2*J*H,!0);for(var J=0;J<h;++J)g.setFloat32(a+2*J*H,E(D[J]),!0)}}}(u,J,o,y,D,d);for(var q=0;q<o.length;++q){var r=o[q];if(!r.decoded)if(2===r.compression)for(var N=0,O=0,K=0;K<a.lines;++K){for(var P=J[q][N],Q=0;Q<r.width;++Q){for(var R=0;R<2*r.type;++R)d[P++]=H[O+R*r.width*r.height];O++}N++}else throw"EXRLoader.parse: unsupported channel compression"}return new DataView(d.buffer)}function w(a,b){for(var c=new Uint8Array(a),d=0;0!=c[b.value+d];)d+=1;var e=new TextDecoder().decode(c.slice(b.value,b.value+d));return b.value=b.value+d+1,e}function x(a,b){var c=a.getInt32(b.value,!0);return b.value=b.value+4,c}function y(a,b){var c=a.getUint32(b.value,!0);return b.value=b.value+4,c}function z(a,b){var c=a[b.value];return b.value=b.value+1,c}function A(a,b){var c=a.getUint8(b.value);return b.value=b.value+1,c}let B=function(a,b){let c;return c="getBigInt64"in DataView.prototype?Number(a.getBigInt64(b.value,!0)):a.getUint32(b.value+4,!0)+Number(a.getUint32(b.value,!0)<<32),b.value+=8,c};function C(a,b){var c=a.getFloat32(b.value,!0);return b.value+=4,c}function D(a,b){return F.DataUtils.toHalfFloat(C(a,b))}function E(a){var b=(31744&a)>>10,c=1023&a;return(a>>15?-1:1)*(b?31===b?c?NaN:1/0:Math.pow(2,b-15)*(1+c/1024):c/1024*6103515625e-14)}function G(a,b){var c=a.getUint16(b.value,!0);return b.value+=2,c}function H(a,b){return E(G(a,b))}let I=new DataView(a),J=new Uint8Array(a),K={value:0},L=function(a,b,c){let d={};if(0x1312f76!=a.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";d.version=a.getUint8(4);let e=a.getUint8(5);d.spec={singleTile:!!(2&e),longName:!!(4&e),deepFormat:!!(8&e),multiPart:!!(16&e)},c.value=8;for(var f=!0;f;){var g=w(b,c);if(0==g)f=!1;else{var h=w(b,c),i=y(a,c),j=function(a,b,c,d,e){var f,g,h,i,j,k,l;if("string"===d||"stringvector"===d||"iccProfile"===d)return f=new TextDecoder().decode(new Uint8Array(b).slice(c.value,c.value+e)),c.value=c.value+e,f;if("chlist"===d)return function(a,b,c,d){for(var e=c.value,f=[];c.value<e+d-1;){var g=w(b,c),h=x(a,c),i=A(a,c);c.value+=3;var j=x(a,c),k=x(a,c);f.push({name:g,pixelType:h,pLinear:i,xSampling:j,ySampling:k})}return c.value+=1,f}(a,b,c,e);if("chromaticities"===d)return g=C(a,c),h=C(a,c),i=C(a,c),j=C(a,c),k=C(a,c),{redX:g,redY:h,greenX:i,greenY:j,blueX:k,blueY:C(a,c),whiteX:C(a,c),whiteY:C(a,c)};if("compression"===d)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][A(a,c)];if("box2i"===d)return l=y(a,c),{xMin:l,yMin:y(a,c),xMax:y(a,c),yMax:y(a,c)};else if("lineOrder"===d)return["INCREASING_Y"][A(a,c)];else if("float"===d)return C(a,c);else if("v2f"===d)return[C(a,c),C(a,c)];else if("v3f"===d)return[C(a,c),C(a,c),C(a,c)];else if("int"===d)return x(a,c);else if("rational"===d)return[x(a,c),y(a,c)];else if("timecode"===d)return[y(a,c),y(a,c)];else return"preview"===d?(c.value+=e,"skipped"):(c.value+=e,void 0)}(a,b,c,h,i);void 0===j?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${h}'.`):d[g]=j}}if((-5&e)!=0)throw console.error("EXRHeader:",d),"THREE.EXRLoader: provided file is currently unsupported.";return d}(I,a,K),M=function(a,b,c,d,e){let f={size:0,viewer:b,array:c,offset:d,width:a.dataWindow.xMax-a.dataWindow.xMin+1,height:a.dataWindow.yMax-a.dataWindow.yMin+1,channels:a.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:a.channels[0].pixelType,uncompress:null,getter:null,format:null,[bo?"colorSpace":"encoding"]:null};switch(a.compression){case"NO_COMPRESSION":f.lines=1,f.uncompress=q;break;case"RLE_COMPRESSION":f.lines=1,f.uncompress=r;break;case"ZIPS_COMPRESSION":f.lines=1,f.uncompress=s;break;case"ZIP_COMPRESSION":f.lines=16,f.uncompress=s;break;case"PIZ_COMPRESSION":f.lines=32,f.uncompress=t;break;case"PXR24_COMPRESSION":f.lines=16,f.uncompress=u;break;case"DWAA_COMPRESSION":f.lines=32,f.uncompress=v;break;case"DWAB_COMPRESSION":f.lines=256,f.uncompress=v;break;default:throw"EXRLoader.parse: "+a.compression+" is unsupported"}if(f.scanlineBlockSize=f.lines,1==f.type)switch(e){case F.FloatType:f.getter=H,f.inputSize=2;break;case F.HalfFloatType:f.getter=G,f.inputSize=2}else if(2==f.type)switch(e){case F.FloatType:f.getter=C,f.inputSize=4;break;case F.HalfFloatType:f.getter=D,f.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+f.type+" for "+a.compression+".";f.blockCount=(a.dataWindow.yMax+1)/f.scanlineBlockSize;for(var g=0;g<f.blockCount;g++)B(b,d);f.outputChannels=3==f.channels?4:f.channels;let h=f.width*f.height*f.outputChannels;switch(e){case F.FloatType:f.byteArray=new Float32Array(h),f.channels<f.outputChannels&&f.byteArray.fill(1,0,h);break;case F.HalfFloatType:f.byteArray=new Uint16Array(h),f.channels<f.outputChannels&&f.byteArray.fill(15360,0,h);break;default:console.error("THREE.EXRLoader: unsupported type: ",e)}return f.bytesPerLine=f.width*f.inputSize*f.channels,4==f.outputChannels?f.format=F.RGBAFormat:f.format=F.RedFormat,bo?f.colorSpace="srgb-linear":f.encoding=3e3,f}(L,I,J,K,this.type),N={value:0},O={R:0,G:1,B:2,A:3,Y:0};for(let a=0;a<M.height/M.scanlineBlockSize;a++){let b=y(I,K);M.size=y(I,K),M.lines=b+M.scanlineBlockSize>M.height?M.height-b:M.scanlineBlockSize;let c=M.size<M.lines*M.bytesPerLine?M.uncompress(M):q(M);K.value+=M.size;for(let b=0;b<M.scanlineBlockSize;b++){let d=b+a*M.scanlineBlockSize;if(d>=M.height)break;for(let a=0;a<M.channels;a++){let e=O[L.channels[a].name];for(let f=0;f<M.width;f++){N.value=(b*(M.channels*M.width)+a*M.width+f)*M.inputSize;let g=(M.height-1-d)*(M.width*M.outputChannels)+f*M.outputChannels+e;M.byteArray[g]=M.getter(c,N)}}}}return{header:L,width:M.width,height:M.height,data:M.byteArray,format:M.format,[bo?"colorSpace":"encoding"]:M[bo?"colorSpace":"encoding"],type:this.type}}setDataType(a){return this.type=a,this}load(a,b,c,d){return super.load(a,function(a,c){bo?a.colorSpace=c.colorSpace:a.encoding=c.encoding,a.minFilter=F.LinearFilter,a.magFilter=F.LinearFilter,a.generateMipmaps=!1,a.flipY=!1,b&&b(a,c)},c,d)}}let bq=(a,b,c)=>{let d;switch(a){case n.UnsignedByteType:d=new Uint8ClampedArray(b*c*4);break;case n.HalfFloatType:d=new Uint16Array(b*c*4);break;case n.UnsignedIntType:d=new Uint32Array(b*c*4);break;case n.ByteType:d=new Int8Array(b*c*4);break;case n.ShortType:d=new Int16Array(b*c*4);break;case n.IntType:d=new Int32Array(b*c*4);break;case n.FloatType:d=new Float32Array(b*c*4);break;default:throw Error("Unsupported data type")}return d};class br{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(a){this._width=a.width,this._height=a.height,this._type=a.type,this._colorSpace=a.colorSpace;const c={format:n.RGBAFormat,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:a.renderTargetOptions?.anisotropy!==void 0?a.renderTargetOptions?.anisotropy:1,generateMipmaps:a.renderTargetOptions?.generateMipmaps!==void 0&&a.renderTargetOptions?.generateMipmaps,magFilter:a.renderTargetOptions?.magFilter!==void 0?a.renderTargetOptions?.magFilter:n.LinearFilter,minFilter:a.renderTargetOptions?.minFilter!==void 0?a.renderTargetOptions?.minFilter:n.LinearFilter,samples:a.renderTargetOptions?.samples!==void 0?a.renderTargetOptions?.samples:void 0,wrapS:a.renderTargetOptions?.wrapS!==void 0?a.renderTargetOptions?.wrapS:n.ClampToEdgeWrapping,wrapT:a.renderTargetOptions?.wrapT!==void 0?a.renderTargetOptions?.wrapT:n.ClampToEdgeWrapping};if(this._material=a.material,a.renderer?this._renderer=a.renderer:(this._renderer=br.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new n.Scene,this._camera=new n.OrthographicCamera,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!((a,c,d,e)=>{if(void 0!==b)return b;let f=new n.WebGLRenderTarget(1,1,e);c.setRenderTarget(f);let g=new n.Mesh(new n.PlaneGeometry,new n.MeshBasicMaterial({color:0xffffff}));c.render(g,d),c.setRenderTarget(null);let h=bq(a,f.width,f.height);return c.readRenderTargetPixels(f,0,0,f.width,f.height,h),f.dispose(),g.geometry.dispose(),g.material.dispose(),b=0!==h[0]})(this._type,this._renderer,this._camera,c)){let a;this._type===n.HalfFloatType&&(a=this._renderer.extensions.has("EXT_color_buffer_float")?n.FloatType:void 0),void 0!==a?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${n.FloatType}`),this._type=a):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new n.Mesh(new n.PlaneGeometry,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new n.WebGLRenderTarget(this.width,this.height,c),this._renderTarget.texture.mapping=a.renderTargetOptions?.mapping!==void 0?a.renderTargetOptions?.mapping:n.UVMapping}static instantiateRenderer(){let a=new m.WebGLRenderer;return a.setSize(128,128),a}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(a){throw this._renderer.setRenderTarget(null),a}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let a=bq(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,a),a}toDataTexture(a){let b=new n.DataTexture(this.toArray(),this.width,this.height,n.RGBAFormat,this._type,a?.mapping||n.UVMapping,a?.wrapS||n.ClampToEdgeWrapping,a?.wrapT||n.ClampToEdgeWrapping,a?.magFilter||n.LinearFilter,a?.minFilter||n.LinearFilter,a?.anisotropy||1,n.LinearSRGBColorSpace);return b.generateMipmaps=a?.generateMipmaps!==void 0&&a?.generateMipmaps,b}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(a){this.disposeOnDemandRenderer(),a&&this.renderTarget.dispose(),this.material instanceof n.ShaderMaterial&&Object.values(this.material.uniforms).forEach(a=>{a.value instanceof n.Texture&&a.value.dispose()}),Object.values(this.material).forEach(a=>{a instanceof n.Texture&&a.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(a){this._width=a,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(a){this._height=a,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(a){this._renderTarget=a,this._width=a.width,this._height=a.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}var bs=n;class bt extends Error{}class bu extends Error{}let bv=(a,b,c)=>{let d=RegExp(`${b}="([^"]*)"`,"i").exec(a);if(d)return d[1];let e=RegExp(`<${b}[^>]*>([\\s\\S]*?)</${b}>`,"i").exec(a);if(e){let a=e[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&3===a.length?a.map(a=>a.replace(/<\/?rdf:li>/g,"")):e[1].trim()}if(void 0!==c)return c;throw Error(`Can't find ${b} in gainmap metadata`)};class bw{options;constructor(a){this.options={debug:!!a&&void 0!==a.debug&&a.debug,extractFII:!a||void 0===a.extractFII||a.extractFII,extractNonFII:!a||void 0===a.extractNonFII||a.extractNonFII}}extract(a){return new Promise((b,c)=>{let d,e=this.options.debug,f=new DataView(a.buffer);if(65496!==f.getUint16(0))return void c(Error("Not a valid jpeg"));let g=f.byteLength,h=2,i=0;for(;h<g;){if(++i>250)return void c(Error(`Found no marker after ${i} loops `));if(255!==f.getUint8(h))return void c(Error(`Not a valid marker at offset 0x${h.toString(16)}, found: 0x${f.getUint8(h).toString(16)}`));if(d=f.getUint8(h+1),e&&console.log(`Marker: ${d.toString(16)}`),226===d){e&&console.log("Found APP2 marker (0xffe2)");let a=h+4;if(0x4d504600===f.getUint32(a)){let d,e=a+4;if(18761===f.getUint16(e))d=!1;else{if(19789!==f.getUint16(e))return void c(Error("No valid endianness marker found in TIFF header"));d=!0}if(42!==f.getUint16(e+2,!d))return void c(Error("Not valid TIFF data! (no 0x002A marker)"));let g=f.getUint32(e+4,!d);if(g<8)return void c(Error("Not valid TIFF data! (First offset less than 8)"));let h=e+g,i=f.getUint16(h,!d),j=h+2,k=0;for(let a=j;a<j+12*i;a+=12)45057===f.getUint16(a,!d)&&(k=f.getUint32(a+8,!d));let l=h+2+12*i+4,m=[];for(let a=l;a<l+16*k;a+=16){let b={MPType:f.getUint32(a,!d),size:f.getUint32(a+4,!d),dataOffset:f.getUint32(a+8,!d),dependantImages:f.getUint32(a+12,!d),start:-1,end:-1,isFII:!1};b.dataOffset?(b.start=e+b.dataOffset,b.isFII=!1):(b.start=0,b.isFII=!0),b.end=b.start+b.size,m.push(b)}if(this.options.extractNonFII&&m.length){let a=new Blob([f]),c=[];for(let b of m){if(b.isFII&&!this.options.extractFII)continue;let d=a.slice(b.start,b.end+1,"image/jpeg");c.push(d)}b(c)}}}h+=2+f.getUint16(h+2)}})}}let bx=async a=>{let b=(a=>{let b,c=(b="undefined"!=typeof TextDecoder?new TextDecoder().decode(a):a.toString()).indexOf("<x:xmpmeta");for(;-1!==c;){let a=b.indexOf("x:xmpmeta>",c),d=b.slice(c,a+10);try{let a=bv(d,"hdrgm:GainMapMin","0"),b=bv(d,"hdrgm:GainMapMax"),c=bv(d,"hdrgm:Gamma","1"),e=bv(d,"hdrgm:OffsetSDR","0.015625"),f=bv(d,"hdrgm:OffsetHDR","0.015625"),g=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(d),h=g?g[1]:"0",i=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(d);if(!i)throw Error("Incomplete gainmap metadata");let j=i[1];return{gainMapMin:Array.isArray(a)?a.map(a=>parseFloat(a)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(b)?b.map(a=>parseFloat(a)):[parseFloat(b),parseFloat(b),parseFloat(b)],gamma:Array.isArray(c)?c.map(a=>parseFloat(a)):[parseFloat(c),parseFloat(c),parseFloat(c)],offsetSdr:Array.isArray(e)?e.map(a=>parseFloat(a)):[parseFloat(e),parseFloat(e),parseFloat(e)],offsetHdr:Array.isArray(f)?f.map(a=>parseFloat(a)):[parseFloat(f),parseFloat(f),parseFloat(f)],hdrCapacityMin:parseFloat(h),hdrCapacityMax:parseFloat(j)}}catch(a){}c=b.indexOf("<x:xmpmeta",a)}})(a);if(!b)throw new bu("Gain map XMP metadata not found");let c=new bw({extractFII:!0,extractNonFII:!0}),d=await c.extract(a);if(2!==d.length)throw new bt("Gain map recovery image not found");return{sdr:new Uint8Array(await d[0].arrayBuffer()),gainMap:new Uint8Array(await d[1].arrayBuffer()),metadata:b}},by=a=>new Promise((b,c)=>{let d=document.createElement("img");d.onload=()=>{b(d)},d.onerror=a=>{c(a)},d.src=URL.createObjectURL(a)});class bz extends bs.Loader{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(a,b){super(b),this._config=a,a.renderer&&(this._renderer=a.renderer),this._internalLoadingManager=new bs.LoadingManager}setRenderer(a){return this._renderer=a,this}setRenderTargetOptions(a){return this._renderTargetOptions=a,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let a=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new bs.Texture,sdr:new bs.Texture});return this._config.createQuadRenderer({width:16,height:16,type:bs.HalfFloatType,colorSpace:bs.LinearSRGBColorSpace,material:a,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(a,b,c){let d,e,f=b?new Blob([b],{type:"image/jpeg"}):void 0,g=new Blob([a],{type:"image/jpeg"}),h=!1;if("undefined"==typeof createImageBitmap){let a=await Promise.all([f?by(f):Promise.resolve(void 0),by(g)]);e=a[0],d=a[1],h="flipY"===c}else{let a=await Promise.all([f?createImageBitmap(f,{imageOrientation:c||"flipY"}):Promise.resolve(void 0),createImageBitmap(g,{imageOrientation:c||"flipY"})]);e=a[0],d=a[1]}return{sdrImage:d,gainMapImage:e,needsFlip:h}}createTextures(a,b,c){let d=new bs.Texture(b||new ImageData(2,2),bs.UVMapping,bs.ClampToEdgeWrapping,bs.ClampToEdgeWrapping,bs.LinearFilter,bs.LinearMipMapLinearFilter,bs.RGBAFormat,bs.UnsignedByteType,1,bs.LinearSRGBColorSpace);d.flipY=c,d.needsUpdate=!0;let e=new bs.Texture(a,bs.UVMapping,bs.ClampToEdgeWrapping,bs.ClampToEdgeWrapping,bs.LinearFilter,bs.LinearMipMapLinearFilter,bs.RGBAFormat,bs.UnsignedByteType,1,bs.SRGBColorSpace);return e.flipY=c,e.needsUpdate=!0,{gainMap:d,sdr:e}}updateQuadRenderer(a,b,c,d,e){a.width=b.width,a.height=b.height,a.material.gainMap=c,a.material.sdr=d,a.material.gainMapMin=e.gainMapMin,a.material.gainMapMax=e.gainMapMax,a.material.offsetHdr=e.offsetHdr,a.material.offsetSdr=e.offsetSdr,a.material.gamma=e.gamma,a.material.hdrCapacityMin=e.hdrCapacityMin,a.material.hdrCapacityMax=e.hdrCapacityMax,a.material.maxDisplayBoost=Math.pow(2,e.hdrCapacityMax),a.material.needsUpdate=!0}}var bA=n;let bB=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,bC=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class bD extends bA.ShaderMaterial{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:a,offsetHdr:b,offsetSdr:c,gainMapMin:d,gainMapMax:e,maxDisplayBoost:f,hdrCapacityMin:g,hdrCapacityMax:h,sdr:i,gainMap:j}){super({name:"GainMapDecoderMaterial",vertexShader:bB,fragmentShader:bC,uniforms:{sdr:{value:i},gainMap:{value:j},gamma:{value:new bA.Vector3(1/a[0],1/a[1],1/a[2])},offsetHdr:{value:new bA.Vector3().fromArray(b)},offsetSdr:{value:new bA.Vector3().fromArray(c)},gainMapMin:{value:new bA.Vector3().fromArray(d)},gainMapMax:{value:new bA.Vector3().fromArray(e)},weightFactor:{value:(Math.log2(f)-g)/(h-g)}},blending:bA.NoBlending,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=f,this._hdrCapacityMin=g,this._hdrCapacityMax=h,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(a){this.uniforms.sdr.value=a}get gainMap(){return this.uniforms.gainMap.value}set gainMap(a){this.uniforms.gainMap.value=a}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(a){this.uniforms.offsetHdr.value.fromArray(a)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(a){this.uniforms.offsetSdr.value.fromArray(a)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(a){this.uniforms.gainMapMin.value.fromArray(a)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(a){this.uniforms.gainMapMax.value.fromArray(a)}get gamma(){let a=this.uniforms.gamma.value;return[1/a.x,1/a.y,1/a.z]}set gamma(a){let b=this.uniforms.gamma.value;b.x=1/a[0],b.y=1/a[1],b.z=1/a[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(a){this._hdrCapacityMin=a,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(a){this._hdrCapacityMax=a,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(a){this._maxDisplayBoost=Math.max(1,Math.min(65504,a)),this.calculateWeight()}calculateWeight(){let a=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,a))}}d={renderer:m.WebGLRenderer,createMaterial:a=>new bD(a),createQuadRenderer:a=>new br(a)},a=>{let{sdr:b,gainMap:c,renderer:e}=a;b.colorSpace!==bs.SRGBColorSpace&&(console.warn("SDR Colorspace needs to be *SRGBColorSpace*, setting it automatically"),b.colorSpace=bs.SRGBColorSpace),b.needsUpdate=!0,c.colorSpace!==bs.LinearSRGBColorSpace&&(console.warn("Gainmap Colorspace needs to be *LinearSRGBColorSpace*, setting it automatically"),c.colorSpace=bs.LinearSRGBColorSpace),c.needsUpdate=!0;let f=d.createMaterial({...a,sdr:b,gainMap:c});return d.createQuadRenderer({width:b.image.width,height:b.image.height,type:bs.HalfFloatType,colorSpace:bs.LinearSRGBColorSpace,material:f,renderer:e,renderTargetOptions:a.renderTargetOptions})};class bE extends bz{constructor(a,b){super({renderer:a,createMaterial:a=>new bD(a),createQuadRenderer:a=>new br(a)},b)}async render(a,b,c,d){let{sdrImage:e,gainMapImage:f,needsFlip:g}=await this.processImages(c,d,"flipY"),{gainMap:h,sdr:i}=this.createTextures(e,f,g);this.updateQuadRenderer(a,e,h,i,b),a.render()}}class bF extends bE{load([a,b,c],d,e,f){let g,h,i,j=this.prepareQuadRenderer(),k=async()=>{if(g&&h&&i){try{await this.render(j,i,g,h)}catch(d){this.manager.itemError(a),this.manager.itemError(b),this.manager.itemError(c),"function"==typeof f&&f(d),j.disposeOnDemandRenderer();return}"function"==typeof d&&d(j),this.manager.itemEnd(a),this.manager.itemEnd(b),this.manager.itemEnd(c),j.disposeOnDemandRenderer()}},l=!0,m=0,n=0,o=!0,p=0,q=0,r=!0,s=0,t=0,u=()=>{"function"==typeof e&&e(new ProgressEvent("progress",{lengthComputable:l&&o&&r,loaded:n+q+t,total:m+p+s}))};this.manager.itemStart(a),this.manager.itemStart(b),this.manager.itemStart(c);let v=new bA.FileLoader(this._internalLoadingManager);v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setPath(this.path),v.setWithCredentials(this.withCredentials),v.load(a,async a=>{if("string"==typeof a)throw Error("Invalid sdr buffer");g=a,await k()},a=>{l=a.lengthComputable,n=a.loaded,m=a.total,u()},b=>{this.manager.itemError(a),"function"==typeof f&&f(b)});let w=new bA.FileLoader(this._internalLoadingManager);w.setResponseType("arraybuffer"),w.setRequestHeader(this.requestHeader),w.setPath(this.path),w.setWithCredentials(this.withCredentials),w.load(b,async a=>{if("string"==typeof a)throw Error("Invalid gainmap buffer");h=a,await k()},a=>{o=a.lengthComputable,q=a.loaded,p=a.total,u()},a=>{this.manager.itemError(b),"function"==typeof f&&f(a)});let x=new bA.FileLoader(this._internalLoadingManager);return x.setRequestHeader(this.requestHeader),x.setPath(this.path),x.setWithCredentials(this.withCredentials),x.load(c,async a=>{if("string"!=typeof a)throw Error("Invalid metadata string");i=JSON.parse(a),await k()},a=>{r=a.lengthComputable,t=a.loaded,s=a.total,u()},a=>{this.manager.itemError(c),"function"==typeof f&&f(a)}),j}}class bG extends bE{load(a,b,c,d){let e=this.prepareQuadRenderer(),f=new bA.FileLoader(this._internalLoadingManager);return f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setPath(this.path),f.setWithCredentials(this.withCredentials),this.manager.itemStart(a),f.load(a,async c=>{let f,g,h;if("string"==typeof c)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let i=new Uint8Array(c);try{let a=await bx(i);f=a.sdr,g=a.gainMap,h=a.metadata}catch(b){if(b instanceof bu||b instanceof bt)console.warn(`Failure to reconstruct an HDR image from ${a}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),h={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},f=i;else throw b}try{await this.render(e,h,f.buffer,g?.buffer)}catch(b){this.manager.itemError(a),"function"==typeof d&&d(b),e.disposeOnDemandRenderer();return}"function"==typeof b&&b(e),this.manager.itemEnd(a),e.disposeOnDemandRenderer()},c,b=>{this.manager.itemError(a),"function"==typeof d&&d(b)}),e}}let bH={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},bI="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",bJ=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function bK({files:a=bJ,path:b="",preset:c,colorSpace:d,extensions:e}={}){c&&(bN(c),a=bH[c],b=bI);let f=Array.isArray(a),{extension:h,isCubemap:i}=bO(a),j=bP(h);if(!j)throw Error("useEnvironment: Unrecognized file extension: "+a);let k=(0,v.useThree)(a=>a.gl);(0,g.useLayoutEffect)(()=>{("webp"===h||"jpg"===h||"jpeg"===h)&&k.domElement.addEventListener("webglcontextlost",function(){C.useLoader.clear(j,f?[a]:a)},{once:!0})},[a,k.domElement]);let l=(0,C.useLoader)(j,f?[a]:a,a=>{("webp"===h||"jpg"===h||"jpeg"===h)&&a.setRenderer(k),null==a.setPath||a.setPath(b),e&&e(a)}),m=f?l[0]:l;if("jpg"===h||"jpeg"===h||"webp"===h){var o;m=null==(o=m.renderTarget)?void 0:o.texture}return m.mapping=i?n.CubeReflectionMapping:n.EquirectangularReflectionMapping,m.colorSpace=null!=d?d:i?"srgb":"srgb-linear",m}let bL={files:bJ,path:"",preset:void 0,extensions:void 0};bK.preload=a=>{let b={...bL,...a},{files:c,path:d=""}=b,{preset:e,extensions:f}=b;e&&(bN(e),c=bH[e],d=bI);let{extension:g}=bO(c);if("webp"===g||"jpg"===g||"jpeg"===g)throw Error("useEnvironment: Preloading gainmaps is not supported");let h=bP(g);if(!h)throw Error("useEnvironment: Unrecognized file extension: "+c);C.useLoader.preload(h,Array.isArray(c)?[c]:c,a=>{null==a.setPath||a.setPath(d),f&&f(a)})};let bM={files:bJ,preset:void 0};function bN(a){if(!(a in bH))throw Error("Preset must be one of: "+Object.keys(bH).join(", "))}function bO(a){var b;let c=Array.isArray(a)&&6===a.length,d=Array.isArray(a)&&3===a.length&&a.some(a=>a.endsWith("json")),e=Array.isArray(a)?a[0]:a;return{extension:c?"cube":d?"webp":e.startsWith("data:application/exr")?"exr":e.startsWith("data:application/hdr")?"hdr":e.startsWith("data:image/jpeg")?"jpg":null==(b=e.split(".").pop())||null==(b=b.split("?"))||null==(b=b.shift())?void 0:b.toLowerCase(),isCubemap:c,isGainmap:d}}function bP(a){return"cube"===a?n.CubeTextureLoader:"hdr"===a?E:"exr"===a?bp:"jpg"===a||"jpeg"===a?bG:"webp"===a?bF:null}function bQ(a,b,c,d,e={}){var f,g,h,i,j;let k;e={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...e};let l=(k=j=b||c).current&&k.current.isScene?j.current:j,m=l.background,n=l.environment,o={backgroundBlurriness:l.backgroundBlurriness,backgroundIntensity:l.backgroundIntensity,backgroundRotation:null!=(f=null==(g=l.backgroundRotation)||null==g.clone?void 0:g.clone())?f:[0,0,0],environmentIntensity:l.environmentIntensity,environmentRotation:null!=(h=null==(i=l.environmentRotation)||null==i.clone?void 0:i.clone())?h:[0,0,0]};return"only"!==a&&(l.environment=d),a&&(l.background=d),(0,x.s)(l,e),()=>{"only"!==a&&(l.environment=n),a&&(l.background=m),(0,x.s)(l,o)}}function bR({scene:a,background:b=!1,map:c,...d}){let e=(0,v.useThree)(a=>a.scene);return g.useLayoutEffect(()=>{if(c)return bQ(b,a,e,c,d)}),null}function bS({background:a=!1,scene:b,blur:c,backgroundBlurriness:d,backgroundIntensity:e,backgroundRotation:f,environmentIntensity:h,environmentRotation:i,...j}){let k=bK(j),l=(0,v.useThree)(a=>a.scene);return g.useLayoutEffect(()=>bQ(a,b,l,k,{backgroundBlurriness:null!=c?c:d,backgroundIntensity:e,backgroundRotation:f,environmentIntensity:h,environmentRotation:i})),g.useEffect(()=>()=>{k.dispose()},[k]),null}function bT({children:a,near:b=.1,far:c=1e3,resolution:d=256,frames:e=1,map:f,background:h=!1,blur:i,backgroundBlurriness:j,backgroundIntensity:k,backgroundRotation:m,environmentIntensity:o,environmentRotation:p,scene:q,files:r,path:s,preset:t,extensions:u}){let x=(0,v.useThree)(a=>a.gl),y=(0,v.useThree)(a=>a.scene),z=g.useRef(null),[A]=g.useState(()=>new n.Scene),B=g.useMemo(()=>{let a=new n.WebGLCubeRenderTarget(d);return a.texture.type=n.HalfFloatType,a},[d]);g.useEffect(()=>()=>{B.dispose()},[B]),g.useLayoutEffect(()=>{if(1===e){let a=x.autoClear;x.autoClear=!0,z.current.update(x,A),x.autoClear=a}return bQ(h,q,y,B.texture,{backgroundBlurriness:null!=i?i:j,backgroundIntensity:k,backgroundRotation:m,environmentIntensity:o,environmentRotation:p})},[a,A,B.texture,q,y,h,e,x]);let C=1;return(0,w.useFrame)(()=>{if(e===1/0||C<e){let a=x.autoClear;x.autoClear=!0,z.current.update(x,A),x.autoClear=a,C++}}),g.createElement(g.Fragment,null,(0,l.o)(g.createElement(g.Fragment,null,a,g.createElement("cubeCamera",{ref:z,args:[b,c,B]}),r||t?g.createElement(bS,{background:!0,files:r,preset:t,path:s,extensions:u}):f?g.createElement(bR,{background:!0,map:f,extensions:u}):null),A))}function bU(a){var b,c,d,e;let f=bK(a),h=a.map||f;g.useMemo(()=>(0,y.extend)({GroundProjectedEnvImpl:B}),[]),g.useEffect(()=>()=>{f.dispose()},[f]);let i=g.useMemo(()=>[h],[h]),j=null==(b=a.ground)?void 0:b.height,k=null==(c=a.ground)?void 0:c.radius,l=null!=(d=null==(e=a.ground)?void 0:e.scale)?d:1e3;return g.createElement(g.Fragment,null,g.createElement(bR,(0,u.default)({},a,{map:h})),g.createElement("groundProjectedEnvImpl",{args:i,scale:l,height:j,radius:k}))}function bV(a){return a.ground?g.createElement(bU,a):a.map?g.createElement(bR,a):a.children?g.createElement(bT,a):g.createElement(bS,a)}bK.clear=a=>{let b={...bM,...a},{files:c}=b,{preset:d}=b;d&&(bN(d),c=bH[d]);let{extension:e}=bO(c),f=bP(e);if(!f)throw Error("useEnvironment: Unrecognized file extension: "+c);C.useLoader.clear(f,Array.isArray(c)?[c]:c)};var bW=a.i(48580);let bX=g.forwardRef(({envMap:a,resolution:b=256,frames:c=1/0,makeDefault:d,children:e,...f},h)=>{let i=(0,v.useThree)(({set:a})=>a),j=(0,v.useThree)(({camera:a})=>a),k=(0,v.useThree)(({size:a})=>a),l=g.useRef(null);g.useImperativeHandle(h,()=>l.current,[]);let m=g.useRef(null),n=(0,bW.useFBO)(b);g.useLayoutEffect(()=>{f.manual||(l.current.aspect=k.width/k.height)},[k,f]),g.useLayoutEffect(()=>{l.current.updateProjectionMatrix()});let o=0,p=null,q="function"==typeof e;return(0,w.useFrame)(b=>{q&&(c===1/0||o<c)&&(m.current.visible=!1,b.gl.setRenderTarget(n),p=b.scene.background,a&&(b.scene.background=a),b.gl.render(b.scene,l.current),b.scene.background=p,b.gl.setRenderTarget(null),m.current.visible=!0,o++)}),g.useLayoutEffect(()=>{if(d)return i(()=>({camera:l.current})),()=>i(()=>({camera:j}))},[l,d,i]),g.createElement(g.Fragment,null,g.createElement("perspectiveCamera",(0,u.default)({ref:l},f),!q&&e),g.createElement("group",{ref:m},q&&e(n.texture)))});var x=l;let bY=g.forwardRef(({light:a,args:b,map:c,toneMapped:d=!1,color:e="white",form:f="rect",intensity:h=1,scale:i=1,target:j=[0,0,0],children:k,...l},m)=>{let o=g.useRef(null);return g.useImperativeHandle(m,()=>o.current,[]),g.useLayoutEffect(()=>{k||l.material||((0,x.s)(o.current.material,{color:e}),o.current.material.color.multiplyScalar(h))},[e,h,k,l.material]),g.useLayoutEffect(()=>{l.rotation||o.current.quaternion.identity(),j&&!l.rotation&&("boolean"==typeof j?o.current.lookAt(0,0,0):o.current.lookAt(Array.isArray(j)?new n.Vector3(...j):j))},[j,l.rotation]),i=Array.isArray(i)&&2===i.length?[i[0],i[1],1]:i,g.createElement("mesh",(0,u.default)({ref:o,scale:i},l),"circle"===f?g.createElement("ringGeometry",{args:b||[0,.5,64]}):"ring"===f?g.createElement("ringGeometry",{args:b||[.25,.5,64]}):"rect"===f||"plane"===f?g.createElement("planeGeometry",{args:b||[1,1]}):"box"===f?g.createElement("boxGeometry",{args:b||[1,1,1]}):g.createElement(f,{args:b}),k||g.createElement("meshBasicMaterial",{toneMapped:d,map:c,side:n.DoubleSide}),a&&g.createElement("pointLight",(0,u.default)({castShadow:!0},a)))});var bZ=a.i(12903);let b$=a=>{let b=(0,bZ.createStore)(a),c=a=>(function(a,b=a=>a){let c=g.default.useSyncExternalStore(a.subscribe,g.default.useCallback(()=>b(a.getState()),[a,b]),g.default.useCallback(()=>b(a.getInitialState()),[a,b]));return g.default.useDebugValue(c),c})(b,a);return Object.assign(c,b),c},b_=0,b0=(c=a=>(n.DefaultLoadingManager.onStart=(b,c,d)=>{a({active:!0,item:b,loaded:c,total:d,progress:(c-b_)/(d-b_)*100})},n.DefaultLoadingManager.onLoad=()=>{a({active:!1})},n.DefaultLoadingManager.onError=b=>a(a=>({errors:[...a.errors,b]})),n.DefaultLoadingManager.onProgress=(b,c,d)=>{c===d&&(b_=d),a({active:!0,item:b,loaded:c,total:d,progress:(c-b_)/(d-b_)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}))?b$(c):b$;var b1=a.i(21216);let b2=function(){let a=(0,b1.useReducedMotion)(),[b,c]=(0,g.useState)(a??!1);return(0,g.useEffect)(()=>{},[a]),b},b3=(0,g.lazy)(()=>a.A(42261)),b4=({onProgress:a})=>{let{progress:b}=b0();return(0,g.useEffect)(()=>{a(b)},[b,a]),null},b5=({className:a,reduceMotion:b=!1})=>{let[c,d]=(0,g.useState)(!1),[e,h]=(0,g.useState)(),[i,j]=(0,g.useState)(0),[k,l]=(0,g.useState)(!1),m=(0,g.useRef)(null),n=b2(),o=function(){let[a,b]=(0,g.useState)(()=>!1);return(0,g.useEffect)(()=>{let a=window.matchMedia("(max-width: 768px)"),c=a=>{b(a.matches)};return a.addEventListener?.("change",c),()=>{a.removeEventListener?.("change",c)}},[]),a}(),p=b||n,q=(0,g.useCallback)(a=>{j(a)},[]);(0,g.useEffect)(()=>{d(!0)},[]),(0,g.useEffect)(()=>{if(!c||"undefined"==typeof document)return;let a=document.getElementById("hero");a?h(a):m.current?h(m.current):h(document.body)},[c]),(0,g.useEffect)(()=>{if(i>=100){let a=setTimeout(()=>l(!0),600);return()=>clearTimeout(a)}l(!1)},[i]);let r=`relative flex h-full w-full items-center justify-center pointer-events-none ${a??""}`;return c?(0,f.jsxs)("div",{ref:m,className:r,children:[(0,f.jsx)(g.Suspense,{fallback:(0,f.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-sm text-white/70 bg-transparent",children:"Carregando orb 3D..."}),children:(0,f.jsxs)(t,{frameloop:p?"demand":"always",dpr:[1,1.5],gl:{alpha:!0,antialias:!p,toneMappingExposure:1.05},camera:{position:[0,0,3.5],fov:42},eventSource:e,eventPrefix:"client",children:[(0,f.jsx)(b4,{onProgress:q}),(0,f.jsx)(bX,{makeDefault:!0,position:[0,0,3.5],fov:42}),(0,f.jsx)("ambientLight",{intensity:.42}),(0,f.jsx)("spotLight",{position:[10,10,10],angle:.18,penumbra:1,intensity:.85}),(0,f.jsx)("pointLight",{position:[-10,-10,-10],intensity:.8,color:"#0057FF"}),(0,f.jsxs)(g.Suspense,{fallback:(0,f.jsxs)("mesh",{children:[(0,f.jsx)("sphereGeometry",{args:[1,16,16]}),(0,f.jsx)("meshStandardMaterial",{color:"#9dbdff",transparent:!0,opacity:.15})]}),children:[(0,f.jsx)(b3,{reduceMotion:p,isMobile:o}),(0,f.jsx)(bV,{preset:"city",background:!1,blur:.9,children:!p&&(0,f.jsxs)("group",{rotation:[-Math.PI/2,0,0],children:[(0,f.jsx)(bY,{intensity:3.6,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]}),(0,f.jsx)(bY,{intensity:1.8,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[20,.1,1]}),(0,f.jsx)(bY,{intensity:1.8,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[20,.5,1]}),(0,f.jsx)(bY,{intensity:1.8,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[20,1,1]})]})})]})]})}),!k&&(0,f.jsxs)("div",{"aria-hidden":"true",className:`pointer-events-none absolute inset-0 flex flex-col items-center justify-center gap-3 bg-gradient-to-b from-[#050509]/90 to-transparent text-white transition-opacity duration-500 ${i>=100?"opacity-0":"opacity-100"}`,children:[(0,f.jsx)("span",{className:"text-xs uppercase tracking-[0.3em] text-white/80",children:"carregando orb 3D"}),(0,f.jsxs)("span",{className:"text-sm font-medium tracking-wide",children:[Math.min(Math.max(Math.round(i),0),100),"%"]}),(0,f.jsx)("div",{className:"h-[2px] w-28 overflow-hidden rounded-full bg-white/20",children:(0,f.jsx)("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${Math.min(Math.max(i,0),100)}%`}})})]})]}):(0,f.jsx)("div",{className:r,children:(0,f.jsx)("div",{className:"absolute inset-0 bg-transparent"})})};var b6=a.i(32860),b7=a.i(52255);let b8=({text:a,className:b,delay:c=0,colorClass:d="text-[#111111]"})=>{let e=a.split(""),g={hidden:{y:"110%",opacity:0},visible:{y:0,opacity:1,transition:{duration:1,ease:[.22,1,.36,1]}}};return(0,f.jsx)(h.motion.div,{className:`flex overflow-hidden ${b}`,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.03,delayChildren:c}}},initial:"hidden",whileInView:"visible",viewport:{once:!0},children:e.map((a,b)=>(0,f.jsx)(h.motion.span,{variants:g,className:`block ${d} leading-[0.9]`,children:" "===a?"":a},`${a}-${b}`))})};a.s(["default",0,()=>{let a=(0,g.useRef)(null),b=(0,g.useRef)(null),{scrollYProgress:c}=(0,j.useScroll)({target:a,offset:["start start","end end"]});(0,i.useMotionValueEvent)(c,"change",a=>{b.current&&(a>.01?b.current.muted=!1:b.current.muted=!0)});let d=(0,k.useTransform)(c,[0,.15],[1,0]),e=(0,k.useTransform)(c,[0,.15],[1,.95]),l=(0,k.useTransform)(c,[0,.15],[0,-50]),m=(0,k.useTransform)(c,[0,.1],[1,0]),n=(0,k.useTransform)(c,[0,.2],[1,.8]),o=(0,k.useTransform)(c,[0,.25],[.25,1]),p=(0,k.useTransform)(c,[0,.25],["35%","0%"]),q=(0,k.useTransform)(c,[0,.25],["30%","0%"]),r=(0,k.useTransform)(c,[0,.2],[12,0]);return(0,f.jsxs)("section",{id:"hero",ref:a,className:"relative w-full bg-[#F4F5F7] md:h-[450vh]",children:[(0,f.jsxs)("div",{className:"md:hidden flex flex-col items-center text-center px-6 pt-24 pb-12 gap-6",children:[(0,f.jsx)("div",{className:"relative w-full flex justify-center",children:(0,f.jsx)("div",{className:"relative h-[220px] w-[220px]",children:(0,f.jsx)(b5,{})})}),(0,f.jsxs)("div",{className:"flex flex-col items-center gap-2 leading-[1.05] text-5xl font-extrabold tracking-tight text-[#111111]",children:[(0,f.jsxs)(h.motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"flex flex-wrap items-baseline justify-center gap-2",children:[(0,f.jsx)("span",{className:"text-[#0057FF]",children:"Design,"}),(0,f.jsx)("span",{className:"text-[#111111]",children:"no "})]}),(0,f.jsx)(h.motion.span,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut",delay:.1},className:"text-[#111111]",children:"s esttica."})]}),(0,f.jsx)(h.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,ease:"easeOut",delay:.2},className:"text-[#0057FF] text-base font-medium tracking-wide",children:"[ inteno,  estratgia,  experincia.]"}),(0,f.jsxs)(h.motion.a,{href:"/sobre",initial:{opacity:0,y:14},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut",delay:.3},className:"group inline-flex items-center justify-center gap-3 rounded-full bg-[#0057FF] px-7 py-3 text-sm font-semibold text-white shadow-[0_10px_24px_-12px_rgba(0,87,255,0.6)] transition-transform duration-300",children:["get to know me better",(0,f.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-white text-[#0057FF] shadow-[0_6px_14px_rgba(0,87,255,0.25)] transition-transform duration-300 group-hover:translate-x-0.5",children:(0,f.jsx)(b6.ArrowRight,{className:"w-4 h-4"})})]})]}),(0,f.jsx)("div",{className:"md:hidden relative w-screen -mx-6 mt-8 aspect-375/330 min-h-[300px] overflow-hidden",children:(0,f.jsx)("video",{src:b7.ASSETS.videoManifesto,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 h-full w-full object-cover"})}),(0,f.jsxs)("div",{className:"hidden md:flex sticky top-0 h-screen w-full overflow-hidden items-center justify-center",children:[(0,f.jsx)(h.motion.div,{initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.9,ease:"easeOut",delay:.15},style:{opacity:m,scale:n},className:"absolute inset-0 z-[-1] pointer-events-auto",children:(0,f.jsx)(b5,{})}),(0,f.jsxs)(h.motion.div,{style:{opacity:d,scale:e,y:l},className:"absolute inset-0 container mx-auto px-6 md:px-12 lg:px-16 h-full z-10 pointer-events-none flex",children:[(0,f.jsx)(h.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1,duration:.8,ease:"easeOut"},className:"absolute right-6 md:right-12 top-1/2 -translate-y-1/2 hidden md:block",children:(0,f.jsx)("span",{className:"text-[#0057FF] font-medium tracking-widest text-lg md:text-xl",children:"[ BRAND AWARENESS ]"})}),(0,f.jsxs)("div",{className:"flex flex-col justify-center items-center md:items-start text-center md:text-left h-full pt-24 md:pt-0 max-w-4xl mx-auto md:mx-0 gap-6 md:gap-0",children:[(0,f.jsxs)("div",{className:"text-[clamp(3rem,7vw,7.5rem)] font-extrabold tracking-[-0.04em] mb-6 md:mb-10 font-sans flex flex-col items-center md:items-start gap-1",children:[(0,f.jsxs)("div",{className:"md:hidden flex flex-col leading-[0.9]",children:[(0,f.jsx)(h.motion.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8,ease:"easeOut"},className:"text-[#0057FF]",children:"Design,"}),(0,f.jsx)(h.motion.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8,ease:"easeOut"},className:"text-[#111111]",children:"no  s"}),(0,f.jsx)(h.motion.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8,ease:"easeOut"},className:"text-[#111111]",children:"esttica."})]}),(0,f.jsxs)("div",{className:"hidden md:flex flex-col items-start gap-0",children:[(0,f.jsx)(b8,{text:"Design,",delay:.2,colorClass:"text-[#0057FF]"}),(0,f.jsx)(b8,{text:"no  s",delay:.5,colorClass:"text-[#111111]"}),(0,f.jsx)(b8,{text:"esttica.",delay:.8,colorClass:"text-[#111111]"})]})]}),(0,f.jsx)(h.motion.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:1.2,ease:"easeOut",delay:1.2},className:"mb-10 md:mb-14 relative w-full flex justify-center md:justify-start",children:(0,f.jsx)("p",{className:"text-[#0057FF] text-lg md:text-xl font-medium tracking-wide bg-white/5 backdrop-blur-sm rounded-lg pr-4 inline-block",children:"[  inteno,  estratgia,  experincia. ]"})}),(0,f.jsx)(h.motion.div,{className:"pointer-events-auto w-full flex justify-center md:justify-start",children:(0,f.jsxs)(h.motion.a,{href:"/sobre",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,ease:[.22,1,.36,1],delay:1.4},whileHover:{scale:1.05,boxShadow:"0 10px 30px -10px rgba(0, 87, 255, 0.5)"},whileTap:{scale:.98},className:"group bg-[#0057FF] text-white rounded-full pl-8 pr-6 py-4 flex items-center gap-3 font-semibold text-base md:text-lg shadow-xl shadow-[#0057FF]/20 transition-all",children:["get to know me better",(0,f.jsx)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/20 group-hover:bg-white/30 transition-colors",children:(0,f.jsx)(b6.ArrowRight,{className:"w-4 h-4 text-white"})})]})})]})]}),(0,f.jsx)(h.motion.div,{style:{scale:o,x:p,y:q,borderRadius:r},className:"absolute z-40 w-full h-full flex items-center justify-center overflow-hidden shadow-2xl origin-center bg-black pointer-events-none",children:(0,f.jsx)("div",{className:"relative w-full h-full block group pointer-events-auto",children:(0,f.jsx)("video",{ref:b,src:b7.ASSETS.videoManifesto,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover transition-opacity duration-500"})})})]})]})}],31479)},91930,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(52255),g=a.i(32860),h=a.i(22520);a.s(["default",0,()=>{let[a,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null);return(0,b.jsx)("section",{id:"portfolio-showcase",className:"relative w-full bg-[#f5f5f5] py-24 overflow-hidden min-h-screen flex flex-col justify-center items-center",children:(0,b.jsxs)("div",{className:"container mx-auto px-5 md:px-8 max-w-[92%] md:max-w-7xl relative z-10",children:[(0,b.jsx)("div",{className:"flex flex-col w-full mb-12 items-center text-center",children:(0,b.jsx)("div",{className:"w-full flex justify-center mb-8",children:(0,b.jsxs)("h2",{className:"text-center text-4xl md:text-6xl font-bold tracking-tight",children:[(0,b.jsx)("span",{className:"text-[#0057FF]",children:"portflio"})," ",(0,b.jsx)("span",{className:"text-[#111111]",children:"showcase"})]})})}),(0,b.jsx)("div",{className:"flex flex-col w-full border-t border-neutral-300",children:(0,b.jsx)(e.AnimatePresence,{initial:!1,mode:"sync",children:f.CATEGORIES.map((c,f)=>{let l=j===c.id,m=null!==j&&!l,n=a===c.id,o=(a=>{switch(a){case 0:return"justify-end";case 1:return"justify-center";default:return"justify-start"}})(f),p=(a=>{switch(a){case 0:return"items-start text-left md:items-end md:text-right";case 1:return"items-start text-left md:items-center md:text-center";default:return"items-start text-left md:items-start md:text-left"}})(f),q="websites-webcampaigns-tech"===c.id;return m?null:(0,b.jsxs)(d.motion.div,{layout:!0,initial:!1,animate:{opacity:1},exit:{opacity:0},transition:{layout:{duration:.45,ease:[.22,1,.36,1]},opacity:{duration:.2}},onClick:()=>{var a;return a=c.id,void(i(null),k(b=>b===a?null:a))},className:`
                    relative border-b border-neutral-300 group cursor-pointer w-full
                    ${l?"border-none":""}
                  `,onMouseEnter:()=>!l&&i(c.id),onMouseLeave:()=>i(null),children:[0===f&&!l&&(0,b.jsx)("div",{className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 z-10 pointer-events-none",children:(0,b.jsx)("span",{className:"text-[10px] md:text-xs text-gray-400 font-medium tracking-[0.25em] uppercase",children:"[ what we love working on ]"})}),(0,b.jsxs)(d.motion.div,{layout:"position",className:`flex w-full transition-all duration-500 ease-out
                      ${l?"py-8 flex-col items-center md:items-start gap-8":"py-10 md:py-14 gap-6 md:gap-0 flex-row items-center justify-between md:justify-start"}
                      ${!l?`md:${o}`:""}
                    `,children:[(0,b.jsxs)("div",{className:`relative w-full ${l?"flex flex-col items-center gap-6 w-full md:flex-row md:items-start":"flex items-center flex-row justify-between gap-6 flex-nowrap"}`,children:[(0,b.jsx)(e.AnimatePresence,{children:n&&!l&&(0,b.jsx)(d.motion.div,{initial:{width:0,opacity:0,marginRight:0},animate:{width:140,opacity:1,marginRight:24},exit:{width:0,opacity:0,marginRight:0},transition:{duration:.4,ease:[.33,1,.68,1]},className:"hidden md:block h-20 relative overflow-hidden rounded-md shrink-0 origin-right order-first",children:(0,b.jsx)("img",{src:c.thumbnailUrl,alt:"",className:"absolute inset-0 w-full h-full object-cover"})})}),(0,b.jsx)("div",{className:`flex flex-1 flex-col min-w-0 ${p}`,children:q&&!l?(0,b.jsxs)(d.motion.h3,{layout:"position",className:"font-light text-[#111111] transition-all duration-300 tracking-tight leading-tight md:leading-none text-2xl sm:text-3xl md:text-5xl lg:text-6xl group-hover:text-[#0057FF]",children:[(0,b.jsx)("span",{className:"block",children:"Web Campaigns,"}),(0,b.jsx)("span",{className:"block",children:"Websites & Tech"})]}):(0,b.jsx)(d.motion.h3,{layout:"position",className:`
                              font-light text-[#111111] transition-all duration-300 tracking-tight leading-tight md:leading-[1.1] group-hover:text-[#0057FF]
                              ${l?"text-3xl md:text-6xl":"text-2xl sm:text-3xl md:text-5xl lg:text-6xl"}
                            `,children:c.label})}),(0,b.jsx)(d.motion.div,{layout:"position",className:`
                          flex items-center justify-center rounded-full bg-[#0057FF] text-white shrink-0 transition-all duration-500 shadow-sm
                          ${l?"w-12 h-12 md:w-16 md:h-16":"w-8 h-8 md:w-12 md:h-12"}
                          ${q&&!l?"self-end md:self-end mb-1":"self-center md:self-auto"} /* Alinha \xedcone com a \xfaltima linha no item 3 */
                        `,children:(0,b.jsx)(d.motion.div,{animate:{rotate:90*!!l},transition:{duration:.4},children:(0,b.jsx)(g.ArrowRight,{className:`${l?"w-6 h-6":"w-4 h-4 md:w-6 md:h-6"}`})})})]}),l&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"w-full mt-4 flex flex-col md:flex-row gap-8 md:gap-16 text-center md:text-left",children:[(0,b.jsx)("div",{className:"w-full md:w-1/2 aspect-video rounded-lg overflow-hidden bg-gray-200 shadow-lg",children:(0,b.jsx)("img",{src:c.thumbnailUrl,alt:c.label,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700"})}),(0,b.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-between py-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed mb-10 font-light",children:["Explorando os limites da criatividade em"," ",(0,b.jsx)("span",{className:"text-[#0057FF] font-medium",children:c.label.replace(",","").toLowerCase()}),". Nossos projetos combinam estratgia e design para criar experincias memorveis."]}),(0,b.jsx)("h4",{className:"text-sm uppercase tracking-widest text-gray-500 mb-6 font-bold border-b border-gray-100 pb-2",children:"Destaques"}),(0,b.jsx)("ul",{className:"space-y-4 mb-10",children:[1,2,3].map(a=>(0,b.jsxs)("li",{className:"flex items-center gap-4 text-lg md:text-xl font-medium text-[#111111] group/item cursor-pointer",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#0057FF] group-hover/item:scale-150 transition-transform"}),(0,b.jsxs)("span",{className:"group-hover/item:translate-x-2 transition-transform",children:["Projeto Exemplo ",a]})]},a))})]}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsxs)("a",{href:`/portfolio?category=${c.id}`,className:"inline-flex items-center gap-3 text-[#0057FF] font-bold text-lg md:text-xl hover:underline underline-offset-8 decoration-2",children:["Ver todos os projetos",(0,b.jsx)(h.ArrowUpRight,{className:"w-6 h-6"})]})})]})]})]})]},c.id)})})}),!j&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-24 md:mt-32 flex justify-center w-full",children:(0,b.jsxs)(d.motion.a,{href:"/#contact",whileHover:{scale:1.05},whileTap:{scale:.95},className:"group relative inline-flex items-center gap-4 rounded-full bg-[#0057FF] px-10 py-5 md:px-12 md:py-6 text-white shadow-xl hover:shadow-[#0057FF]/40 transition-all duration-300",children:[(0,b.jsx)("span",{className:"text-lg md:text-xl font-semibold tracking-wide",children:"lets build something great"}),(0,b.jsx)("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/20 group-hover:bg-white text-[#0057FF] transition-colors duration-300",children:(0,b.jsx)(h.ArrowUpRight,{className:"w-4 h-4 text-white group-hover:text-[#0057FF]"})})]})}),j&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-16 flex justify-start border-t border-neutral-200 pt-8",children:(0,b.jsxs)("button",{onClick:()=>k(null),className:"text-gray-500 hover:text-[#0057FF] text-sm tracking-widest uppercase font-bold flex items-center gap-3 group",children:[(0,b.jsx)("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," ","Voltar para a lista"]})})]})})}])},27934,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(21216),f=a.i(71987),g=a.i(52255),h=a.i(32860),i=a.i(22520);let j={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut",staggerChildren:.08}}},k={hidden:{opacity:0,y:28},visible:{opacity:1,y:0,transition:{duration:.75,ease:"easeOut"}}},l={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",delay:.05}}};a.s(["default",0,()=>{let a=(0,e.useReducedMotion)(),m=({project:e})=>{let g=(0,c.useMemo)(()=>{let a=[];return e.category&&a.push(e.category),e.displayCategory&&e.displayCategory!==e.category&&a.push(...e.displayCategory.split("&").map(a=>a.trim()).filter(Boolean)),Array.from(new Set(a))},[e.category,e.displayCategory]);return(0,b.jsxs)(d.motion.a,{href:`/portfolio/${e.slug}`,variants:k,className:"group relative flex w-full flex-col gap-4 outline-none focus-visible:ring-2 focus-visible:ring-[#0057FF] focus-visible:ring-offset-2 focus-visible:ring-offset-[#F4F5F7]",children:[(0,b.jsxs)("div",{className:"relative w-full overflow-hidden rounded-[6px] bg-[#0f0f11] h-[360px] md:h-[500px]",children:[(0,b.jsx)(d.motion.div,{className:"absolute inset-0",whileHover:a?void 0:{scale:1.05},transition:{duration:.7,ease:[.22,1,.36,1]},children:(0,b.jsx)(f.default,{src:e.imageUrl,alt:e.title,fill:!0,sizes:"(min-width: 1280px) 60vw, (min-width: 1024px) 70vw, (min-width: 768px) 90vw, 100vw",className:"object-cover brightness-[0.98]",priority:e.isHero})}),(0,b.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/45 via-black/15 to-transparent"}),(0,b.jsx)("div",{className:"absolute right-3 top-3 z-10 flex flex-wrap gap-2",children:g.map(a=>(0,b.jsx)("span",{className:"rounded-full bg-white/18 px-3 py-1 text-[10px] font-light uppercase tracking-[0.14em] text-white backdrop-blur-sm",children:a},a))})]}),(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(d.motion.h3,{variants:l,className:"text-base md:text-lg font-semibold text-[#111111] tracking-tight",children:e.title}),(0,b.jsx)(d.motion.p,{variants:l,className:"text-sm font-light uppercase tracking-[0.12em] text-neutral-600",children:e.client||""})]}),(0,b.jsx)(d.motion.span,{whileHover:a?void 0:{scale:1.08,boxShadow:"0 10px 24px -12px rgba(0,87,255,0.65)"},whileTap:a?void 0:{scale:.95},transition:{duration:.25,ease:"easeOut"},className:"mt-1 flex h-10 w-10 items-center justify-center rounded-full bg-[#0057FF] text-white shadow-md",children:(0,b.jsx)(h.ArrowRight,{size:18})})]})]},e.slug)},[n,o,p,q]=g.FEATURED_PROJECTS;return(0,b.jsx)("section",{id:"featured-projects",className:"relative w-full bg-[#F4F5F7] text-[#0b0b0b] py-16 md:py-24",children:(0,b.jsxs)(d.motion.div,{variants:j,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"mx-auto flex max-w-6xl flex-col gap-12 px-6 md:px-10",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 items-end gap-8 md:grid-cols-5",children:[(0,b.jsx)("div",{className:"md:col-span-2",children:n&&(0,b.jsx)(m,{project:n})}),(0,b.jsx)("div",{className:"md:col-span-3",children:o&&(0,b.jsx)(m,{project:o})})]}),(0,b.jsx)("div",{className:"w-full",children:p&&(0,b.jsx)(m,{project:p})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 items-start gap-10 md:grid-cols-5",children:[(0,b.jsx)("div",{className:"md:col-span-3",children:q&&(0,b.jsx)(m,{project:q})}),(0,b.jsxs)("div",{className:"md:col-span-2 flex flex-col items-center justify-center gap-4 rounded-[10px] bg-[#F4F5F7] px-8 py-10 text-center",children:[(0,b.jsxs)("h3",{className:"text-2xl md:text-3xl font-light text-[#111111] leading-tight",children:["Like what",(0,b.jsx)("br",{}),"you see?"]}),(0,b.jsxs)(d.motion.a,{href:"/portfolio",whileHover:{scale:1.05,boxShadow:"0 14px 36px -18px rgba(0,87,255,0.6)"},whileTap:{scale:.97},className:"group inline-flex items-center gap-3 rounded-full bg-[#0057FF] px-6 py-3 text-white text-sm font-semibold shadow-lg shadow-[#0057FF]/25 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-[#0057FF]",children:["view projects",(0,b.jsx)(d.motion.span,{variants:{hover:{x:6,rotate:15},tap:{x:2},initial:{x:0,rotate:0}},initial:"initial",animate:"initial",whileHover:"hover",whileTap:"tap",className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/20 transition-colors duration-300 group-hover:bg-white/80",children:(0,b.jsx)(i.ArrowUpRight,{className:"h-4 w-4 text-white"})})]})]})]})]})})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ac48095c._.js.map