module.exports=[32587,a=>{"use strict";var b=a.i(87924),c=a.i(72131);async function d(){let a=await fetch(`/build-info.json?t=${Date.now()}`,{cache:"no-store"});return a.ok?await a.json():{}}function e(){var a;let[e,f]=c.useState(null),[g,h]=c.useState(null);return c.useEffect(()=>{let a=!0;return d().then(b=>{a&&f(b)}).catch(b=>{a&&h(b instanceof Error?b.message:"Falha ao carregar build-info.json")}),()=>{a=!1}},[]),(0,b.jsxs)("section",{className:"mx-auto max-w-3xl px-4 py-10",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-white",children:"Build / Deploy stamp"}),(0,b.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-white/70",children:"Esta página confirma objetivamente se o Firebase está servindo o build mais recente (sem depender de cache no browser)."}),(0,b.jsx)("div",{className:"mt-6 rounded-2xl border border-white/10 bg-white/5 p-5",children:g?(0,b.jsxs)("div",{className:"text-sm text-red-200",children:[(0,b.jsx)("p",{className:"font-medium",children:"Falha ao carregar build-info.json"}),(0,b.jsx)("p",{className:"mt-1 opacity-80",children:g})]}):e?(0,b.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-xs uppercase tracking-widest text-white/50",children:"buildTime (local)"}),(0,b.jsx)("dd",{className:"mt-1 font-mono text-sm text-white",children:(a=e.buildTimeISO)?new Date(a).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"—"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-xs uppercase tracking-widest text-white/50",children:"buildTime (ISO)"}),(0,b.jsx)("dd",{className:"mt-1 font-mono text-sm text-white",children:e.buildTimeISO??"—"})]}),(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)("dt",{className:"text-xs uppercase tracking-widest text-white/50",children:"git sha"}),(0,b.jsxs)("dd",{className:"mt-1 flex flex-wrap items-center gap-2",children:[(0,b.jsx)("span",{className:"font-mono text-sm text-white",children:e.gitSha??"—"}),e.gitSha?(0,b.jsx)("button",{type:"button",className:"rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-white/80 transition hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30",onClick:async()=>{await navigator.clipboard.writeText(e.gitSha??"")},children:"copiar"}):null]})]})]}):(0,b.jsx)("div",{className:"text-sm text-white/70",children:"Carregando…"})}),(0,b.jsxs)("div",{className:"mt-6 rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-white",children:"Checklist rápido"}),(0,b.jsxs)("ul",{className:"mt-3 list-disc space-y-2 pl-5 text-sm text-white/70",children:[(0,b.jsxs)("li",{children:["O campo ",(0,b.jsx)("span",{className:"font-mono",children:"buildTime"})," deve mudar a cada deploy."]}),(0,b.jsxs)("li",{children:["HTML responde com"," ",(0,b.jsx)("span",{className:"font-mono",children:"Cache-Control: max-age=0, must-revalidate"}),"."]}),(0,b.jsxs)("li",{children:["Assets em ",(0,b.jsx)("span",{className:"font-mono",children:"/_next/static/"})," podem (e devem) ficar em cache longo."]})]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_build_BuildInfoClient_tsx_34b1f1b9._.js.map