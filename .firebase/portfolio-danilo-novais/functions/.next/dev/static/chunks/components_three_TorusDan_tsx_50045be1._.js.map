{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danilonovais/_danilonov_portfolio/components/three/TorusDan.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo, useRef } from 'react';\nimport { Float, MeshTransmissionMaterial, useGLTF } from '@react-three/drei';\nimport { useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\ntype TorusDanProps = {\n  reduceMotion?: boolean;\n  isMobile?: boolean;\n};\n\nconst TorusDan = ({\n  reduceMotion = false,\n  isMobile = false,\n}: TorusDanProps) => {\n  const groupRef = useRef<THREE.Group>(null);\n  const { nodes } = useGLTF('/media/torus_dan.glb');\n  const geometry =\n    (nodes as any).Torus?.geometry ||\n    (nodes as any).Torus002?.geometry ||\n    (nodes as any).Mesh?.geometry;\n\n  if (!geometry) {\n    return null;\n  }\n\n  const materialConfig = useMemo(() => {\n    const common = {\n      ior: 1.25,\n      chromaticAberration: 0.06,\n      backside: true,\n    };\n\n    if (reduceMotion) {\n      return {\n        ...common,\n        transmission: 0.9,\n        roughness: 0.15,\n        thickness: 0.35,\n        samples: 2,\n        resolution: 256,\n      };\n    }\n\n    if (isMobile) {\n      return {\n        ...common,\n        transmission: 1,\n        roughness: 0.08,\n        thickness: 0.45,\n        samples: 4,\n        resolution: 512,\n      };\n    }\n\n    return {\n      ...common,\n      transmission: 1,\n      roughness: 0.05,\n      thickness: 0.55,\n      samples: 12,\n      resolution: 1024,\n    };\n  }, [isMobile, reduceMotion]);\n\n  useFrame((_, delta) => {\n    if (reduceMotion || !groupRef.current) return;\n    groupRef.current.rotation.y += delta * 0.35;\n    groupRef.current.rotation.x = THREE.MathUtils.lerp(\n      groupRef.current.rotation.x,\n      0.15,\n      0.05\n    );\n  });\n\n  const mesh = (\n    // @ts-ignore\n    <mesh geometry={geometry}>\n      {/* Ajuste de material para vidro com tier mobile */}\n      <MeshTransmissionMaterial {...materialConfig} />\n    </mesh>\n  );\n\n  if (reduceMotion) {\n    return (\n      // @ts-ignore\n      <group ref={groupRef} dispose={null} scale={2.8}>\n        {mesh}\n      </group>\n    );\n  }\n\n  return (\n    // @ts-ignore\n    <group ref={groupRef} dispose={null} scale={2.8}>\n      <Float\n        speed={1.4}\n        rotationIntensity={0.2}\n        floatIntensity={0.35}\n        floatingRange={[-0.1, 0.2]}\n      >\n        {mesh}\n      </Float>\n    </group>\n  );\n};\n\nuseGLTF.preload('/media/torus_dan.glb');\n\nexport default TorusDan;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAYA,MAAM,WAAW,CAAC,EAChB,eAAe,KAAK,EACpB,WAAW,KAAK,EACF;;IACd,MAAM,WAAW,IAAA,uKAAM,EAAc;IACrC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,sKAAO,EAAC;IAC1B,MAAM,WACJ,AAAC,MAAc,KAAK,EAAE,YACtB,AAAC,MAAc,QAAQ,EAAE,YACzB,AAAC,MAAc,IAAI,EAAE;IAEvB,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IAEA,MAAM,iBAAiB,IAAA,wKAAO;4CAAC;YAC7B,MAAM,SAAS;gBACb,KAAK;gBACL,qBAAqB;gBACrB,UAAU;YACZ;YAEA,IAAI,cAAc;gBAChB,OAAO;oBACL,GAAG,MAAM;oBACT,cAAc;oBACd,WAAW;oBACX,WAAW;oBACX,SAAS;oBACT,YAAY;gBACd;YACF;YAEA,IAAI,UAAU;gBACZ,OAAO;oBACL,GAAG,MAAM;oBACT,cAAc;oBACd,WAAW;oBACX,WAAW;oBACX,SAAS;oBACT,YAAY;gBACd;YACF;YAEA,OAAO;gBACL,GAAG,MAAM;gBACT,cAAc;gBACd,WAAW;gBACX,WAAW;gBACX,SAAS;gBACT,YAAY;YACd;QACF;2CAAG;QAAC;QAAU;KAAa;IAE3B,IAAA,8NAAQ;6BAAC,CAAC,GAAG;YACX,IAAI,gBAAgB,CAAC,SAAS,OAAO,EAAE;YACvC,SAAS,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,QAAQ;YACvC,SAAS,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,+JAAe,CAAC,IAAI,CAChD,SAAS,OAAO,CAAC,QAAQ,CAAC,CAAC,EAC3B,MACA;QAEJ;;IAEA,MAAM,OACJ,aAAa;kBACb,6LAAC;QAAK,UAAU;kBAEd,cAAA,6LAAC,2MAAwB;YAAE,GAAG,cAAc;;;;;;;;;;;IAIhD,IAAI,cAAc;QAChB,OACE,aAAa;sBACb,6LAAC;YAAM,KAAK;YAAU,SAAS;YAAM,OAAO;sBACzC;;;;;;IAGP;IAEA,OACE,aAAa;kBACb,6LAAC;QAAM,KAAK;QAAU,SAAS;QAAM,OAAO;kBAC1C,cAAA,6LAAC,qKAAK;YACJ,OAAO;YACP,mBAAmB;YACnB,gBAAgB;YAChB,eAAe;gBAAC,CAAC;gBAAK;aAAI;sBAEzB;;;;;;;;;;;AAIT;GA9FM;;QAKc,sKAAO;QAiDzB,8NAAQ;;;KAtDJ;AAgGN,sKAAO,CAAC,OAAO,CAAC;uCAED"}}]
}