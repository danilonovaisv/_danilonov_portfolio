(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],31278)},14317,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(11795);let l=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var s=e.i(37727),i=e.i(31278),o=e.i(57688);function d({value:e,onChange:d,label:c}){let[n,u]=(0,r.useState)(!1),m=(0,t.createClient)(),p=async e=>{try{u(!0);let a=e.target.files?.[0];if(!a)return;let r=a.name.split(".").pop(),t=`${Math.random()}.${r}`,l=`${t}`,{error:s}=await m.storage.from("images").upload(l,a);if(s)throw s;let{data:i}=m.storage.from("images").getPublicUrl(l);d(i.publicUrl)}catch(e){console.error(e),alert("Error uploading image")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-400",children:c}),(0,a.jsx)("div",{className:"relative border-2 border-dashed border-gray-700 rounded-lg p-4 transition-colors hover:border-gray-500 bg-gray-900/50",children:e?(0,a.jsxs)("div",{className:"relative aspect-video w-full max-w-xs bg-gray-900 rounded-lg overflow-hidden border border-gray-700",children:[(0,a.jsx)(o.default,{src:e,alt:"Preview",fill:!0,className:"object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>d(""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors z-10",children:(0,a.jsx)(s.X,{size:16})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center text-gray-500",children:[n?(0,a.jsx)(i.Loader2,{className:"animate-spin mb-2",size:24}):(0,a.jsx)(l,{className:"mb-2",size:24}),(0,a.jsx)("p",{className:"text-sm",children:n?"Uploading...":"Click to upload image"}),(0,a.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:p,accept:"image/*",disabled:n})]})})]})}e.s(["UploadField",()=>d],14317)},77579,e=>{"use strict";var a=e.i(43476),r=e.i(14317),t=e.i(18566);function l(){let e=(0,t.useRouter)();return(0,a.jsxs)("div",{className:"max-w-md",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Upload images directly to the gallery. Usually used for specific assets."}),(0,a.jsx)(r.UploadField,{label:"Upload Image",value:"",onChange:a=>{a&&setTimeout(()=>e.refresh(),500)}})]})}e.s(["MediaUploader",()=>l])}]);